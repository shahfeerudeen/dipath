"use strict";var __defProp=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__getOwnPropNames=Object.getOwnPropertyNames,__hasOwnProp=Object.prototype.hasOwnProperty,__export=(e,t)=>{for(var i in t)__defProp(e,i,{get:t[i],enumerable:!0})},__copyProps=(e,t,i,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of __getOwnPropNames(t))!__hasOwnProp.call(e,s)&&s!==i&&__defProp(e,s,{get:()=>t[s],enumerable:!(a=__getOwnPropDesc(t,s))||a.enumerable});return e},__toCommonJS=e=>__copyProps(__defProp({},"__esModule",{value:!0}),e),__decorateClass=(e,t,i,a)=>{for(var s=a>1?void 0:a?__getOwnPropDesc(t,i):t,o=e.length-1,r;o>=0;o--)(r=e[o])&&(s=(a?r(t,i,s):r(s))||s);return a&&s&&__defProp(t,i,s),s},main_modules_exports={};__export(main_modules_exports,{AllCartesianEnterpriseModules:()=>AllCartesianEnterpriseModules,AllEnterpriseModules:()=>AllEnterpriseModules,AllFlowProportionEnterpriseModules:()=>AllFlowProportionEnterpriseModules,AllGaugeEnterpriseModules:()=>AllGaugeEnterpriseModules,AllHierarchyEnterpriseModules:()=>AllHierarchyEnterpriseModules,AllPolarEnterpriseModules:()=>AllPolarEnterpriseModules,AllStandaloneEnterpriseModules:()=>AllStandaloneEnterpriseModules,AllTopologyEnterpriseModules:()=>AllTopologyEnterpriseModules,AngleCategoryAxisModule:()=>AngleCategoryAxisModule,AngleNumberAxisModule:()=>AngleNumberAxisModule,BoxPlotSeriesModule:()=>BoxPlotSeriesModule,CandlestickSeriesModule:()=>CandlestickSeriesModule,ChordSeriesModule:()=>ChordSeriesModule,ConeFunnelSeriesModule:()=>ConeFunnelSeriesModule,FlowProportionChartModule:()=>FlowProportionChartModule,FunnelSeriesModule:()=>FunnelSeriesModule,GaugeChartModule:()=>GaugeChartModule,HeatmapSeriesModule:()=>HeatmapSeriesModule,HierarchyChartModule:()=>HierarchyChartModule,LinearGaugeSeriesModule:()=>LinearGaugeSeriesModule,MapLineBackgroundSeriesModule:()=>MapLineBackgroundSeriesModule,MapLineSeriesModule:()=>MapLineSeriesModule,MapMarkerSeriesModule:()=>MapMarkerSeriesModule,MapShapeBackgroundSeriesModule:()=>MapShapeBackgroundSeriesModule,MapShapeSeriesModule:()=>MapShapeSeriesModule,ModuleRegistry:()=>ModuleRegistry,NightingaleSeriesModule:()=>NightingaleSeriesModule,OhlcSeriesModule:()=>OhlcSeriesModule,OrdinalTimeAxisModule:()=>OrdinalTimeAxisModule,PyramidSeriesModule:()=>PyramidSeriesModule,RadarAreaSeriesModule:()=>RadarAreaSeriesModule,RadarLineSeriesModule:()=>RadarLineSeriesModule,RadialBarSeriesModule:()=>RadialBarSeriesModule,RadialColumnSeriesModule:()=>RadialColumnSeriesModule,RadialGaugeSeriesModule:()=>RadialGaugeSeriesModule,RadiusCategoryAxisModule:()=>RadiusCategoryAxisModule,RadiusNumberAxisModule:()=>RadiusNumberAxisModule,RangeAreaSeriesModule:()=>RangeAreaSeriesModule,RangeBarSeriesModule:()=>RangeBarSeriesModule,SankeySeriesModule:()=>SankeySeriesModule,StandaloneChartModule:()=>StandaloneChartModule,SunburstSeriesModule:()=>SunburstSeriesModule,TopologyChartModule:()=>TopologyChartModule,TreemapSeriesModule:()=>TreemapSeriesModule,WaterfallSeriesModule:()=>WaterfallSeriesModule}),module.exports=__toCommonJS(main_modules_exports);var import_ag_charts_community171=require("ag-charts-community"),import_ag_charts_community13=require("ag-charts-community"),import_ag_charts_core9=require("ag-charts-core"),import_ag_charts_community5=require("ag-charts-community"),import_ag_charts_core4=require("ag-charts-core");function loopSymmetrically(e,t,i){const a=(o,r,n,l)=>{let c=e[0];for(let h=o;n>0?h<=r:h>r;h+=n){const p=e[h];if(l(c,p))return!0;c=p}return!1},s=Math.floor(e.length/2);return a(t,s,t,i)?!0:a(e.length-t,s,-t,i)}var import_ag_charts_community=require("ag-charts-community"),{AxisInterval,Property}=import_ag_charts_community._ModuleSupport,AngleAxisInterval=class extends AxisInterval{};__decorateClass([Property],AngleAxisInterval.prototype,"minSpacing",2);var import_ag_charts_community4=require("ag-charts-community"),import_ag_charts_core3=require("ag-charts-core"),import_ag_charts_community3=require("ag-charts-community"),import_ag_charts_core2=require("ag-charts-core"),import_ag_charts_community2=require("ag-charts-community"),import_ag_charts_core=require("ag-charts-core"),{BaseProperties,ChartAxisDirection,Property:Property2,Group}=import_ag_charts_community2._ModuleSupport,PolarCrossLineLabel=class extends BaseProperties{constructor(){super(...arguments),this.fontSize=14,this.fontFamily="Verdana, sans-serif",this.padding=5,this.color="rgba(87, 87, 87, 1)"}};__decorateClass([Property2],PolarCrossLineLabel.prototype,"enabled",2),__decorateClass([Property2],PolarCrossLineLabel.prototype,"text",2),__decorateClass([Property2],PolarCrossLineLabel.prototype,"fontStyle",2),__decorateClass([Property2],PolarCrossLineLabel.prototype,"fontWeight",2),__decorateClass([Property2],PolarCrossLineLabel.prototype,"fontSize",2),__decorateClass([Property2],PolarCrossLineLabel.prototype,"fontFamily",2),__decorateClass([Property2],PolarCrossLineLabel.prototype,"padding",2),__decorateClass([Property2],PolarCrossLineLabel.prototype,"color",2),__decorateClass([Property2],PolarCrossLineLabel.prototype,"parallel",2);var PolarCrossLine=class extends BaseProperties{constructor(){super(...arguments),this.id=(0,import_ag_charts_core.createId)(this),this.defaultColorRange=[],this.shape="polygon",this.label=new PolarCrossLineLabel,this.scale=void 0,this.clippedRange=[-1/0,1/0],this.gridLength=0,this.sideFlag=-1,this.parallelFlipRotation=0,this.regularFlipRotation=0,this.direction=ChartAxisDirection.Angle,this.axisInnerRadius=0,this.axisOuterRadius=0,this.lineGroup=new Group({name:this.id}),this.rangeGroup=new Group({name:this.id}),this.labelGroup=new Group({name:this.id}),this._isRange=void 0}assignCrossLineGroup(e,t){e!==this._isRange&&(e?this.rangeGroup.appendChild(t):this.lineGroup.appendChild(t)),this._isRange=e}setSectorNodeProps(e){e.fill=this.fill,e.fillOpacity=this.fillOpacity??1,e.stroke=this.stroke,e.strokeOpacity=this.strokeOpacity??1,e.strokeWidth=this.strokeWidth??1,e.lineDash=this.lineDash}setLabelNodeProps(e,t,i,a,s){const{label:o}=this;e.x=t,e.y=i,e.text=o.text,e.textAlign="center",e.textBaseline=a,e.rotation=s,e.rotationCenterX=t,e.rotationCenterY=i,e.fill=o.color,e.fontFamily=o.fontFamily,e.fontSize=o.fontSize,e.fontStyle=o.fontStyle,e.visible=!0}};__decorateClass([Property2],PolarCrossLine.prototype,"enabled",2),__decorateClass([Property2],PolarCrossLine.prototype,"type",2),__decorateClass([Property2],PolarCrossLine.prototype,"range",2),__decorateClass([Property2],PolarCrossLine.prototype,"value",2),__decorateClass([Property2],PolarCrossLine.prototype,"defaultColorRange",2),__decorateClass([Property2],PolarCrossLine.prototype,"fill",2),__decorateClass([Property2],PolarCrossLine.prototype,"fillOpacity",2),__decorateClass([Property2],PolarCrossLine.prototype,"stroke",2),__decorateClass([Property2],PolarCrossLine.prototype,"strokeWidth",2),__decorateClass([Property2],PolarCrossLine.prototype,"strokeOpacity",2),__decorateClass([Property2],PolarCrossLine.prototype,"lineDash",2),__decorateClass([Property2],PolarCrossLine.prototype,"shape",2),__decorateClass([Property2],PolarCrossLine.prototype,"label",2);var{ChartAxisDirection:ChartAxisDirection2,getCrossLineValue,validateCrossLineValue,normalizeAngle360,Group:Group2,Path,Sector,RotatableText,ContinuousScale}=import_ag_charts_community3._ModuleSupport,AngleCrossLine=class extends PolarCrossLine{constructor(){super(),this.direction=ChartAxisDirection2.Angle,this.polygonNode=new Path,this.sectorNode=new Sector,this.lineNode=new Path,this.crossLineRange=new Group2,this.labelNode=new RotatableText,this.ticks=[],this.crossLineRange.append(this.polygonNode),this.crossLineRange.append(this.sectorNode),this.crossLineRange.append(this.lineNode),this.labelGroup.append(this.labelNode)}visibilityCheck(){if(!ContinuousScale.is(this.scale))return!0;const[e,t]=this.scale.domain,i=getCrossLineValue(this);if((0,import_ag_charts_core2.isArray)(i)){const[a,s]=i;return a>=e&&a<=t&&s>=a&&s<=t}else return i>=e&&i<=t}update(e){const{scale:t}=this;if(!t||!validateCrossLineValue(getCrossLineValue(this),t)||!this.visibilityCheck()){this.rangeGroup.visible=!1,this.lineGroup.visible=!1,this.labelGroup.visible=!1;return}this.rangeGroup.visible=e,this.lineGroup.visible=e,this.labelGroup.visible=e,this.updateLineNode(e),this.updatePolygonNode(e),this.updateSectorNode(e),this.updateLabelNode(e)}updateLineNode(e){const{scale:t,type:i,value:a,lineNode:s}=this;if(!e||i!=="line"||!t){s.visible=!1;return}const o=t.convert(a);if(isNaN(o)){s.visible=!1;return}const{axisInnerRadius:r,axisOuterRadius:n}=this;s.visible=!0,s.stroke=this.stroke,s.strokeOpacity=this.strokeOpacity??1,s.strokeWidth=this.strokeWidth??1,s.fill=void 0,s.lineDash=this.lineDash;const l=n*Math.cos(o),c=n*Math.sin(o),h=r*Math.cos(o),p=r*Math.sin(o);s.path.clear(!0),s.path.moveTo(h,p),s.path.lineTo(l,c),this.assignCrossLineGroup(!1,this.crossLineRange)}updatePolygonNode(e){const{polygonNode:t,range:i,scale:a,shape:s,type:o,ticks:r}=this;if(!e||o!=="range"||s!=="polygon"||!a||!i){t.visible=!1;return}const{axisInnerRadius:n,axisOuterRadius:l}=this,c=r.indexOf(i[0]),h=r.indexOf(i[1]),u=(c<=h?r.slice(c,h+1):r.slice(c).concat(r.slice(0,h+1))).map(f=>a.convert(f));t.visible=!0,this.setSectorNodeProps(t);const{path:d}=t;d.clear(!0),u.forEach((f,g)=>{const y=l*Math.cos(f),m=l*Math.sin(f);g===0?d.moveTo(y,m):d.lineTo(y,m)}),n===0?d.lineTo(0,0):u.slice().reverse().forEach(f=>{const g=n*Math.cos(f),y=n*Math.sin(f);d.lineTo(g,y)}),t.path.closePath(),this.assignCrossLineGroup(!0,this.crossLineRange)}updateSectorNode(e){const{sectorNode:t,range:i,scale:a,shape:s,type:o}=this;if(!e||o!=="range"||s!=="circle"||!a||!i){t.visible=!1;return}const{axisInnerRadius:r,axisOuterRadius:n}=this,l=i.map(p=>a.convert(p)),c=a.step??0,h=a instanceof import_ag_charts_community3._ModuleSupport.BandScale?c/2:0;t.visible=!0,this.setSectorNodeProps(t),t.centerX=0,t.centerY=0,t.innerRadius=r,t.outerRadius=n,t.startAngle=l[0]-h,t.endAngle=l[1]+h,this.assignCrossLineGroup(!0,this.crossLineRange)}updateLabelNode(e){const{label:t,labelNode:i,range:a,scale:s,type:o,ticks:r}=this;if(!e||t.enabled===!1||!t.text||!s||o==="range"&&!a){i.visible=!1;return}i.visible=!0;const{axisInnerRadius:n,axisOuterRadius:l}=this;let c,h,p,u;if(o==="line"){const d=normalizeAngle360(s.convert(this.value)),f=1.5*Math.PI,g=(0,import_ag_charts_core2.isNumberEqual)(d,f)||d>f||d<Math.PI/2,y=(n+l)/2*Math.cos(d),m=(n+l)/2*Math.sin(d);c=y+t.padding*Math.cos(d+Math.PI/2),h=m+t.padding*Math.sin(d+Math.PI/2),u=g?"top":"bottom",p=g?d:d-Math.PI}else{const[d,f]=a.map(x=>normalizeAngle360(s.convert(x)));let g=(d+f)/2;d>f&&(g-=Math.PI),g=normalizeAngle360(g);const y=((0,import_ag_charts_core2.isNumberEqual)(g,0)||g>0)&&g<Math.PI;let m;this.shape==="circle"||r.length<3?m=l-t.padding:m=l*Math.cos(Math.PI/r.length)-t.padding,c=m*Math.cos(g),h=m*Math.sin(g),u=y?"bottom":"top",p=y?g-Math.PI/2:g+Math.PI/2}this.setLabelNodeProps(i,c,h,u,p)}};AngleCrossLine.className="AngleCrossLine";var{ChartAxisDirection:ChartAxisDirection3,TextWrapper,TextUtils,Property:Property3,toRadians,normalizeAngle360:normalizeAngle3602,normalizeAngle360Inclusive,Path:Path2,RotatableText:RotatableText2,Transformable,BBox,Selection,Line}=import_ag_charts_community4._ModuleSupport,AngleAxisLabel=class extends import_ag_charts_community4._ModuleSupport.AxisLabel{constructor(){super(...arguments),this.orientation="fixed"}};__decorateClass([Property3],AngleAxisLabel.prototype,"orientation",2);var AngleAxis=class extends import_ag_charts_community4._ModuleSupport.PolarAxis{constructor(e,t){super(e,t),this.startAngle=0,this.endAngle=void 0,this.tickLineGroupSelection=Selection.select(this.tickLineGroup,Line,!1),this.gridLineGroupSelection=Selection.select(this.gridLineGroup,Line,!1),this.labelData=[],this.tickData=[],this.radiusLineGroup=this.axisGroup.appendChild(new import_ag_charts_community4._ModuleSupport.TransformableGroup),this.radiusLine=this.radiusLineGroup.appendChild(new Path2),this.includeInvisibleDomains=!0}get direction(){return ChartAxisDirection3.Angle}createLabel(){return new AngleAxisLabel}calculateRotations(){const e=toRadians(this.startAngle),t=normalizeAngle3602(e),i=normalizeAngle3602(e-Math.PI/2);return{rotation:e,parallelFlipRotation:t,regularFlipRotation:i}}calculateTickLayout(e){const{nice:t,scale:i}=this,a={nice:t,interval:void 0,tickCount:void 0,minTickCount:0,maxTickCount:1/0},s=t?i.niceDomain(a,e):e,o=this.generateAngleTicks(s);this.tickData=o;const r=o.map(l=>l.value),n=r.reduce((l,c)=>Math.max(typeof c=="number"?(0,import_ag_charts_core3.countFractionDigits)(c):0,l),0);return{niceDomain:s,tickDomain:s,ticks:r,rawTickCount:void 0,fractionDigits:n,timeInterval:void 0,bbox:this.getBBox()}}update(){super.update(),this.updateRadiusLine(),this.updateGridLines(),this.updateTickLines()}normalizedAngles(){const e=normalizeAngle3602(-Math.PI/2+toRadians(this.startAngle)),t=this.endAngle!=null?normalizeAngle360Inclusive(toRadians(this.endAngle)-toRadians(this.startAngle)):2*Math.PI,i=e+t;return[e,i]}computeRange(){this.range=this.normalizedAngles()}updateSelections(){const e=this.tickData;this.gridLineGroupSelection.update(this.gridLength&&this.gridLine.enabled?e:[]),this.tickLineGroupSelection.update(this.tick.enabled?e:[]),this.tickLabelGroupSelection.update(this.label.enabled?e:[]),this.gridLineGroupSelection.cleanup(),this.tickLineGroupSelection.cleanup(),this.tickLabelGroupSelection.cleanup()}updatePosition(){super.updatePosition();const{translation:e,radiusLineGroup:t}=this,i=Math.floor(e.x),a=Math.floor(e.y);t.translationX=i,t.translationY=a}updateRadiusLine(){const e=this.radiusLine,{path:t}=e;t.clear(!0);const{points:i,closePath:a}=this.getAxisLinePoints();i.forEach(({x:s,y:o,moveTo:r,arc:n,radius:l=0,startAngle:c=0,endAngle:h=0})=>{n?t.arc(s,o,l,c,h):r?t.moveTo(s,o):t.lineTo(s,o)}),a&&t.closePath(),e.visible=this.line.enabled,e.stroke=this.line.stroke,e.strokeWidth=this.line.width,e.fill=void 0}getAxisLinePoints(){const{scale:e,shape:t,gridLength:i}=this,[a,s]=this.range,o=(0,import_ag_charts_core3.isNumberEqual)(s-a,2*Math.PI),r=[];if(t==="circle")o?r.push({x:i,y:0,moveTo:!0},{x:0,y:0,radius:i,startAngle:0,endAngle:2*Math.PI,arc:!0,moveTo:!1}):r.push({x:i*Math.cos(a),y:i*Math.sin(a),moveTo:!0},{x:0,y:0,radius:i,startAngle:normalizeAngle3602(a),endAngle:normalizeAngle3602(s),arc:!0,moveTo:!1});else if(t==="polygon"){const n=e.ticks({nice:this.nice,interval:void 0,tickCount:void 0,minTickCount:0,maxTickCount:1/0})?.ticks?.map(l=>e.convert(l));n&&n.length>2&&n.forEach((l,c)=>{const h=i*Math.cos(l),p=i*Math.sin(l),u=c===0;r.push({x:h,y:p,moveTo:u})})}return{points:r,closePath:o}}updateGridLines(){const{scale:e,gridLength:t,gridLine:{style:i,width:a},innerRadiusRatio:s}=this;if(!(i&&t>0))return;const o=t*s,r=i.length;this.gridLineGroupSelection.each((n,l,c)=>{const{value:h}=l,{stroke:p,lineDash:u}=i[c%r],d=e.convert(h);n.x1=o*Math.cos(d),n.y1=o*Math.sin(d),n.x2=t*Math.cos(d),n.y2=t*Math.sin(d),n.stroke=p,n.strokeWidth=a,n.lineDash=u,n.fill=void 0}),this.gridLineGroupSelection.cleanup()}updateLabels(){const{label:e,tickLabelGroupSelection:t}=this;t.each((i,a,s)=>{const o=this.labelData[s];if(!o||o.hidden){i.visible=!1;return}i.text=o.text,i.setFont(e),i.fill=e.color,i.x=o.x,i.y=o.y,i.textAlign=o.textAlign,i.textBaseline=o.textBaseline,i.visible=!0,o.rotation?(i.rotation=o.rotation,i.rotationCenterX=o.x,i.rotationCenterY=o.y):i.rotation=0})}updateTickLines(){const{scale:e,gridLength:t,tick:i,tickLineGroupSelection:a}=this;a.each((s,o)=>{const{value:r}=o,n=e.convert(r),l=Math.cos(n),c=Math.sin(n);s.x1=t*l,s.y1=t*c,s.x2=(t+i.size)*l,s.y2=(t+i.size)*c,s.stroke=i.stroke,s.strokeWidth=i.width})}createLabelNodeData(e,t,i){const{label:a,gridLength:s,scale:o,tick:r}=this;if(!a.enabled)return[];const n=new RotatableText2,l=i.x-this.translation.x,c=i.x+i.width-this.translation.x,h=e.map((p,u)=>{const{value:d}=p,f=s+a.spacing+r.size,g=o.convert(d),y=Math.cos(g),m=Math.sin(g),x=f*y,S=f*m,{textAlign:D,textBaseline:M}=this.getLabelAlign(g),N=u===e.length-1&&d!==e[0]&&(0,import_ag_charts_core3.isNumberEqual)(normalizeAngle3602(g),normalizeAngle3602(o.convert(e[0]))),v=this.getLabelRotation(g);let b=this.formatTick(d,u,o.domain);n.text=b,n.x=x,n.y=S,n.setFont(a),n.textAlign=D,n.textBaseline=M,n.rotation=v,v&&(n.rotationCenterX=x,n.rotationCenterY=S);let I=v?Transformable.toCanvas(n):n.getBBox();if(I&&t.hideWhenNecessary&&!v){const k=l-I.x,P=I.x+I.width-c,_=1;if(k>_||P>_){const A=I.width-Math.max(k,P);b=TextWrapper.wrapText(b,{maxWidth:A,font:a,textWrap:"never"}),b===TextUtils.EllipsisChar&&(b=""),n.text=b,I=n.getBBox()}}return{text:b,x,y:S,textAlign:D,textBaseline:M,hidden:b===""||p.hidden||N,rotation:v,box:I}});return a.avoidCollisions&&this.avoidLabelCollisions(h),h}computeLabelsBBox(e,t){this.labelData=this.createLabelNodeData(this.tickData,e,t);const i=this.labelData.map(({box:a})=>a).filter(a=>a!=null);return!this.label.enabled||i.length===0?null:BBox.merge(i)}getLabelOrientation(){const{label:e}=this;return e instanceof AngleAxisLabel?e.orientation:"fixed"}getLabelRotation(e){let t=toRadians(this.label.rotation??0);e=normalizeAngle3602(e);const i=this.getLabelOrientation();return i==="parallel"?(t+=e,e>=0&&e<Math.PI?t-=Math.PI/2:t+=Math.PI/2):i==="perpendicular"&&(t+=e,e>=Math.PI/2&&e<1.5*Math.PI&&(t+=Math.PI)),t}getLabelAlign(e){const t=Math.cos(e),i=Math.sin(e);let a,s;const o=this.getLabelOrientation(),r=(0,import_ag_charts_core3.isNumberEqual)(t,0),n=(0,import_ag_charts_core3.isNumberEqual)(i,0),l=(0,import_ag_charts_core3.isNumberEqual)(t,1),c=(0,import_ag_charts_core3.isNumberEqual)(i,-1),h=t>0&&!r,p=i>0&&!n;return o==="parallel"?(a="center",s=l&&n||p?"top":"bottom"):o==="perpendicular"?(a=c||h?"left":"right",s="middle"):(a="right",r?a="center":h&&(a="left"),s="bottom",n?s="middle":p&&(s="top")),{textAlign:a,textBaseline:s}}updateCrossLines(){const{shape:e,gridLength:t,innerRadiusRatio:i}=this;this.crossLines.forEach(a=>{a instanceof AngleCrossLine&&(a.ticks=this.tickData.map(s=>s.value),a.shape=e,a.axisOuterRadius=t,a.axisInnerRadius=t*i)}),super.updateCrossLines()}};AngleAxis.CrossLineConstructor=AngleCrossLine,__decorateClass([Property3],AngleAxis.prototype,"startAngle",2),__decorateClass([Property3],AngleAxis.prototype,"endAngle",2);var{Property:Property4,CategoryScale}=import_ag_charts_community5._ModuleSupport,AngleCategoryAxis=class extends AngleAxis{constructor(e){super(e,new CategoryScale),this.groupPaddingInner=0,this.paddingInner=0,this.interval=new AngleAxisInterval}generateAngleTicks(){const{scale:e,gridLength:t}=this,{values:i,minSpacing:a}=this.interval,s=i??e.ticks({nice:this.nice,interval:void 0,tickCount:void 0,minTickCount:0,maxTickCount:1/0})?.ticks??[];if(s.length<2||a==null)return s.map(c=>({value:c,visible:!0}));const o=s[0],r=e.convert(o),n=t*Math.cos(r),l=t*Math.sin(r);for(let c=1;c<s.length-1;c++){const h=s[c],p=e.convert(h);if(p-r>Math.PI)break;const u=t*Math.cos(p),d=t*Math.sin(p);if(Math.sqrt((u-n)**2+(d-l)**2)>a){const g=new Set([o]);return loopSymmetrically(s,c,(y,m)=>{g.add(m)}),s.map(y=>{const m=g.has(y);return{value:y,visible:m}})}}return[{value:o,visible:!0}]}avoidLabelCollisions(e){const{minSpacing:t}=this.label;if(e.length<3)return;const i=(l,c)=>{if(l.hidden||c.hidden)return!1;if(t==null)return l.box.collidesBBox(c.box);const h=l.box.clone().grow(t/2),p=c.box.clone().grow(t/2);return h.collidesBBox(p)},a=e[0],s=e.at(-1),o=new Set([a]),r=(0,import_ag_charts_core4.isNumberEqual)(a.x,s.x)&&(0,import_ag_charts_core4.isNumberEqual)(a.y,s.y),n=Math.floor(e.length/2);for(let l=1;l<=n;l++){const c=r?e.slice(0,-1):e;if(!loopSymmetrically(c,l,i)){loopSymmetrically(c,l,(p,u)=>{o.add(u)});break}}e.forEach(l=>{o.has(l)||(l.hidden=!0,l.box=void 0)})}};AngleCategoryAxis.className="AngleCategoryAxis",AngleCategoryAxis.type="angle-category",__decorateClass([Property4],AngleCategoryAxis.prototype,"groupPaddingInner",2),__decorateClass([Property4],AngleCategoryAxis.prototype,"paddingInner",2),__decorateClass([Property4],AngleCategoryAxis.prototype,"interval",2);var import_ag_charts_community7=require("ag-charts-community"),import_ag_charts_core6=require("ag-charts-core"),import_ag_charts_community6=require("ag-charts-community"),import_ag_charts_core5=require("ag-charts-core"),{range,isDenseInterval,LinearScale}=import_ag_charts_community6._ModuleSupport,LinearAngleScale=class pe extends LinearScale{constructor(){super(...arguments),this.arcLength=0}static getNiceStepAndTickCount(t,i){const[a,s]=i;let o=LinearScale.getTickStep(a,s,t);const r=isNaN(t.maxTickCount)?1/0:t.maxTickCount,n=Math.abs(s-a)/o;let l=Math.pow(2,Math.ceil(Math.log(n)/Math.log(2)));return l>r&&(l/=2,o*=2),{count:l,step:o}}ticks(t,i=this.domain){const{arcLength:a}=this;if(!i||i.length<2||i.some(c=>!isFinite(c))||a<=0)return{ticks:[],count:0};const{nice:s,interval:o}=t,[r,n]=i;if(o){const c=Math.abs(o),h=this.getPixelRange();if(!isDenseInterval((n-r)/c,h))return range(r,n,c)}let l;if(s&&this.hasNiceRange()){const c=super.niceDomain(t,i);l=pe.getNiceStepAndTickCount(t,c).step}else l=LinearScale.getTickStep(r,n,t);return range(r,n,l)}hasNiceRange(){const t=this.range.slice().sort((a,s)=>a-s);return[Math.PI,2*Math.PI].some(a=>(0,import_ag_charts_core5.isNumberEqual)(a,t[1]-t[0]))}niceDomain(t,i=this.domain){const a=super.niceDomain(t,i);if(!this.hasNiceRange())return a;const s=a[0]>a[1],o=s?a[1]:a[0],{step:r,count:n}=pe.getNiceStepAndTickCount(t,a),l=1/r,c=r>=1?Math.ceil(o/r+n)*r:Math.ceil((o+n*r)*l)/l;return s?[c,o]:[o,c]}getPixelRange(){return this.arcLength}},{Property:Property5,angleBetween,normalisedExtentWithMetadata,findMinMax}=import_ag_charts_community7._ModuleSupport,AngleNumberAxis=class extends AngleAxis{constructor(e){super(e,new LinearAngleScale),this.shape="circle",this.interval=new AngleAxisInterval}normaliseDataDomain(e){const{min:t,max:i}=this,{extent:a,clipped:s}=normalisedExtentWithMetadata(e,t,i);return{domain:a,clipped:s}}updateScale(){super.updateScale(),this.scale.arcLength=this.getRangeArcLength()}getRangeArcLength(){const{range:e}=this,t=Math.min(...e),i=Math.max(...e),a=angleBetween(t,i)||2*Math.PI,s=this.gridLength;return a*s}generateAngleTicks(e){const{scale:t,range:i,nice:a}=this,{values:s,step:o,minSpacing:r,maxSpacing:n}=this.interval;let l;if(s==null){const{arcLength:c}=t,h=n?Math.floor(c/n):1,p=r?Math.floor(c/r):1/0,u=Math.floor(4/Math.PI*Math.abs(i[0]-i[1])),d=Math.max(h,Math.min(p,u)),f={nice:a,interval:o,tickCount:d,minTickCount:h,maxTickCount:p};l=t.ticks(f,e)?.ticks??[]}else{const[c,h]=findMinMax(e.map(Number));l=s.filter(p=>p>=c&&p<=h).sort((p,u)=>p-u)}return l.map(c=>({value:c,visible:!0}))}avoidLabelCollisions(e){const{minSpacing:t}=this.label,i=(o,r)=>{if(o.hidden||r.hidden)return!1;if(t==null)return o.box.collidesBBox(r.box);const n=o.box.clone().grow(t/2),l=r.box.clone().grow(t/2);return n.collidesBBox(l)},a=e[0],s=e.at(-1);a!==s&&(0,import_ag_charts_core6.isNumberEqual)(a.x,s.x)&&(0,import_ag_charts_core6.isNumberEqual)(a.y,s.y)&&(s.hidden=!0);for(let o=1;o<e.length;o*=2){let r=!1;for(let n=o;n<e.length;n+=o){const l=e[n],c=e[n-o];if(i(c,l)){r=!0;break}}if(!r){e.forEach((n,l)=>{l%o>0&&(n.hidden=!0,n.box=void 0)});return}}e.forEach((o,r)=>{r>0&&(o.hidden=!0,o.box=void 0)})}};AngleNumberAxis.className="AngleNumberAxis",AngleNumberAxis.type="angle-number",__decorateClass([Property5],AngleNumberAxis.prototype,"min",2),__decorateClass([Property5],AngleNumberAxis.prototype,"max",2),__decorateClass([Property5],AngleNumberAxis.prototype,"interval",2);var import_ag_charts_community8=require("ag-charts-community"),{OrdinalTimeScale,Property:Property6,TimeAxisParentLevel}=import_ag_charts_community8._ModuleSupport,OrdinalTimeAxis=class extends import_ag_charts_community8._ModuleSupport.CategoryAxis{constructor(e){super(e,new OrdinalTimeScale),this.parentLevel=new TimeAxisParentLevel}get primaryLabel(){return this.parentLevel.enabled?this.parentLevel.label:void 0}get primaryTick(){return this.parentLevel.enabled?this.parentLevel.tick:void 0}};OrdinalTimeAxis.className="OrdinalTimeAxis",OrdinalTimeAxis.type="ordinal-time",__decorateClass([Property6],OrdinalTimeAxis.prototype,"parentLevel",2);var import_ag_charts_community11=require("ag-charts-community"),import_ag_charts_community10=require("ag-charts-community"),import_ag_charts_core8=require("ag-charts-core"),import_ag_charts_community9=require("ag-charts-community"),import_ag_charts_core7=require("ag-charts-core"),{ChartAxisDirection:ChartAxisDirection4,Property:Property7,getCrossLineValue:getCrossLineValue2,validateCrossLineValue:validateCrossLineValue2,normalizeAngle360FromDegrees,Group:Group3,Path:Path3,Sector:Sector2,RotatableText:RotatableText3}=import_ag_charts_community9._ModuleSupport,RadiusCrossLineLabel=class extends PolarCrossLineLabel{constructor(){super(...arguments),this.positionAngle=void 0}};__decorateClass([Property7],RadiusCrossLineLabel.prototype,"positionAngle",2);var RadiusCrossLine=class extends PolarCrossLine{constructor(){super(),this.direction=ChartAxisDirection4.Radius,this.label=new RadiusCrossLineLabel,this.polygonNode=new Path3,this.sectorNode=new Sector2,this.crossLineRange=new Group3,this.labelNode=new RotatableText3,this.outerRadius=0,this.innerRadius=0,this.crossLineRange.append(this.polygonNode),this.crossLineRange.append(this.sectorNode),this.labelGroup.append(this.labelNode)}update(e){const{scale:t}=this;if(!t||!validateCrossLineValue2(getCrossLineValue2(this),t)){this.rangeGroup.visible=!1,this.lineGroup.visible=!1,this.labelGroup.visible=!1;return}this.updateRadii();const{innerRadius:i,outerRadius:a}=this;e&&(e=i>=this.axisInnerRadius&&a<=this.axisOuterRadius),this.rangeGroup.visible=e,this.lineGroup.visible=e,this.labelGroup.visible=e,this.updatePolygonNode(e),this.updateSectorNode(e),this.updateLabelNode(e),this.assignCrossLineGroup(this.type==="range",this.crossLineRange)}updateRadii(){const{range:e,scale:t,type:i,axisInnerRadius:a,axisOuterRadius:s}=this;if(!t)return{innerRadius:0,outerRadius:0};const o=l=>s+a-l;let r,n;if(i==="line")r=o(t.convert(this.value)),n=r;else{const l=Math.abs(t?.bandwidth??0),c=e.map(h=>t.convert(h));r=o(Math.max(...c)),n=o(Math.min(...c))+l}this.outerRadius=r,this.innerRadius=n}drawPolygon(e,t,i){t.forEach((a,s)=>{const o=e*Math.cos(a),r=e*Math.sin(a);s===0?i.path.moveTo(o,r):i.path.lineTo(o,r)}),i.path.closePath()}updatePolygonNode(e){const{gridAngles:t,polygonNode:i,scale:a,shape:s,type:o,innerRadius:r,outerRadius:n}=this;if(!e||s!=="polygon"||!a||!t){i.visible=!1;return}i.visible=!0;const l=this.getPadding();i.path.clear(!0),this.drawPolygon(n-l,t,i);const c=t.slice().reverse(),h=o==="line"?n-l:r+l;this.drawPolygon(h,c,i),this.setSectorNodeProps(i)}updateSectorNode(e){const{axisInnerRadius:t,axisOuterRadius:i,scale:a,sectorNode:s,shape:o,innerRadius:r,outerRadius:n}=this;if(!e||o!=="circle"||!a){s.visible=!1;return}s.visible=!0,s.startAngle=0,s.endAngle=2*Math.PI;const l=this.getPadding(),c=(0,import_ag_charts_core7.clamp)(t,r+l,i),h=(0,import_ag_charts_core7.clamp)(t,n-l,i);s.innerRadius=Math.min(c,h),s.outerRadius=Math.max(c,h),this.setSectorNodeProps(s)}updateLabelNode(e){const{innerRadius:t,label:i,labelNode:a,scale:s,shape:o,type:r}=this;if(!e||i.enabled===!1||!i.text||!s){a.visible=!1;return}const n=normalizeAngle360FromDegrees((i.positionAngle??0)-90),l=((0,import_ag_charts_core7.isNumberEqual)(n,0)||n>0)&&n<Math.PI,c=l?n-Math.PI/2:n+Math.PI/2;let h;const p=this.gridAngles??[];r==="line"?h=t+i.padding:o==="circle"||p.length<3?h=t-i.padding:h=t*Math.cos(Math.PI/p.length)-i.padding;const u=h*Math.cos(n),d=h*Math.sin(n);let f;r==="line"?f=l?"top":"bottom":f=l?"bottom":"top",this.setLabelNodeProps(a,u,d,f,c)}getPadding(){const{scale:e}=this;if(!e)return 0;const t=Math.abs(e.bandwidth??0),i=Math.abs(e.step??0);return e instanceof import_ag_charts_community9._ModuleSupport.BandScale?(i-t)/2:0}};RadiusCrossLine.className="RadiusCrossLine";var{ChartAxisDirection:ChartAxisDirection5,ZIndexMap,Property:Property8,normalizeAngle360:normalizeAngle3603,toRadians:toRadians2,Caption,Group:Group4,TransformableGroup,Path:Path4,Line:Line2,Selection:Selection2,AxisTickGenerator,AxisGroupZIndexMap}=import_ag_charts_community10._ModuleSupport,RadiusAxisLabel=class extends import_ag_charts_community10._ModuleSupport.AxisLabel{constructor(){super(...arguments),this.autoRotateAngle=335}};__decorateClass([Property8],RadiusAxisLabel.prototype,"autoRotate",2),__decorateClass([Property8],RadiusAxisLabel.prototype,"autoRotateAngle",2);var RadiusAxis=class extends import_ag_charts_community10._ModuleSupport.PolarAxis{constructor(e,t){super(e,t),this.positionAngle=0,this.gridLineGroupSelection=Selection2.select(this.gridLineGroup,Line2,!1),this.tickGenerator=new AxisTickGenerator(this),this.generatedTicks=void 0,this.headingLabelGroup=this.axisGroup.appendChild(new TransformableGroup({name:`${this.id}-Axis-heading`})),this.lineNodeGroup=this.axisGroup.appendChild(new TransformableGroup({name:`${this.id}-Axis-line`})),this.lineNode=this.lineNodeGroup.appendChild(new Line2({name:`${this.id}-Axis-line`,zIndex:AxisGroupZIndexMap.AxisLine})),this.gridPathGroup=this.gridGroup.appendChild(new Group4({name:`${this.id}-gridPaths`,zIndex:ZIndexMap.AXIS_GRID})),this.gridPathSelection=Selection2.select(this.gridPathGroup,Path4),this.headingLabelGroup.appendChild(this.title.caption.node),this.destroyFns.push(this.title.caption.registerInteraction(this.moduleCtx,"afterend"))}get direction(){return ChartAxisDirection5.Radius}getAxisTransform(){const e=this.scale.range[0],{translation:t,positionAngle:i,innerRadiusRatio:a}=this,s=e*a,o=toRadians2(i);return{translationX:t.x,translationY:t.y-e-s,rotation:o,rotationCenterX:0,rotationCenterY:e+s}}update(){super.update(),this.updateTitle(),this.updateGridLines();const{enabled:e,stroke:t,width:i}=this.line;this.lineNode.setProperties({stroke:t,strokeWidth:e?i:0,x1:0,y1:this.range[0],x2:0,y2:this.range[1]})}updatePosition(){super.updatePosition();const e=this.getAxisTransform();this.tickLineGroup.setProperties(e),this.tickLabelGroup.setProperties(e),this.lineNodeGroup.setProperties(e),this.headingLabelGroup.setProperties(e)}calculateRotations(){return{rotation:0,parallelFlipRotation:0,regularFlipRotation:-Math.PI/2}}calculateTickLayout(e,t,i){const s=-Math.PI/2,o=[0,1],r=this.label.getSideFlag(),n=r*(this.getTickSize()+this.label.spacing+this.seriesAreaPadding),l=this.tickGenerator.generateTicks({domain:e,niceMode:t,visibleRange:o,primaryTickCount:void 0,parallelFlipRotation:0,regularFlipRotation:s,labelX:n,sideFlag:r,removeOverflowLabels:!1}),{tickData:c}=l,{ticks:h,rawTicks:p,rawTickCount:u,tickDomain:d,fractionDigits:f,niceDomain:g=e}=c,y=h.map(m=>this.getTickLabelProps(m,l));return this.generatedTicks={ticks:h,labels:y},{ticks:p,tickDomain:d,niceDomain:g,rawTickCount:u,fractionDigits:f,timeInterval:void 0}}updateSelections(){const{generatedTicks:e}=this;if(!e)return;const{ticks:t,labels:i}=e;this.gridLineGroupSelection.update(this.gridLength?t:[]),this.tickLabelGroupSelection.update(i),this.gridPathSelection.update(this.gridLine.enabled?this.prepareGridPathTickData(t):[]),this.gridLineGroupSelection.cleanup(),this.tickLabelGroupSelection.cleanup(),this.gridPathSelection.cleanup()}updateLabels(){if(!this.label.enabled)return;const e=import_ag_charts_community10._ModuleSupport.resetAxisLabelSelectionFn();this.tickLabelGroupSelection.each((t,i)=>{t.fill=i.fill,t.fontFamily=i.fontFamily,t.fontSize=i.fontSize,t.fontStyle=i.fontStyle,t.fontWeight=i.fontWeight,t.text=i.text,t.textBaseline=i.textBaseline,t.textAlign=i.textAlign??"center",t.setProperties(e(t,i))})}updateGridLines(){const{gridLine:{style:e,width:t},shape:i,generatedTicks:a}=this;if(!e||!a)return;const s=e.length,o=(u,d)=>{const{stroke:f,lineDash:g}=e[d%s];u.stroke=f,u.strokeWidth=t,u.lineDash=g,u.fill=void 0},[r,n]=this.gridRange??[0,2*Math.PI],l=(0,import_ag_charts_core8.isNumberEqual)(n-r,2*Math.PI),p=i==="circle"?(u,d)=>{const{path:f}=u;f.clear(!0);const g=this.getTickRadius(d);l?(f.moveTo(g,0),f.arc(0,0,g,0,2*Math.PI)):(f.moveTo(g*Math.cos(r),g*Math.sin(r)),f.arc(0,0,g,normalizeAngle3603(r),normalizeAngle3603(n))),l&&f.closePath()}:(u,d)=>{const{path:f}=u,g=this.gridAngles;if(f.clear(!0),!g||g.length<3)return;const y=this.getTickRadius(d);g.forEach((m,x)=>{const S=y*Math.cos(m),D=y*Math.sin(m);x===0?f.moveTo(S,D):f.lineTo(S,D),g.forEach((M,N)=>{const v=y*Math.cos(M),b=y*Math.sin(M);N===0?f.moveTo(v,b):f.lineTo(v,b)}),f.closePath()}),f.closePath()};this.gridPathSelection.each((u,d,f)=>{o(u,f),p(u,d)})}updateTitle(){const e=r=>r.defaultValue,{title:t,range:i}=this,{formatter:a=e}=this.title;t.caption.enabled=t.enabled,t.caption.fontFamily=t.fontFamily,t.caption.fontSize=t.fontSize,t.caption.fontStyle=t.fontStyle,t.caption.fontWeight=t.fontWeight,t.caption.color=t.color,t.caption.wrapping=t.wrapping;let s=!1;const o=t.caption.node;t.enabled&&(s=!0,o.rotation=Math.PI/2,o.x=Math.floor((i[0]+i[1])/2),o.y=-Caption.SMALL_PADDING,o.textAlign="center",o.textBaseline="bottom",o.text=this.callWithContext(a,this.getTitleFormatterParams(this.scale.domain))),o.visible=s}updateCrossLines(){this.crossLines.forEach(e=>{if(e instanceof RadiusCrossLine){const{shape:t,gridAngles:i,range:a,innerRadiusRatio:s}=this,o=a[0];e.shape=t,e.gridAngles=i,e.axisOuterRadius=o,e.axisInnerRadius=o*s}}),super.updateCrossLines()}createLabel(){return new RadiusAxisLabel}getTickLabelProps(e,t){const{label:i}=this,{rotation:a,textBaseline:s,textAlign:o}=t,r=this.scale.range,n=e.tickLabel??"",c=i.getSideFlag()*(this.getTickSize()+i.spacing+this.seriesAreaPadding),h=n!==""&&n!=null,p=a;return{...this.getLabelStyles({value:e.tickLabel}),tickId:e.tickId,rotation:p,text:n,textAlign:o,textBaseline:s,visible:h,x:c,y:e.translationY,rotationCenterX:c,rotationCenterY:e.translationY,range:r}}};RadiusAxis.CrossLineConstructor=RadiusCrossLine,__decorateClass([Property8],RadiusAxis.prototype,"positionAngle",2);var{ProxyPropertyOnWrite,Property:Property9,CategoryScale:CategoryScale2}=import_ag_charts_community11._ModuleSupport,RadiusCategoryAxis=class extends RadiusAxis{constructor(e){super(e,new CategoryScale2),this.shape="circle",this.groupPaddingInner=0,this.paddingInner=0,this.paddingOuter=0}normaliseDataDomain(e){return{domain:e,clipped:!1}}prepareGridPathTickData(e){return e.slice().reverse()}getTickRadius(e){const{scale:t,innerRadiusRatio:i}=this,a=t.range[0],s=a*i;if(CategoryScale2.is(t)){const o=t.domain,r=o.length-1-o.indexOf(e.tick);return r===0?s:t.inset+t.step*(r-.5)+t.bandwidth/2}else{const o=(a-s)/t.domain.length;return a-e.translationY+s-o/2}}};RadiusCategoryAxis.className="RadiusCategoryAxis",RadiusCategoryAxis.type="radius-category",__decorateClass([Property9],RadiusCategoryAxis.prototype,"groupPaddingInner",2),__decorateClass([ProxyPropertyOnWrite("scale","paddingInner"),Property9],RadiusCategoryAxis.prototype,"paddingInner",2),__decorateClass([ProxyPropertyOnWrite("scale","paddingOuter"),Property9],RadiusCategoryAxis.prototype,"paddingOuter",2);var import_ag_charts_community12=require("ag-charts-community"),{Property:Property10,normalisedExtentWithMetadata:normalisedExtentWithMetadata2,LinearScale:LinearScale2}=import_ag_charts_community12._ModuleSupport,RadiusNumberAxis=class extends RadiusAxis{constructor(e){super(e,new LinearScale2),this.shape="polygon"}prepareGridPathTickData(e){const{scale:t}=this,i=t.domain[1];return e.filter(({tick:a})=>a!==i).sort((a,s)=>s.tick-a.tick)}getTickRadius(e){const{scale:t}=this,i=t.range[0],a=i*this.innerRadiusRatio;return i-e.translationY+a}normaliseDataDomain(e){const{min:t,max:i}=this,{extent:a,clipped:s}=normalisedExtentWithMetadata2(e,t,i);return{domain:a,clipped:s}}};RadiusNumberAxis.className="RadiusNumberAxis",RadiusNumberAxis.type="radius-number",__decorateClass([Property10],RadiusNumberAxis.prototype,"min",2),__decorateClass([Property10],RadiusNumberAxis.prototype,"max",2);var{ordinalTimeAxisOptionsDefs,angleNumberAxisOptionsDefs,angleCategoryAxisOptionsDefs,radiusNumberAxisOptionsDefs,radiusCategoryAxisOptionsDefs}=import_ag_charts_community13._ModuleSupport,OrdinalTimeAxisModule={type:"axis",name:"ordinal-time",chartType:"cartesian",enterprise:!0,options:ordinalTimeAxisOptionsDefs,create:e=>new OrdinalTimeAxis(e)},AngleNumberAxisModule={type:"axis",name:"angle-number",chartType:"polar",enterprise:!0,options:angleNumberAxisOptionsDefs,create:e=>new AngleNumberAxis(e)},AngleCategoryAxisModule={type:"axis",name:"angle-category",chartType:"polar",enterprise:!0,options:angleCategoryAxisOptionsDefs,create:e=>new AngleCategoryAxis(e)},RadiusNumberAxisModule={type:"axis",name:"radius-number",chartType:"polar",enterprise:!0,options:radiusNumberAxisOptionsDefs,create:e=>new RadiusNumberAxis(e)},RadiusCategoryAxisModule={type:"axis",name:"radius-category",chartType:"polar",enterprise:!0,options:radiusCategoryAxisOptionsDefs,create:e=>new RadiusCategoryAxis(e)},import_ag_charts_community15=require("ag-charts-community"),import_ag_charts_community14=require("ag-charts-community"),{Chart,Property:Property11}=import_ag_charts_community14._ModuleSupport;function isFlowProportion(e){return e.type==="sankey"||e.type==="chord"}var FlowProportionChart=class extends Chart{getChartType(){return"flow-proportion"}async updateData(){await super.updateData();const e=this.getOptions();this.nodes!==e.nodes&&(this.nodes=e.nodes);const{nodes:t}=this;this.series.forEach(i=>{isFlowProportion(i)&&i.setChartNodes(t)})}performLayout(e){const{seriesRoot:t,annotationRoot:i}=this,{layoutBox:a}=e;a.shrink(this.seriesArea.padding.toJson());const s=a.clone();this.seriesRect=s,this.animationRect=s,t.visible=this.series.some(o=>o.visible);for(const o of[t,i])o.translationX=Math.floor(s.x),o.translationY=Math.floor(s.y);this.ctx.layoutManager.emitLayoutComplete(e,{series:{visible:t.visible,rect:s,paddedRect:s}})}};FlowProportionChart.className="FlowProportionChart",FlowProportionChart.type="flow-proportion",__decorateClass([Property11],FlowProportionChart.prototype,"nodes",2);var{isAgFlowProportionChartOptions,flowProportionChartOptionsDefs}=import_ag_charts_community15._ModuleSupport,FlowProportionChartModule={type:"chart",name:"flow-proportion",enterprise:!0,options:flowProportionChartOptionsDefs,detect:isAgFlowProportionChartOptions,create(e,t){return new FlowProportionChart(e,t)}},import_ag_charts_community17=require("ag-charts-community"),import_ag_charts_community16=require("ag-charts-community"),{Chart:Chart2}=import_ag_charts_community16._ModuleSupport,GaugeChart=class extends Chart2{getChartType(){return"gauge"}performLayout(e){const{seriesRoot:t,annotationRoot:i,series:a,seriesArea:s}=this,{layoutBox:o}=e,r=o.clone();o.shrink(s.padding.toJson()),this.seriesRect=r.clone().translate(r.x-o.x,r.y-o.y),this.animationRect=o,t.visible=a.some(n=>n.visible);for(const n of[t,i])n.translationX=Math.floor(o.x),n.translationY=Math.floor(o.y);this.ctx.layoutManager.emitLayoutComplete(e,{series:{visible:t.visible,rect:r,paddedRect:o}})}getAriaLabel(){const e=[],t=this.getCaptionText();t.length!==0&&e.push(t);for(const a of this.series)e.push(a.getCaptionText());const i=e.join(". ");return this.ctx.localeManager.t("ariaAnnounceGaugeChart",{caption:i})}};GaugeChart.className="GaugeChart",GaugeChart.type="gauge";var{isAgGaugeChartOptions,gaugeChartOptionsDefs}=import_ag_charts_community17._ModuleSupport,GaugeChartModule={type:"chart",name:"gauge",enterprise:!0,options:gaugeChartOptionsDefs,detect:isAgGaugeChartOptions,create(e,t){return new GaugeChart(e,t)}},import_ag_charts_community19=require("ag-charts-community"),import_ag_charts_community18=require("ag-charts-community"),{Chart:Chart3}=import_ag_charts_community18._ModuleSupport,HierarchyChart=class extends Chart3{getChartType(){return"hierarchy"}performLayout(e){const{seriesRoot:t,annotationRoot:i}=this,{layoutBox:a}=e;a.shrink(this.seriesArea.padding.toJson());const s=a.clone();this.seriesRect=s,this.animationRect=s;for(const o of[t,i])o.translationX=Math.floor(s.x),o.translationY=Math.floor(s.y);t.visible=this.series[0].visible,t.setClipRect(s.clone()),this.ctx.layoutManager.emitLayoutComplete(e,{series:{visible:!0,rect:s,paddedRect:s}})}getAriaLabel(){const e=this.getCaptionText();return this.ctx.localeManager.t("ariaAnnounceHierarchyChart",{caption:e})}};HierarchyChart.className="HierarchyChart",HierarchyChart.type="hierarchy";var{isAgHierarchyChartOptions,hierarchyChartOptionsDefs}=import_ag_charts_community19._ModuleSupport,HierarchyChartModule={type:"chart",name:"hierarchy",enterprise:!0,options:hierarchyChartOptionsDefs,detect:isAgHierarchyChartOptions,create(e,t){return new HierarchyChart(e,t)}},import_ag_charts_community21=require("ag-charts-community"),import_ag_charts_community20=require("ag-charts-community"),{Chart:Chart4}=import_ag_charts_community20._ModuleSupport,StandaloneChart=class extends Chart4{getChartType(){return"standalone"}performLayout(e){const{seriesRoot:t,annotationRoot:i}=this,{layoutBox:a}=e;a.shrink(this.seriesArea.padding.toJson());const s=a.clone();this.seriesRect=s,this.animationRect=s;for(const o of[t,i])o.translationX=Math.floor(a.x),o.translationY=Math.floor(a.y);t.visible=this.series[0].visible,this.ctx.layoutManager.emitLayoutComplete(e,{series:{visible:!0,rect:s,paddedRect:a}})}getAriaLabel(){const e=this.getCaptionText();return this.ctx.localeManager.t("ariaAnnounceHierarchyChart",{caption:e})}};StandaloneChart.className="StandaloneChart",StandaloneChart.type="standalone";var{isAgStandaloneChartOptions,standaloneChartOptionsDefs}=import_ag_charts_community21._ModuleSupport,StandaloneChartModule={type:"chart",name:"standalone",enterprise:!0,options:standaloneChartOptionsDefs,detect:isAgStandaloneChartOptions,create(e,t){return new StandaloneChart(e,t)}},import_ag_charts_community23=require("ag-charts-community"),import_ag_charts_community22=require("ag-charts-community"),{Chart:Chart5,MercatorScale,NumberAxis,Property:Property12}=import_ag_charts_community22._ModuleSupport;function isTopologySeries(e){return e.type==="map-shape"||e.type==="map-line"||e.type==="map-marker"||e.type==="map-shape-background"||e.type==="map-line-background"}var TopologyChart=class extends Chart5{constructor(e,t){super(e,t),this.xAxis=new NumberAxis(this.getModuleContext()),this.xAxis.position="bottom",this.yAxis=new NumberAxis(this.getModuleContext()),this.yAxis.position="left",this.ctx.zoomManager.updateAxes([this.xAxis,this.yAxis])}getChartType(){return"topology"}async updateData(){await super.updateData();const e=this.getOptions();this.topology!==e.topology&&(this.topology=e.topology);const{topology:t}=this;this.series.forEach(i=>{isTopologySeries(i)&&i.setChartTopology(t)})}performLayout(e){const{seriesRoot:t,annotationRoot:i}=this,{layoutBox:a}=e;a.shrink(this.seriesArea.padding.toJson());const s=a.clone();this.seriesRect=s,this.animationRect=s;const o=this.series.filter(isTopologySeries),r=o.reduce((c,h)=>{if(!h.visible)return c;const p=h.topologyBounds;return p==null?c:c==null?p:(c.merge(p),c)},void 0);let n;if(r!=null){const{lon0:c,lat0:h,lon1:p,lat1:u}=r,d=[[c,h],[p,u]],f=MercatorScale.bounds(d),{width:g,height:y}=s,m=Math.min(g/f.width,y/f.height),x=f.width*m,S=f.height*m,D=(g-x)/2,M=(y-S)/2,N=D,v=M,b=D+x,I=M+S,k=this.ctx.zoomManager.getAxisZoom(this.xAxis.id),P=this.ctx.zoomManager.getAxisZoom(this.yAxis.id),_=(b-N)/(k.max-k.min),A=N-_*k.min,L=(I-v)/(1-P.min-(1-P.max)),C=v-L*(1-P.max);n=new MercatorScale(d,[[A,C],[A+_,C+L]])}o.forEach(c=>{c.scale=n});const l=this.series.some(c=>c.visible);t.visible=l;for(const c of[t,i])c.translationX=Math.floor(s.x),c.translationY=Math.floor(s.y),c.setClipRect(s.clone());this.ctx.layoutManager.emitLayoutComplete(e,{series:{visible:l,rect:s,paddedRect:s}})}};TopologyChart.className="TopologyChart",TopologyChart.type="topology",__decorateClass([Property12],TopologyChart.prototype,"topology",2);var{isAgTopologyChartOptions,topologyChartOptionsDefs}=import_ag_charts_community23._ModuleSupport,TopologyChartModule={type:"chart",name:"topology",enterprise:!0,options:topologyChartOptionsDefs,detect:isAgTopologyChartOptions,create(e,t){return new TopologyChart(e,t)}},import_ag_charts_community68=require("ag-charts-community"),import_ag_charts_community24=require("ag-charts-community"),import_ag_charts_core10=require("ag-charts-core"),{annotationCalloutStylesDefs,annotationNoteStylesDefs,annotationTextStylesDef,annotationCommentStylesDefs,annotationMeasurerStylesDefs,annotationShapeStylesDefs,annotationChannelTextDefs,annotationCrossLineStyleDefs,annotationFibonacciStylesDefs,annotationLineStyleDefs,annotationLineTextDefs,annotationDisjointChannelStyleDefs,annotationParallelChannelStyleDefs}=import_ag_charts_community24._ModuleSupport,serializableDate=(0,import_ag_charts_core10.optionsDefs)({__type:(0,import_ag_charts_core10.required)((0,import_ag_charts_core10.constant)("date")),value:(0,import_ag_charts_core10.or)(import_ag_charts_core10.string,import_ag_charts_core10.number)},"a serializable date object"),xValue=(0,import_ag_charts_core10.or)(import_ag_charts_core10.string,import_ag_charts_core10.number,serializableDate),annotationValue=(0,import_ag_charts_core10.or)(xValue,(0,import_ag_charts_core10.optionsDefs)({value:xValue,groupPercentage:(0,import_ag_charts_core10.numberRange)(-1,1)})),channelAnnotationTextOptionsDef={...annotationChannelTextDefs,label:import_ag_charts_core10.string},lineAnnotationTextOptionsDef={...annotationLineTextDefs,label:import_ag_charts_core10.string},annotationPointOptionsDef={x:annotationValue,y:import_ag_charts_core10.number},annotationInitialStateOptionsDef=(0,import_ag_charts_core10.typeUnion)({line:{...annotationLineStyleDefs,start:annotationPointOptionsDef,end:annotationPointOptionsDef,text:lineAnnotationTextOptionsDef},"horizontal-line":{...annotationCrossLineStyleDefs,value:annotationValue,text:lineAnnotationTextOptionsDef},"vertical-line":{...annotationCrossLineStyleDefs,value:annotationValue,text:lineAnnotationTextOptionsDef},"disjoint-channel":{...annotationDisjointChannelStyleDefs,startHeight:import_ag_charts_core10.positiveNumber,endHeight:import_ag_charts_core10.positiveNumber,start:annotationPointOptionsDef,end:annotationPointOptionsDef,text:channelAnnotationTextOptionsDef},"parallel-channel":{...annotationParallelChannelStyleDefs,height:import_ag_charts_core10.positiveNumber,start:annotationPointOptionsDef,end:annotationPointOptionsDef,text:channelAnnotationTextOptionsDef},"fibonacci-retracement":{...annotationFibonacciStylesDefs,start:annotationPointOptionsDef,end:annotationPointOptionsDef,text:lineAnnotationTextOptionsDef,reverse:import_ag_charts_core10.boolean},"fibonacci-retracement-trend-based":{...annotationFibonacciStylesDefs,start:annotationPointOptionsDef,end:annotationPointOptionsDef,endRetracement:annotationPointOptionsDef,text:lineAnnotationTextOptionsDef,reverse:import_ag_charts_core10.boolean},callout:{...annotationCalloutStylesDefs,start:annotationPointOptionsDef,end:annotationPointOptionsDef,text:import_ag_charts_core10.string},comment:{...annotationCommentStylesDefs,...annotationPointOptionsDef,text:import_ag_charts_core10.string},note:{...annotationNoteStylesDefs,...annotationPointOptionsDef,text:import_ag_charts_core10.string},text:{...annotationTextStylesDef,...annotationPointOptionsDef,text:import_ag_charts_core10.string},arrow:{...annotationLineStyleDefs,text:lineAnnotationTextOptionsDef,start:annotationPointOptionsDef,end:annotationPointOptionsDef},"arrow-up":{...annotationShapeStylesDefs,...annotationPointOptionsDef},"arrow-down":{...annotationShapeStylesDefs,...annotationPointOptionsDef},"date-range":{...annotationMeasurerStylesDefs,extendAbove:import_ag_charts_core10.boolean,extendBelow:import_ag_charts_core10.boolean,text:lineAnnotationTextOptionsDef,start:annotationPointOptionsDef,end:annotationPointOptionsDef},"price-range":{...annotationMeasurerStylesDefs,extendLeft:import_ag_charts_core10.boolean,extendRight:import_ag_charts_core10.boolean,text:lineAnnotationTextOptionsDef,start:annotationPointOptionsDef,end:annotationPointOptionsDef},"date-price-range":{...annotationMeasurerStylesDefs,text:lineAnnotationTextOptionsDef,start:annotationPointOptionsDef,end:annotationPointOptionsDef}},"an annotation initial state object"),initialStateOptionsDef={chartType:(0,import_ag_charts_core10.union)("candlestick","hollow-candlestick","ohlc","line","step-line","hlc","high-low"),annotations:(0,import_ag_charts_core10.arrayOfDefs)(annotationInitialStateOptionsDef),legend:(0,import_ag_charts_core10.arrayOfDefs)({visible:import_ag_charts_core10.boolean,seriesId:import_ag_charts_core10.string,itemId:import_ag_charts_core10.string,legendItemName:import_ag_charts_core10.string},"legend state array"),zoom:{rangeX:{start:(0,import_ag_charts_core10.or)(import_ag_charts_core10.number,serializableDate),end:(0,import_ag_charts_core10.or)(import_ag_charts_core10.number,serializableDate)},rangeY:{start:(0,import_ag_charts_core10.or)(import_ag_charts_core10.number,serializableDate),end:(0,import_ag_charts_core10.or)(import_ag_charts_core10.number,serializableDate)},ratioX:{start:import_ag_charts_core10.ratio,end:import_ag_charts_core10.ratio},ratioY:{start:import_ag_charts_core10.ratio,end:import_ag_charts_core10.ratio},autoScaledAxes:(0,import_ag_charts_core10.arrayOf)((0,import_ag_charts_core10.constant)("y"))}},import_ag_charts_community67=require("ag-charts-community"),import_ag_charts_core23=require("ag-charts-core"),import_ag_charts_community30=require("ag-charts-community"),import_ag_charts_community27=require("ag-charts-community"),import_ag_charts_core12=require("ag-charts-core");function prepareBoxPlotFromTo(e){return{from:e?{scalingX:1,scalingY:0}:{scalingX:0,scalingY:1},to:{scalingX:1,scalingY:1}}}function resetBoxPlotSelectionsScalingCenterFn(e){return(t,i)=>e?{scalingCenterY:i.scaledValues.medianValue}:{scalingCenterX:i.scaledValues.medianValue}}var import_ag_charts_community25=require("ag-charts-community"),import_ag_charts_core11=require("ag-charts-core"),{ScalableGroup,Rect,Line:Line3,BBox:BBox2,Selection:Selection3,applyShapeFillBBox}=import_ag_charts_community25._ModuleSupport,BoxPlotGroup=class extends ScalableGroup{constructor(){super(),this.append([new Rect({tag:0}),new Rect({tag:2}),new Rect({tag:1}),new Line3({tag:3}),new Line3({tag:3}),new Line3({tag:4}),new Line3({tag:4})])}updateDatumStyles(e,t,i,a,s){const{bandwidth:o,scaledValues:{xValue:r,medianValue:n}}=e;let{minValue:l,q1Value:c,q3Value:h,maxValue:p}=e.scaledValues;(i&&!a||!i&&a)&&([p,h,c,l]=[l,c,h,p]);const u=(w,E,G,W)=>i?{y:w,x:E,width:W,height:G}:{x:w,y:E,width:G,height:W},d=(w,E,G)=>i?{y1:w,y2:E,x:G}:{x1:w,x2:E,y:G},f=(w,E,G)=>i?{x1:E,x2:G,y:w}:{x:w,y1:E,y2:G},g=(w,E,G,W)=>({x:w,y:E,width:G,height:W}=u(w,E,G,W),new BBox2(w,E,G,W)),{fill:y,fillOpacity:m,stroke:x,strokeWidth:S,strokeOpacity:D,lineDash:M,lineDashOffset:N,cornerRadius:v,cap:b,whisker:I}=t,k=Selection3.select(this,Rect),[P]=k.selectByTag(0),[_]=k.selectByTag(2),[A]=k.selectByTag(1),L=k.selectByTag(3),C=k.selectByTag(4);I.strokeWidth>o&&(I.strokeWidth=o);const R=u(c,r,h-c,o);_.setProperties(R),P.setProperties(R),P.setProperties({cornerRadius:v});const O=Math.max(Math.round(n-S/2),c+S),B=Math.min(Math.round(n+S/2),h-S);A.setProperties(R),A.setProperties({visible:O<B,cornerRadius:v,clipBBox:g(O,r+S,B-O,Math.max(0,o-S*2))});const T=Math.floor(r+o*(1-b.lengthRatio)/2),F=Math.ceil(r+o*(1+b.lengthRatio)/2);C[0].setProperties(f(l,T,F)),C[1].setProperties(f(p,T,F)),L[0].setProperties(d(Math.round(l+I.strokeWidth/2),c,Math.floor(r+o/2))),L[1].setProperties(d(h,Math.round(p-I.strokeWidth/2),Math.floor(r+o/2))),applyShapeFillBBox(P,y,s),P.setProperties({fill:y,fillOpacity:m,strokeWidth:S*2,strokeOpacity:0}),A.setProperties({fill:x,fillOpacity:D,strokeWidth:0});for(const w of[...L,...C])w.setProperties(I);_.setProperties({stroke:x,strokeWidth:S,strokeOpacity:D,lineDash:M,lineDashOffset:N,cornerRadius:v,fillOpacity:0})}distanceSquared(e,t){const i=Selection3.selectByClass(this,Rect,Line3);return import_ag_charts_community25._ModuleSupport.nearestSquared(e,t,i).distanceSquared}get midPoint(){const e=this.datum;return e.midPoint===void 0?(import_ag_charts_core11.Logger.error("BoxPlotGroup.datum.midPoint is undefined"),{x:NaN,y:NaN}):e.midPoint}},import_ag_charts_community26=require("ag-charts-community"),{BaseProperties:BaseProperties2,FillGradientDefaults,FillPatternDefaults,FillImageDefaults,AbstractBarSeriesProperties,SeriesTooltip,Property:Property13,mergeDefaults}=import_ag_charts_community26._ModuleSupport,BoxPlotSeriesCap=class extends BaseProperties2{constructor(){super(...arguments),this.lengthRatio=.5}};__decorateClass([Property13],BoxPlotSeriesCap.prototype,"lengthRatio",2);var BoxPlotSeriesWhisker=class extends BaseProperties2{};__decorateClass([Property13],BoxPlotSeriesWhisker.prototype,"stroke",2),__decorateClass([Property13],BoxPlotSeriesWhisker.prototype,"strokeWidth",2),__decorateClass([Property13],BoxPlotSeriesWhisker.prototype,"strokeOpacity",2),__decorateClass([Property13],BoxPlotSeriesWhisker.prototype,"lineDash",2),__decorateClass([Property13],BoxPlotSeriesWhisker.prototype,"lineDashOffset",2);var BoxPlotSeriesProperties=class extends AbstractBarSeriesProperties{constructor(){super(...arguments),this.fill="#c16068",this.fillGradientDefaults=new FillGradientDefaults,this.fillPatternDefaults=new FillPatternDefaults,this.fillImageDefaults=new FillImageDefaults,this.fillOpacity=1,this.stroke="#333",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.cap=new BoxPlotSeriesCap,this.whisker=new BoxPlotSeriesWhisker,this.tooltip=new SeriesTooltip}toJson(){const{stroke:e,strokeWidth:t,strokeOpacity:i,lineDash:a,lineDashOffset:s}=this,o=super.toJson();return o.whisker=mergeDefaults(o.whisker,{stroke:e,strokeWidth:t,strokeOpacity:i,lineDash:a,lineDashOffset:s}),o}};__decorateClass([Property13],BoxPlotSeriesProperties.prototype,"xKey",2),__decorateClass([Property13],BoxPlotSeriesProperties.prototype,"minKey",2),__decorateClass([Property13],BoxPlotSeriesProperties.prototype,"q1Key",2),__decorateClass([Property13],BoxPlotSeriesProperties.prototype,"medianKey",2),__decorateClass([Property13],BoxPlotSeriesProperties.prototype,"q3Key",2),__decorateClass([Property13],BoxPlotSeriesProperties.prototype,"maxKey",2),__decorateClass([Property13],BoxPlotSeriesProperties.prototype,"xName",2),__decorateClass([Property13],BoxPlotSeriesProperties.prototype,"yName",2),__decorateClass([Property13],BoxPlotSeriesProperties.prototype,"minName",2),__decorateClass([Property13],BoxPlotSeriesProperties.prototype,"q1Name",2),__decorateClass([Property13],BoxPlotSeriesProperties.prototype,"medianName",2),__decorateClass([Property13],BoxPlotSeriesProperties.prototype,"q3Name",2),__decorateClass([Property13],BoxPlotSeriesProperties.prototype,"maxName",2),__decorateClass([Property13],BoxPlotSeriesProperties.prototype,"fill",2),__decorateClass([Property13],BoxPlotSeriesProperties.prototype,"fillGradientDefaults",2),__decorateClass([Property13],BoxPlotSeriesProperties.prototype,"fillPatternDefaults",2),__decorateClass([Property13],BoxPlotSeriesProperties.prototype,"fillImageDefaults",2),__decorateClass([Property13],BoxPlotSeriesProperties.prototype,"fillOpacity",2),__decorateClass([Property13],BoxPlotSeriesProperties.prototype,"stroke",2),__decorateClass([Property13],BoxPlotSeriesProperties.prototype,"strokeWidth",2),__decorateClass([Property13],BoxPlotSeriesProperties.prototype,"strokeOpacity",2),__decorateClass([Property13],BoxPlotSeriesProperties.prototype,"lineDash",2),__decorateClass([Property13],BoxPlotSeriesProperties.prototype,"lineDashOffset",2),__decorateClass([Property13],BoxPlotSeriesProperties.prototype,"cornerRadius",2),__decorateClass([Property13],BoxPlotSeriesProperties.prototype,"itemStyler",2),__decorateClass([Property13],BoxPlotSeriesProperties.prototype,"cap",2),__decorateClass([Property13],BoxPlotSeriesProperties.prototype,"whisker",2),__decorateClass([Property13],BoxPlotSeriesProperties.prototype,"tooltip",2);var{extractDecoratedProperties,fixNumericExtent,keyProperty,mergeDefaults:mergeDefaults2,SeriesNodePickMode,SMALLEST_KEY_INTERVAL,valueProperty,diff,animationValidation,computeBarFocusBounds,createDatumId,ContinuousScale:ContinuousScale2,ChartAxisDirection:ChartAxisDirection6,motion,isGradientFill,getShapeStyle}=import_ag_charts_community27._ModuleSupport,BoxPlotSeriesNodeEvent=class extends import_ag_charts_community27._ModuleSupport.SeriesNodeEvent{constructor(e,t,i,a){super(e,t,i,a),this.xKey=a.properties.xKey,this.minKey=a.properties.minKey,this.q1Key=a.properties.q1Key,this.medianKey=a.properties.medianKey,this.q3Key=a.properties.q3Key,this.maxKey=a.properties.maxKey}},BoxPlotSeries=class extends import_ag_charts_community27._ModuleSupport.AbstractBarSeries{constructor(e){super({moduleCtx:e,pickModes:[SeriesNodePickMode.NEAREST_NODE,SeriesNodePickMode.EXACT_SHAPE_MATCH],directionKeys:{x:["xKey"],y:["medianKey","q1Key","q3Key","minKey","maxKey"]},directionNames:{x:["xName"],y:["medianName","q1Name","q3Name","minName","maxName"]},categoryKey:"xValue",pathsPerSeries:[],hasHighlightedLabels:!0}),this.properties=new BoxPlotSeriesProperties,this.NodeEvent=BoxPlotSeriesNodeEvent}async processData(e){if(!this.visible)return;const{xKey:t,minKey:i,q1Key:a,medianKey:s,q3Key:o,maxKey:r}=this.properties,n=!this.ctx.animationManager.isSkipped(),l=this.getCategoryAxis()?.scale,c=this.getValueAxis()?.scale,{isContinuousX:h,xScaleType:p,yScaleType:u}=this.getScaleInformation({xScale:l,yScale:c}),d=[];n&&this.processedData&&d.push(diff(this.id,this.processedData)),n&&d.push(animationValidation());const{processedData:f}=await this.requestDataModel(e,this.data,{props:[keyProperty(t,p,{id:"xValue"}),valueProperty(i,u,{id:"minValue"}),valueProperty(a,u,{id:"q1Value"}),valueProperty(s,u,{id:"medianValue"}),valueProperty(o,u,{id:"q3Value"}),valueProperty(r,u,{id:"maxValue"}),...h?[SMALLEST_KEY_INTERVAL]:[],...d]});this.smallestDataInterval=f.reduced?.smallestKeyInterval,this.animationState.transition("updateData")}getSeriesDomain(e){const{processedData:t,dataModel:i}=this;if(!(t&&i))return[];if(e!==this.getBarDirection()){const{index:s,def:o}=i.resolveProcessedDataDefById(this,"xValue"),r=t.domain.keys[s];return o.type==="key"&&o.valueType==="category"?r:this.padBandExtent(r)}const a=this.domainForClippedRange(e,["minValue","maxValue"],"xValue",!0);return fixNumericExtent(a)}getSeriesRange(e,t){return this.domainForVisibleRange(ChartAxisDirection6.Y,["maxValue","minValue"],"xValue",t,!0)}createNodeData(){const{visible:e,dataModel:t,processedData:i}=this,a=this.getCategoryAxis(),s=this.getValueAxis();if(!(t&&i&&a&&s))return;const{xKey:o,fill:r,fillOpacity:n,stroke:l,strokeWidth:c,strokeOpacity:h,lineDash:p,lineDashOffset:u,cap:d,whisker:f}=this.properties,g=[],y=t.resolveKeysById(this,"xValue",i),m=t.resolveColumnById(this,"minValue",i),x=t.resolveColumnById(this,"q1Value",i),S=t.resolveColumnById(this,"medianValue",i),D=t.resolveColumnById(this,"q3Value",i),M=t.resolveColumnById(this,"maxValue",i),{barWidth:N,groupIndex:v}=this.updateGroupScale(a),b=ContinuousScale2.is(a.scale)?N*-.5:0,{groupScale:I}=this,k=this.isVertical(),P={itemId:o,nodeData:g,labelData:[],scales:this.calculateScaling(),groupScale:this.getScaling(this.groupScale),visible:this.visible};return e&&(i.dataSources.get(this.id)??[]).forEach((A,L)=>{const C=y[L];if(C==null)return;const R=m[L],O=x[L],B=S[L],T=D[L],F=M[L];if([R,O,B,T,F].some(X=>typeof X!="number")||R>O||O>B||B>T||T>F)return;const w={xValue:Math.round(a.scale.convert(C)),minValue:Math.round(s.scale.convert(R)),q1Value:Math.round(s.scale.convert(O)),medianValue:Math.round(s.scale.convert(B)),q3Value:Math.round(s.scale.convert(T)),maxValue:Math.round(s.scale.convert(F))};w.xValue+=Math.round(I.convert(String(v)))+b;const E=Math.round(N),G=Math.abs(w.q3Value-w.q1Value),W=w.xValue+E/2,V=Math.min(w.q3Value,w.q1Value)+G/2,K={x:k?W:V,y:k?V:W};let z;k?z={x:K.x-E/2,y:w.minValue,width:E,height:w.maxValue-w.minValue}:z={x:w.minValue,y:K.y-E/2,width:w.maxValue-w.minValue,height:E},g.push({series:this,itemId:C,datum:A,datumIndex:L,xKey:o,bandwidth:E,scaledValues:w,cap:d,whisker:f,fill:r,fillOpacity:n,stroke:l,strokeWidth:c,strokeOpacity:h,lineDash:p,lineDashOffset:u,midPoint:K,focusRect:z})}),P}legendItemSymbol(){const{fill:e,fillOpacity:t,stroke:i,strokeWidth:a,strokeOpacity:s,lineDash:o,lineDashOffset:r,fillGradientDefaults:n,fillPatternDefaults:l,fillImageDefaults:c}=this.properties;return{marker:getShapeStyle({fill:e,fillOpacity:t,stroke:i,strokeOpacity:s,strokeWidth:a,lineDash:o,lineDashOffset:r},n,l,c)}}getLegendData(e){const{id:t,ctx:{legendManager:i},visible:a}=this,{xKey:s,yName:o,showInLegend:r,legendItemName:n}=this.properties;return!s||e!=="category"?[]:[{legendType:"category",id:t,itemId:t,seriesId:t,enabled:a&&i.getItemEnabled({seriesId:t,itemId:t}),label:{text:n??o??t},symbol:this.legendItemSymbol(),legendItemName:n,hideInLegend:!r}]}getTooltipContent(e){const{id:t,dataModel:i,processedData:a,properties:s}=this,{xKey:o,xName:r,yName:n,medianKey:l,medianName:c,q1Key:h,q1Name:p,q3Key:u,q3Name:d,minKey:f,minName:g,maxKey:y,maxName:m,legendItemName:x,tooltip:S}=s,D=this.getCategoryAxis(),M=this.getValueAxis();if(!i||!a||!D||!M)return;const N=a.dataSources.get(this.id)?.[e],v=i.resolveKeysById(this,"xValue",a)[e],b=i.resolveColumnById(this,"minValue",a)[e],I=i.resolveColumnById(this,"q1Value",a)[e],k=i.resolveColumnById(this,"medianValue",a)[e],P=i.resolveColumnById(this,"q3Value",a)[e],_=i.resolveColumnById(this,"maxValue",a)[e];if(v==null)return;const A=this.getItemBaseStyle(!1);return Object.assign(A,this.getItemStyleOverrides(String(e),N,A,!1)),this.formatTooltipWithContext(S,{heading:D.formatDatum(v),title:x??n,symbol:this.legendItemSymbol(),data:[{label:g,fallbackLabel:f,value:M.formatDatum(b)},{label:p,fallbackLabel:h,value:M.formatDatum(I)},{label:c,fallbackLabel:l,value:M.formatDatum(k)},{label:d,fallbackLabel:u,value:M.formatDatum(P)},{label:m,fallbackLabel:y,value:M.formatDatum(_)}]},{seriesId:t,datum:N,title:n,xKey:o,xName:r,yName:n,medianKey:l,medianName:c,q1Key:h,q1Name:p,q3Key:u,q3Name:d,minKey:f,minName:g,maxKey:y,maxName:m,...A})}animateEmptyUpdateReady({datumSelection:e}){const t=this.isVertical(),{from:i,to:a}=prepareBoxPlotFromTo(t);motion.resetMotion([e],resetBoxPlotSelectionsScalingCenterFn(t)),motion.staticFromToMotion(this.id,"datums",this.ctx.animationManager,[e],i,a,{phase:"initial"})}isLabelEnabled(){return!1}updateDatumSelection(e){const t=e.nodeData??[];return e.datumSelection.update(t)}getItemBaseStyle(e){const{properties:t}=this,{cornerRadius:i,cap:a,whisker:s,fillGradientDefaults:o,fillPatternDefaults:r,fillImageDefaults:n}=t,l=e?t.highlightStyle.item:void 0,c=this.getStrokeWidth(t.strokeWidth);return getShapeStyle({fill:l?.fill??t.fill,fillOpacity:l?.fillOpacity??t.fillOpacity,stroke:l?.stroke??t.stroke,strokeWidth:l?.strokeWidth??c,strokeOpacity:l?.strokeOpacity??t.strokeOpacity,lineDash:l?.lineDash??t.lineDash??[],lineDashOffset:l?.lineDashOffset??t.lineDashOffset,cornerRadius:i,cap:a,whisker:s},o,r,n)}getItemStyleOverrides(e,t,i,a){const{id:s,properties:o}=this,{xKey:r,minKey:n,q1Key:l,medianKey:c,q3Key:h,maxKey:p,fillGradientDefaults:u,fillPatternDefaults:d,fillImageDefaults:f,itemStyler:g}=o;if(g==null)return;const y=this.cachedDatumCallback(createDatumId(e,a?"highlight":"node"),()=>this.callWithContext(g,{seriesId:s,datum:t,xKey:r,minKey:n,q1Key:l,medianKey:c,q3Key:h,maxKey:p,highlighted:a,...i}));return getShapeStyle(y,u,d,f)}updateDatumNodes({datumSelection:e,isHighlight:t}){const i=this.isVertical(),a=this.getValueAxis()?.isReversed(),{highlightStyle:s}=this.properties;e.each((o,r)=>{let n=this.getFormattedStyles(r,t?"highlight":"node");t&&(n=mergeDefaults2(s.item,n));const{stroke:l,strokeWidth:c,strokeOpacity:h,lineDash:p,lineDashOffset:u}=n;n.whisker=mergeDefaults2(n.whisker,{stroke:l,strokeWidth:c,strokeOpacity:h,lineDash:p,lineDashOffset:u});const d=this.getShapeFillBBox();o.updateDatumStyles(r,n,i,a,d)})}updateLabelNodes(){}updateLabelSelection(e){const{labelData:t,labelSelection:i}=e;return i.update(t)}nodeFactory(){return new BoxPlotGroup}getFormattedStyles(e,t){const{id:i,properties:a}=this,{xKey:s,minKey:o,q1Key:r,medianKey:n,q3Key:l,maxKey:c,itemStyler:h,cornerRadius:p,fillGradientDefaults:u,fillPatternDefaults:d,fillImageDefaults:f}=a,{datum:g,stroke:y,strokeWidth:m,strokeOpacity:x,lineDash:S,lineDashOffset:D,cap:M,whisker:N}=e;let v,b=1;isGradientFill(e.fill)?v=e.fill:(v=e.fill,b=a.fillOpacity);let I=getShapeStyle({fill:v,fillOpacity:b,stroke:y,strokeWidth:m,strokeOpacity:x,lineDash:S,lineDashOffset:D,cornerRadius:p,cap:extractDecoratedProperties(M),whisker:extractDecoratedProperties(N)},u,d,f);if(h){const k=this.cachedDatumCallback(createDatumId(g.index,t),()=>this.callWithContext(h,{datum:g,seriesId:i,highlighted:t==="highlight",...I,xKey:s,minKey:o,q1Key:r,medianKey:n,q3Key:l,maxKey:c}));k&&(I=getShapeStyle(mergeDefaults2(k,I),u,d,f))}return I}computeFocusBounds({datumIndex:e}){return computeBarFocusBounds(this,this.contextNodeData?.nodeData[e].focusRect)}};BoxPlotSeries.className="BoxPlotSeries",BoxPlotSeries.type="box-plot";var import_ag_charts_community28=require("ag-charts-community"),import_ag_charts_core13=require("ag-charts-core"),{boxPlotSeriesThemeableOptionsDef,commonSeriesOptionsDefs}=import_ag_charts_community28._ModuleSupport,boxPlotSeriesOptionsDef={...boxPlotSeriesThemeableOptionsDef,...commonSeriesOptionsDefs,type:(0,import_ag_charts_core13.required)((0,import_ag_charts_core13.constant)("box-plot")),xKey:(0,import_ag_charts_core13.required)(import_ag_charts_core13.string),minKey:(0,import_ag_charts_core13.required)(import_ag_charts_core13.string),q1Key:(0,import_ag_charts_core13.required)(import_ag_charts_core13.string),medianKey:(0,import_ag_charts_core13.required)(import_ag_charts_core13.string),q3Key:(0,import_ag_charts_core13.required)(import_ag_charts_core13.string),maxKey:(0,import_ag_charts_core13.required)(import_ag_charts_core13.string),xName:import_ag_charts_core13.string,yName:import_ag_charts_core13.string,minName:import_ag_charts_core13.string,q1Name:import_ag_charts_core13.string,medianName:import_ag_charts_core13.string,q3Name:import_ag_charts_core13.string,maxName:import_ag_charts_core13.string,grouped:import_ag_charts_core13.boolean,legendItemName:import_ag_charts_core13.string},import_ag_charts_community29=require("ag-charts-community"),{CARTESIAN_AXIS_TYPE}=import_ag_charts_community29._ModuleSupport.ThemeConstants,BOX_PLOT_SERIES_THEME={series:{direction:"vertical",fill:{$if:[{$or:[{$isGradient:[{$palette:"fill"}]},{$isPattern:[{$palette:"fill"}]},{$isImage:[{$palette:"fill"}]}]},{$palette:"fill"},{$mix:[import_ag_charts_community29._ModuleSupport.SAFE_FILL_OPERATION,{$ref:"backgroundColor"},.7]}]},stroke:{$palette:"stroke"},fillGradientDefaults:{type:"gradient",gradient:"linear",bounds:"item",colorStops:{$palette:"gradient"},rotation:0,reverse:!1},fillPatternDefaults:import_ag_charts_community29._ModuleSupport.FILL_PATTERN_DEFAULTS,fillImageDefaults:import_ag_charts_community29._ModuleSupport.FILL_IMAGE_DEFAULTS,strokeWidth:2},axes:{[CARTESIAN_AXIS_TYPE.NUMBER]:{crosshair:{snap:!1}},[CARTESIAN_AXIS_TYPE.CATEGORY]:{groupPaddingInner:.2,crosshair:{enabled:!1,snap:!1}}}},BoxPlotModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["cartesian"],identifier:"box-plot",moduleFactory:e=>new BoxPlotSeries(e),tooltipDefaults:{range:"exact"},defaultAxes:import_ag_charts_community30._ModuleSupport.DIRECTION_SWAP_AXES,themeTemplate:BOX_PLOT_SERIES_THEME,groupable:!0},BoxPlotSeriesModule={type:"series",name:"box-plot",chartType:"cartesian",enterprise:!0,options:boxPlotSeriesOptionsDef,create:e=>new BoxPlotSeries(e)},import_ag_charts_community40=require("ag-charts-community"),import_ag_charts_community37=require("ag-charts-community"),import_ag_charts_community32=require("ag-charts-community"),import_ag_charts_core14=require("ag-charts-core"),import_ag_charts_community31=require("ag-charts-community"),{findMinMax:findMinMax2}=import_ag_charts_community31._ModuleSupport,X_MIN=0,X_MAX=1,Y_MIN=2,Y_MAX=3,SPAN=4;function maxRangeFittingPoints(e,t=1){let i=Math.ceil(Math.log2(e.length/t))-1;return i=Math.min(Math.max(i,0),16),2**i|0}function aggregationDomain(e){return findMinMax2(e.map(t=>Number(t)))}function xRatioForDatumIndex(e,t,i){return(e.valueOf()-t)/(i-t)}function aggregationIndexForXRatio(e,t){return Math.min(Math.floor(e*t),t-1)*SPAN|0}function createAggregationIndices(e,t,i,a,s,o){const r=new Int32Array(o*SPAN).fill(-1),n=new Float64Array(o*SPAN).fill(NaN);for(let l=0;l<e.length;l+=1){const c=e[l],h=t[l],p=i[l];if(c==null||h==null||p==null)continue;const u=xRatioForDatumIndex(c,a,s),d=h.valueOf(),f=p.valueOf(),g=aggregationIndexForXRatio(u,o),y=r[g+X_MIN]===-1;(y||u<n[g+X_MIN])&&(r[g+X_MIN]=l,n[g+X_MIN]=u),(y||u>n[g+X_MAX])&&(r[g+X_MAX]=l,n[g+X_MAX]=u),(y||f<n[g+Y_MIN])&&(r[g+Y_MIN]=l,n[g+Y_MIN]=f),(y||d>n[g+Y_MAX])&&(r[g+Y_MAX]=l,n[g+Y_MAX]=d)}return{indexData:r,valueData:n}}function compactAggregationIndices(e,t,i,{inPlace:a=!1}={}){const s=i/2|0,o=a?e:new Int32Array(s*SPAN),r=a?t:new Float64Array(s*SPAN);for(let n=0;n<s;n+=1){const l=n*SPAN|0,c=l*2|0,h=c+SPAN|0,p=e[h+X_MIN]===-1,u=p||t[c+X_MIN]<t[h+X_MIN]?c:h;o[l+X_MIN]=e[u+X_MIN],r[l+X_MIN]=t[u+X_MIN];const d=p||t[c+X_MAX]>t[h+X_MAX]?c:h;o[l+X_MAX]=e[d+X_MAX],r[l+X_MAX]=t[d+X_MAX];const f=p||t[c+Y_MIN]<t[h+Y_MIN]?c:h;o[l+Y_MIN]=e[f+Y_MIN],r[l+Y_MIN]=t[f+Y_MIN];const g=p||t[c+Y_MAX]>t[h+Y_MAX]?c:h;o[l+Y_MAX]=e[g+Y_MAX],r[l+Y_MAX]=t[g+Y_MAX]}return{maxRange:s,indexData:o,valueData:r}}var AGGREGATION_THRESHOLD=1e3,OPEN=X_MIN,HIGH=Y_MAX,LOW=Y_MIN,CLOSE=X_MAX;function aggregateOhlcData(e,t,i,a){if(e.length<AGGREGATION_THRESHOLD)return;const[s,o]=aggregationDomain(a);let r=maxRangeFittingPoints(e),{indexData:n,valueData:l}=createAggregationIndices(e,t,i,s,o,r);const c=[{maxRange:r,indexData:n}];for(;r>64;)({indexData:n,valueData:l,maxRange:r}=compactAggregationIndices(n,l,r)),c.push({maxRange:r,indexData:n});return c.reverse(),c}var{fixNumericExtent:fixNumericExtent2,keyProperty:keyProperty2,createDatumId:createDatumId2,SeriesNodePickMode:SeriesNodePickMode2,ChartAxisDirection:ChartAxisDirection7,SMALLEST_KEY_INTERVAL:SMALLEST_KEY_INTERVAL2,valueProperty:valueProperty2,diff:diff2,animationValidation:animationValidation2,computeBarFocusBounds:computeBarFocusBounds2,visibleRangeIndices,ContinuousScale:ContinuousScale3,DiscreteTimeScale,BandScale,getShapeStyle:getShapeStyle2}=import_ag_charts_community32._ModuleSupport,OhlcSeriesNodeEvent=class extends import_ag_charts_community32._ModuleSupport.SeriesNodeEvent{constructor(e,t,i,a){super(e,t,i,a),this.xKey=a.properties.xKey,this.openKey=a.properties.openKey,this.closeKey=a.properties.closeKey,this.highKey=a.properties.highKey,this.lowKey=a.properties.lowKey}},OhlcSeriesBase=class extends import_ag_charts_community32._ModuleSupport.AbstractBarSeries{constructor(e){super({moduleCtx:e,pickModes:[SeriesNodePickMode2.AXIS_ALIGNED,SeriesNodePickMode2.EXACT_SHAPE_MATCH],directionKeys:{x:["xKey"],y:["lowKey","highKey","openKey","closeKey"]},directionNames:{x:["xName"],y:["lowName","highName","openName","closeName"]},categoryKey:"xValue",pathsPerSeries:[]}),this.NodeEvent=OhlcSeriesNodeEvent,this.dataAggregationFilters=void 0}async processData(e){if(!this.visible)return;const{xKey:t,openKey:i,closeKey:a,highKey:s,lowKey:o}=this.properties,r=!this.ctx.animationManager.isSkipped(),n=this.getCategoryAxis()?.scale,l=this.getValueAxis()?.scale,{isContinuousX:c,xScaleType:h,yScaleType:p}=this.getScaleInformation({xScale:n,yScale:l}),u=[];r&&(this.processedData&&u.push(diff2(this.id,this.processedData)),u.push(animationValidation2())),i&&u.push(valueProperty2(i,p,{id:"openValue",invalidValue:void 0,missingValue:void 0}));const{dataModel:d,processedData:f}=await this.requestDataModel(e,this.data,{props:[keyProperty2(t,h,{id:"xValue"}),valueProperty2(a,p,{id:"closeValue"}),valueProperty2(s,p,{id:"highValue"}),valueProperty2(o,p,{id:"lowValue"}),...c?[SMALLEST_KEY_INTERVAL2]:[],...u]});this.smallestDataInterval=f.reduced?.smallestKeyInterval,this.dataAggregationFilters=this.aggregateData(d,f),this.animationState.transition("updateData")}aggregateData(e,t){const i=this.axes[ChartAxisDirection7.X];if(i==null||!(ContinuousScale3.is(i.scale)||DiscreteTimeScale.is(i.scale)))return;const a=e.resolveKeysById(this,"xValue",t),s=e.resolveColumnById(this,"highValue",t),o=e.resolveColumnById(this,"lowValue",t),{index:r}=e.resolveProcessedDataDefById(this,"xValue"),n=t.domain.keys[r];return aggregateOhlcData(a,s,o,n)}getSeriesDomain(e){const{processedData:t,dataModel:i}=this;if(!(t&&i))return[];if(e!==this.getBarDirection()){const{index:s,def:o}=i.resolveProcessedDataDefById(this,"xValue"),r=t.domain.keys[s];return o.type==="key"&&o.valueType==="category"?r:this.padBandExtent(r)}const a=this.domainForClippedRange(e,["highValue","lowValue"],"xValue",!0);return fixNumericExtent2(a)}getSeriesRange(e,t){return this.domainForVisibleRange(ChartAxisDirection7.Y,["highValue","lowValue"],"xValue",t,!0)}getVisibleItems(e,t,i){return this.countVisibleItems("xValue",["highValue","lowValue"],e,t,i)}createNodeData(){const{visible:e,dataModel:t,processedData:i}=this,a=this.getCategoryAxis(),s=this.getValueAxis();if(!(t&&i&&a&&s))return;const o=[],{xKey:r,highKey:n,lowKey:l}=this.properties,c=i.dataSources.get(this.id)??[],h=t.resolveKeysById(this,"xValue",i),p=t.resolveColumnById(this,"openValue",i),u=t.resolveColumnById(this,"closeValue",i),d=t.resolveColumnById(this,"highValue",i),f=t.resolveColumnById(this,"lowValue",i),{groupScale:g}=this,{barWidth:y,groupIndex:m}=this.updateGroupScale(a),x=g.convert(String(m)),S=y>=1?y:g.rawBandwidth,D=BandScale.is(a.scale),M={itemId:r,nodeData:o,labelData:[],scales:this.calculateScaling(),groupScale:this.getScaling(this.groupScale),visible:this.visible};if(!e)return M;const N=(L,C,R,O,B,T,F,w)=>{const E=c[L],G=D?F/2:0,W=a.scale.convert(C)+x+G,V=s.scale.convert(R),K=s.scale.convert(O),z=s.scale.convert(B),X=s.scale.convert(T),Y=O>R,U=Y?"up":"down",H=Math.min(z,X),$=Math.max(z,X)-H,j={x:W,y:H+$/2};o.push({series:this,itemId:U,datum:E,datumIndex:L,xKey:r,xValue:C,openValue:R,closeValue:O,highValue:B,lowValue:T,midPoint:j,aggregatedValue:O,isRising:Y,centerX:W,width:F,y:H,height:$,yOpen:V,yClose:K,crisp:w})},{dataAggregationFilters:v}=this,b=a.scale,[I,k]=b.range,P=k-I,_=L=>b.convert(h[L])+x,A=v?.find(L=>L.maxRange>P);if(A==null){let[L,C]=visibleRangeIndices(c.length,a.range,R=>{const O=_(R);return[O,O+S]});i.input.count<1e3&&(L=0,C=i.input.count);for(let R=L;R<C;R+=1){const O=h[R];if(O==null)continue;const B=p[R],T=u[R],F=d[R],w=f[R],E=w!=null&&w<=B&&w<=T,G=F!=null&&F>=B&&F>=T;if(!E){import_ag_charts_core14.Logger.warnOnce(`invalid low value for key [${l}] in data element, low value cannot be higher than datum open or close values`);continue}if(!G){import_ag_charts_core14.Logger.warnOnce(`invalid high value for key [${n}] in data element, high value cannot be lower than datum open or close values.`);continue}N(R,O,B,T,F,w,S,!0)}}else{const{maxRange:L,indexData:C}=A,[R,O]=visibleRangeIndices(L,a.range,B=>{const T=B*SPAN,F=C[T+OPEN],w=C[T+CLOSE];if(F!==-1)return[_(F),_(w)+S]});for(let B=R;B<O;B+=1){const T=B*SPAN,F=C[T+OPEN],w=C[T+CLOSE],E=C[T+HIGH],G=C[T+LOW];if(F===-1)continue;const W=(F+w)/2|0,V=h[W];if(V==null)continue;const K=p[F],z=u[w],X=d[E],Y=f[G],U=Math.abs(_(w)-_(F))+S;N(W,V,K,z,X,Y,U,!1)}}return M}isVertical(){return!0}isLabelEnabled(){return!1}updateDatumSelection(e){const t=e.nodeData??[];return e.datumSelection.update(t)}updateLabelNodes(e){}updateLabelSelection(e){const{labelData:t,labelSelection:i}=e;return i.update(t)}getItemBaseStyle(e,t){const{properties:i}=this,a=i.item[e],s=t?i.highlightStyle.item:void 0,o={fill:s?.fill??a.fill,fillOpacity:s?.fillOpacity??a.fillOpacity,stroke:s?.stroke??a.stroke,strokeWidth:s?.strokeWidth??a.strokeWidth,strokeOpacity:s?.strokeOpacity??a.strokeOpacity,lineDash:s?.lineDash??a.lineDash,lineDashOffset:s?.lineDashOffset??a.lineDashOffset};return a.fillGradientDefaults&&a.fillPatternDefaults&&a.fillImageDefaults?getShapeStyle2(o,a.fillGradientDefaults,a.fillPatternDefaults,a.fillImageDefaults):o}getItemStyleOverrides(e,t,i,a,s){const{id:o,properties:r}=this,n=r.item[i],{itemStyler:l}=r;if(l==null)return;const{xKey:c,openKey:h,closeKey:p,highKey:u,lowKey:d}=r,f=this.cachedDatumCallback(createDatumId2(e,s?"highlight":"node"),()=>this.callWithContext(l,{seriesId:o,datum:t,itemId:i,xKey:c,openKey:h,closeKey:p,highKey:u,lowKey:d,highlighted:s,...a}));return n.fillGradientDefaults&&n.fillPatternDefaults&&n.fillImageDefaults?getShapeStyle2(f,n.fillGradientDefaults,n.fillPatternDefaults,n.fillImageDefaults):f}getTooltipContent(e){const{id:t,dataModel:i,processedData:a,properties:s}=this,{xKey:o,xName:r,yName:n,openKey:l,openName:c,highKey:h,highName:p,lowKey:u,lowName:d,closeKey:f,closeName:g,legendItemName:y,tooltip:m}=s,x=this.getCategoryAxis(),S=this.getValueAxis();if(!i||!a||!x||!S)return;const D=a.dataSources.get(this.id)?.[e],M=i.resolveKeysById(this,"xValue",a)[e],N=i.resolveColumnById(this,"openValue",a)[e],v=i.resolveColumnById(this,"highValue",a)[e],b=i.resolveColumnById(this,"lowValue",a)[e],I=i.resolveColumnById(this,"closeValue",a)[e];if(M==null)return;const k=I>=N?"up":"down",P=this.properties.item[k],_=this.getItemBaseStyle(k,!1);Object.assign(_,this.getItemStyleOverrides(String(e),D,k,_,!1));let A={fill:P.fill??P.stroke,fillOpacity:P.fillOpacity??P.strokeOpacity??1,stroke:P.stroke,strokeWidth:P.strokeWidth??1,strokeOpacity:P.strokeOpacity??1,lineDash:P.lineDash??[0],lineDashOffset:P.lineDashOffset??0};return P.fillGradientDefaults&&P.fillPatternDefaults&&P.fillImageDefaults&&(A=getShapeStyle2(A,P.fillGradientDefaults,P.fillPatternDefaults,P.fillImageDefaults)),this.formatTooltipWithContext(m,{heading:x.formatDatum(M),title:y,symbol:{marker:A},data:[{label:c,fallbackLabel:l,value:S.formatDatum(N)},{label:p,fallbackLabel:h,value:S.formatDatum(v)},{label:d,fallbackLabel:u,value:S.formatDatum(b)},{label:g,fallbackLabel:f,value:S.formatDatum(I)}]},{seriesId:t,datum:D,title:n,itemId:k,xKey:o,xName:r,yName:n,openKey:l,openName:c,highKey:h,highName:p,lowKey:u,lowName:d,closeKey:f,closeName:g,..._})}getDatumId(e){return createDatumId2(e.xValue)}computeFocusBounds(e){const t=this.getNodeData()?.at(e.datumIndex);if(t==null)return;const{centerX:i,y:a,width:s,height:o}=t,r={x:i-s/2,y:a,width:s,height:o};return computeBarFocusBounds2(this,r)}},import_ag_charts_community34=require("ag-charts-community"),import_ag_charts_community33=require("ag-charts-community"),{Path:Path5,SceneChangeDetection,BBox:BBox3}=import_ag_charts_community33._ModuleSupport,OhlcBaseNode=class extends Path5{constructor(){super(...arguments),this.centerX=0,this.y=0,this.width=0,this.height=0,this.yOpen=0,this.yClose=0,this.crisp=!1,this.strokeAlignment=0}computeBBox(){const{centerX:e,y:t,width:i,height:a}=this;return new BBox3(e-i/2,t,i,a)}isPointInPath(e,t){return this.getBBox().containsPoint(e,t)}distanceSquared(e,t){return this.getBBox().distanceSquared(e,t)}get midPoint(){return{x:this.centerX,y:this.y+this.height/2}}alignedCoordinates(){const{y:e,width:t,height:i,crisp:a,strokeAlignment:s}=this;let{centerX:o,yOpen:r,yClose:n}=this,l=o-t/2,c=o+t/2,h=e,p=e+i;if(a&&t>1){o=this.align(o),r=this.align(r),n=this.align(n);const d=this.align(t/2);l=o-d,c=o+d,h=this.align(e),p=h+this.align(h,i)}const u=(h+p)/2;return o+=s,l+=s,c+=s,h-=s,p+=s,r+=r<u?s:-s,n+=n<u?s:-s,{centerX:o,x0:l,x1:c,y0:h,y1:p,yOpen:r,yClose:n}}executeStroke(e,t){const{width:i,strokeWidth:a}=this;i<a&&(e.lineWidth=i),super.executeStroke(e,t)}};__decorateClass([SceneChangeDetection()],OhlcBaseNode.prototype,"centerX",2),__decorateClass([SceneChangeDetection()],OhlcBaseNode.prototype,"y",2),__decorateClass([SceneChangeDetection()],OhlcBaseNode.prototype,"width",2),__decorateClass([SceneChangeDetection()],OhlcBaseNode.prototype,"height",2),__decorateClass([SceneChangeDetection()],OhlcBaseNode.prototype,"yOpen",2),__decorateClass([SceneChangeDetection()],OhlcBaseNode.prototype,"yClose",2),__decorateClass([SceneChangeDetection()],OhlcBaseNode.prototype,"crisp",2),__decorateClass([SceneChangeDetection()],OhlcBaseNode.prototype,"strokeAlignment",2);var OhlcNode=class extends OhlcBaseNode{updatePath(){const{path:e}=this,{centerX:t,x0:i,x1:a,y0:s,y1:o,yOpen:r,yClose:n}=this.alignedCoordinates();e.clear(),e.moveTo(t,s),e.lineTo(t,o),Math.abs(a-i)>1&&(e.moveTo(i,r),e.lineTo(t,r),e.moveTo(t,n),e.lineTo(a,n))}},{SceneArrayChangeDetection,SceneChangeDetection:SceneChangeDetection2,ExtendedPath2D,BBox:BBox4}=import_ag_charts_community34._ModuleSupport,CandlestickNode=class extends OhlcBaseNode{constructor(){super(...arguments),this.wickPath=new ExtendedPath2D,this.wickStroke=void 0,this.wickStrokeWidth=void 0,this.wickStrokeOpacity=void 0}computeDefaultGradientFillBBox(){const{width:e,centerX:t,yOpen:i,yClose:a}=this,s=Math.min(i,a),r=Math.max(i,a)-s,n=t-e/2,l=t+e/2;return new BBox4(n,s,l-n,r)}updatePath(){const{path:e,stroke:t,strokeWidth:i,strokeOpacity:a,lineDash:s,lineDashOffset:o,wickStroke:r,wickStrokeWidth:n,wickStrokeOpacity:l,wickLineDash:c,wickLineDashOffset:h,strokeAlignment:p}=this,{centerX:u,x0:d,x1:f,y0:g,y1:y,yOpen:m,yClose:x}=this.alignedCoordinates();this.path.clear(),this.wickPath.clear();const D=r!=null&&r!==t||n!=null&&n!==i||l!=null&&l!==a||c!=null&&c!==s||h!=null&&h!==o?this.wickPath:e;if(Math.abs(f-d)<=3){D.moveTo(u,g),D.lineTo(u,y);return}const M=Math.min(m,x),N=Math.max(m,x);D.moveTo(u,g),D.lineTo(u,M+i/2),D.moveTo(u,y),D.lineTo(u,N-i/2);const v=p+i/2,b=N-M-2*v;if(b>0)e.rect(d+v,M+v,f-d-2*v,b);else{const I=(M+N)/2;e.moveTo(d,I),e.lineTo(f,I)}}drawPath(e){super.drawPath(e);const{wickPath:t}=this;if(t.isEmpty())return;const{stroke:i,strokeWidth:a,strokeOpacity:s,lineDash:o,lineDashOffset:r,wickStroke:n=i,wickStrokeWidth:l=a,wickStrokeOpacity:c=s,wickLineDash:h=o,wickLineDashOffset:p=r}=this;l!==0&&(e.globalAlpha*=c,typeof n=="string"&&(e.strokeStyle=n),e.lineWidth=l,h!=null&&e.setLineDash([...h]),e.lineDashOffset=p,e.stroke(t.getPath2D()))}};__decorateClass([SceneChangeDetection2()],CandlestickNode.prototype,"wickStroke",2),__decorateClass([SceneChangeDetection2()],CandlestickNode.prototype,"wickStrokeWidth",2),__decorateClass([SceneChangeDetection2()],CandlestickNode.prototype,"wickStrokeOpacity",2),__decorateClass([SceneArrayChangeDetection()],CandlestickNode.prototype,"wickLineDash",2),__decorateClass([SceneChangeDetection2()],CandlestickNode.prototype,"wickLineDashOffset",2);var import_ag_charts_community36=require("ag-charts-community"),import_ag_charts_community35=require("ag-charts-community"),{BaseProperties:BaseProperties3,Property:Property14,AbstractBarSeriesProperties:AbstractBarSeriesProperties2,SeriesTooltip:SeriesTooltip2}=import_ag_charts_community35._ModuleSupport,OhlcSeriesItem=class extends BaseProperties3{constructor(){super(...arguments),this.stroke="#333",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0}};__decorateClass([Property14],OhlcSeriesItem.prototype,"stroke",2),__decorateClass([Property14],OhlcSeriesItem.prototype,"strokeWidth",2),__decorateClass([Property14],OhlcSeriesItem.prototype,"strokeOpacity",2),__decorateClass([Property14],OhlcSeriesItem.prototype,"lineDash",2),__decorateClass([Property14],OhlcSeriesItem.prototype,"lineDashOffset",2);var OhlcSeriesItems=class extends BaseProperties3{constructor(){super(...arguments),this.up=new OhlcSeriesItem,this.down=new OhlcSeriesItem}};__decorateClass([Property14],OhlcSeriesItems.prototype,"up",2),__decorateClass([Property14],OhlcSeriesItems.prototype,"down",2);var OhlcSeriesBaseProperties=class extends AbstractBarSeriesProperties2{};__decorateClass([Property14],OhlcSeriesBaseProperties.prototype,"xKey",2),__decorateClass([Property14],OhlcSeriesBaseProperties.prototype,"openKey",2),__decorateClass([Property14],OhlcSeriesBaseProperties.prototype,"closeKey",2),__decorateClass([Property14],OhlcSeriesBaseProperties.prototype,"highKey",2),__decorateClass([Property14],OhlcSeriesBaseProperties.prototype,"lowKey",2),__decorateClass([Property14],OhlcSeriesBaseProperties.prototype,"xName",2),__decorateClass([Property14],OhlcSeriesBaseProperties.prototype,"yName",2),__decorateClass([Property14],OhlcSeriesBaseProperties.prototype,"openName",2),__decorateClass([Property14],OhlcSeriesBaseProperties.prototype,"closeName",2),__decorateClass([Property14],OhlcSeriesBaseProperties.prototype,"highName",2),__decorateClass([Property14],OhlcSeriesBaseProperties.prototype,"lowName",2);var OhlcSeriesProperties=class extends OhlcSeriesBaseProperties{constructor(){super(...arguments),this.tooltip=new SeriesTooltip2,this.item=new OhlcSeriesItems}};__decorateClass([Property14],OhlcSeriesProperties.prototype,"tooltip",2),__decorateClass([Property14],OhlcSeriesProperties.prototype,"item",2),__decorateClass([Property14],OhlcSeriesProperties.prototype,"itemStyler",2);var{FillGradientDefaults:FillGradientDefaults2,FillPatternDefaults:FillPatternDefaults2,FillImageDefaults:FillImageDefaults2,BaseProperties:BaseProperties4,SeriesTooltip:SeriesTooltip3,Property:Property15}=import_ag_charts_community36._ModuleSupport,CandlestickSeriesWick=class extends BaseProperties4{};__decorateClass([Property15],CandlestickSeriesWick.prototype,"stroke",2),__decorateClass([Property15],CandlestickSeriesWick.prototype,"strokeWidth",2),__decorateClass([Property15],CandlestickSeriesWick.prototype,"strokeOpacity",2),__decorateClass([Property15],CandlestickSeriesWick.prototype,"lineDash",2),__decorateClass([Property15],CandlestickSeriesWick.prototype,"lineDashOffset",2);var CandlestickSeriesItem=class extends BaseProperties4{constructor(){super(...arguments),this.fill="#c16068",this.fillGradientDefaults=new FillGradientDefaults2,this.fillPatternDefaults=new FillPatternDefaults2,this.fillImageDefaults=new FillImageDefaults2,this.fillOpacity=1,this.stroke="#333",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.wick=new CandlestickSeriesWick}};__decorateClass([Property15],CandlestickSeriesItem.prototype,"fill",2),__decorateClass([Property15],CandlestickSeriesItem.prototype,"fillGradientDefaults",2),__decorateClass([Property15],CandlestickSeriesItem.prototype,"fillPatternDefaults",2),__decorateClass([Property15],CandlestickSeriesItem.prototype,"fillImageDefaults",2),__decorateClass([Property15],CandlestickSeriesItem.prototype,"fillOpacity",2),__decorateClass([Property15],CandlestickSeriesItem.prototype,"stroke",2),__decorateClass([Property15],CandlestickSeriesItem.prototype,"strokeWidth",2),__decorateClass([Property15],CandlestickSeriesItem.prototype,"strokeOpacity",2),__decorateClass([Property15],CandlestickSeriesItem.prototype,"lineDash",2),__decorateClass([Property15],CandlestickSeriesItem.prototype,"lineDashOffset",2),__decorateClass([Property15],CandlestickSeriesItem.prototype,"cornerRadius",2),__decorateClass([Property15],CandlestickSeriesItem.prototype,"wick",2);var CandlestickSeriesItems=class extends BaseProperties4{constructor(){super(...arguments),this.up=new CandlestickSeriesItem,this.down=new CandlestickSeriesItem}};__decorateClass([Property15],CandlestickSeriesItems.prototype,"up",2),__decorateClass([Property15],CandlestickSeriesItems.prototype,"down",2);var CandlestickSeriesProperties=class extends OhlcSeriesBaseProperties{constructor(){super(...arguments),this.item=new CandlestickSeriesItems,this.tooltip=new SeriesTooltip3}};__decorateClass([Property15],CandlestickSeriesProperties.prototype,"item",2),__decorateClass([Property15],CandlestickSeriesProperties.prototype,"tooltip",2),__decorateClass([Property15],CandlestickSeriesProperties.prototype,"itemStyler",2);var{createDatumId:createDatumId3,isGradientFill:isGradientFill2,isPatternFill,isImageFill,getShapeFill,applyShapeStyle,getShapeStyle:getShapeStyle3}=import_ag_charts_community37._ModuleSupport,CandlestickSeries=class extends OhlcSeriesBase{constructor(){super(...arguments),this.properties=new CandlestickSeriesProperties}nodeFactory(){return new CandlestickNode}updateDatumNodes({datumSelection:e,isHighlight:t}){const{id:i,properties:a}=this,{xKey:s,highKey:o,lowKey:r,openKey:n,closeKey:l,item:c,itemStyler:h}=a,{up:p,down:u}=c,d=getShapeStyle3({fill:p.fill,fillOpacity:p.fillOpacity,stroke:p.stroke,strokeWidth:p.strokeWidth,strokeOpacity:p.strokeOpacity,lineDash:p.lineDash,lineDashOffset:p.lineDashOffset},p.fillGradientDefaults,p.fillPatternDefaults,p.fillImageDefaults),f=getShapeStyle3({fill:u.fill,fillOpacity:u.fillOpacity,stroke:u.stroke,strokeWidth:u.strokeWidth,strokeOpacity:u.strokeOpacity,lineDash:u.lineDash,lineDashOffset:u.lineDashOffset},u.fillGradientDefaults,u.fillPatternDefaults,u.fillImageDefaults),g=t?a.highlightStyle.item:void 0;e.each((y,m)=>{const{isRising:x,centerX:S,width:D,y:M,height:N,yOpen:v,yClose:b,crisp:I}=m;let k;if(h!=null){const{fill:L,fillOpacity:C,stroke:R,strokeWidth:O,strokeOpacity:B,lineDash:T,lineDashOffset:F}=x?d:f;k=getShapeStyle3(this.cachedDatumCallback(createDatumId3(this.getDatumId(m),t?"highlight":"node"),()=>this.callWithContext(h,{seriesId:i,itemId:m.itemId,xKey:s,highKey:o,lowKey:r,openKey:n,closeKey:l,datum:m.datum,fill:L,fillOpacity:C,strokeOpacity:B,stroke:R,strokeWidth:O,lineDash:T,lineDashOffset:F,highlighted:t})),x?p.fillGradientDefaults:u.fillGradientDefaults,x?p.fillPatternDefaults:u.fillPatternDefaults,x?p.fillImageDefaults:u.fillImageDefaults)}y.centerX=S,y.width=D,y.y=M,y.height=N,y.yOpen=v,y.yClose=b,y.crisp=I;const P=x?d:f,_=x?p.wick:u.wick;applyShapeStyle(y,{fill:g?.fill??k?.fill??P.fill,fillOpacity:g?.fillOpacity??k?.fillOpacity??P.fillOpacity,stroke:g?.stroke??k?.stroke??P.stroke,strokeWidth:g?.strokeWidth??k?.strokeWidth??P.strokeWidth,strokeOpacity:g?.strokeOpacity??k?.strokeOpacity??P.strokeOpacity,lineDash:g?.lineDash??k?.lineDash??P.lineDash,lineDashOffset:g?.lineDashOffset??k?.lineDashOffset??P.lineDashOffset},void 0,this.getShapeFillBBox());const A=k?.wick;y.wickStroke=g?.stroke??A?.stroke??_.stroke,y.wickStrokeWidth=g?.strokeWidth??A?.strokeWidth??_.strokeWidth,y.wickStrokeOpacity=g?.strokeOpacity??A?.strokeOpacity??_.strokeOpacity,y.wickLineDash=g?.lineDash??A?.lineDash??_.lineDash,y.wickLineDashOffset=g?.lineDashOffset??A?.lineDashOffset??_.lineDashOffset,y.strokeAlignment=(k?.strokeWidth??P.strokeWidth)/2})}legendItemSymbol(){const{up:e,down:t}=this.properties.item,i=getShapeFill(e.fill,e.fillGradientDefaults,e.fillPatternDefaults,e.fillImageDefaults),a=isGradientFill2(i)?i.colorStops.map(l=>typeof l=="string"?l:{color:l.color,stop:l.stop!=null?l.stop*.5:void 0}):[{color:isPatternFill(i)||isImageFill(i)?e.stroke:i,stop:0},{color:isPatternFill(i)||isImageFill(i)?e.stroke:i,stop:.5}],s=getShapeFill(t.fill,t.fillGradientDefaults,t.fillPatternDefaults,t.fillImageDefaults),o=isGradientFill2(s)?s.colorStops.map(l=>typeof l=="string"?l:{color:l.color,stop:l.stop!=null?l.stop*.5:void 0}):[{color:isPatternFill(s)||isImageFill(s)?t.stroke:s,stop:.5}],r={type:"gradient",gradient:"linear",rotation:90,colorStops:[...a,...o],reverse:!1},n={type:"gradient",gradient:"linear",rotation:90,colorStops:[{color:e.stroke,stop:0},{color:e.stroke,stop:.5},{color:t.stroke,stop:.5}],reverse:!1};return{marker:{fill:r,fillOpacity:e.fillOpacity,stroke:n,strokeWidth:e.strokeWidth??1,strokeOpacity:e.strokeOpacity??1,lineDash:e.lineDash,lineDashOffset:e.lineDashOffset}}}getLegendData(e){const{id:t,data:i,visible:a,ctx:{legendManager:s}}=this,{xKey:o,yName:r,showInLegend:n,legendItemName:l}=this.properties;return!i?.length||!o||e!=="category"?[]:[{legendType:"category",id:t,itemId:t,seriesId:t,enabled:a&&s.getItemEnabled({seriesId:t,itemId:t}),label:{text:l??r??t},symbol:this.legendItemSymbol(),legendItemName:l,hideInLegend:!n}]}};CandlestickSeries.className="CandleStickSeries",CandlestickSeries.type="candlestick";var import_ag_charts_community38=require("ag-charts-community"),import_ag_charts_core15=require("ag-charts-core"),{commonSeriesOptionsDefs:commonSeriesOptionsDefs2,candlestickSeriesThemeableOptionsDef}=import_ag_charts_community38._ModuleSupport,candlestickSeriesOptionsDef={...candlestickSeriesThemeableOptionsDef,...commonSeriesOptionsDefs2,type:(0,import_ag_charts_core15.required)((0,import_ag_charts_core15.constant)("candlestick")),xKey:(0,import_ag_charts_core15.required)(import_ag_charts_core15.string),openKey:(0,import_ag_charts_core15.required)(import_ag_charts_core15.string),highKey:(0,import_ag_charts_core15.required)(import_ag_charts_core15.string),lowKey:(0,import_ag_charts_core15.required)(import_ag_charts_core15.string),closeKey:(0,import_ag_charts_core15.required)(import_ag_charts_core15.string),xName:import_ag_charts_core15.string,yName:import_ag_charts_core15.string,openName:import_ag_charts_core15.string,highName:import_ag_charts_core15.string,lowName:import_ag_charts_core15.string,closeName:import_ag_charts_core15.string};candlestickSeriesOptionsDef.pickOutsideVisibleMinorAxis=(0,import_ag_charts_core15.undocumented)(import_ag_charts_core15.boolean),candlestickSeriesOptionsDef.focusPriority=(0,import_ag_charts_core15.undocumented)(import_ag_charts_core15.number);var import_ag_charts_community39=require("ag-charts-community"),{CARTESIAN_AXIS_TYPE:CARTESIAN_AXIS_TYPE2}=import_ag_charts_community39._ModuleSupport.ThemeConstants;function itemTheme(e){return{fill:{$if:[{$eq:[{$palette:"type"},"user-indexed"]},e==="up"?"transparent":{$palette:"fill"},{$palette:`${e}.fill`}]},stroke:{$if:[{$eq:[{$palette:"type"},"user-indexed"]},{$palette:"stroke"},{$palette:`${e}.stroke`}]},fillGradientDefaults:{type:"gradient",gradient:"linear",bounds:"item",colorStops:{$if:[{$or:[{$isGradient:[{$palette:`${e}.fill`}]},{$isPattern:[{$palette:`${e}.fill`}]},{$isImage:[{$palette:`${e}.fill`}]}]},{$map:[{$path:["./color",void 0,{$value:"$1"}]},{$path:["./colorStops",void 0,{$palette:`${e}.fill`}]}]},[{$mix:[{$palette:`${e}.fill`},"black",.15]},{$mix:[{$palette:`${e}.fill`},"white",.15]}]]},rotation:0,reverse:!1},fillPatternDefaults:import_ag_charts_community39._ModuleSupport.FILL_PATTERN_DEFAULTS,fillImageDefaults:import_ag_charts_community39._ModuleSupport.FILL_IMAGE_DEFAULTS}}var CANDLESTICK_SERIES_THEME={series:{item:{up:itemTheme("up"),down:itemTheme("down")},highlightStyle:{item:{strokeWidth:3}}},animation:{enabled:!1},axes:{[CARTESIAN_AXIS_TYPE2.NUMBER]:{crosshair:{snap:!1}},[CARTESIAN_AXIS_TYPE2.ORDINAL_TIME]:{groupPaddingInner:0,crosshair:{enabled:!0}}}},{CARTESIAN_AXIS_TYPE:CARTESIAN_AXIS_TYPE3,CARTESIAN_POSITION}=import_ag_charts_community40._ModuleSupport.ThemeConstants,CandlestickModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["cartesian"],identifier:"candlestick",moduleFactory:e=>new CandlestickSeries(e),tooltipDefaults:{range:"nearest"},defaultAxes:[{type:CARTESIAN_AXIS_TYPE3.NUMBER,position:CARTESIAN_POSITION.LEFT},{type:CARTESIAN_AXIS_TYPE3.ORDINAL_TIME,position:CARTESIAN_POSITION.BOTTOM}],themeTemplate:CANDLESTICK_SERIES_THEME,groupable:!1},CandlestickSeriesModule={type:"series",name:"candlestick",chartType:"cartesian",enterprise:!0,options:candlestickSeriesOptionsDef,create:e=>new CandlestickSeries(e)},import_ag_charts_community47=require("ag-charts-community"),import_ag_charts_community44=require("ag-charts-community"),import_ag_charts_core17=require("ag-charts-core"),import_ag_charts_community41=require("ag-charts-community"),import_ag_charts_core16=require("ag-charts-core"),{CachedTextMeasurerPool,TextUtils:TextUtils2,TextWrapper:TextWrapper2}=import_ag_charts_community41._ModuleSupport;function generateLabelSecondaryLabelFontSizeCandidates(e,t){const{fontSize:i,minimumFontSize:a=i}=e,{fontSize:s,minimumFontSize:o=s}=t,r=i-a,n=s-o;let l=e.fontSize,c=t.fontSize;const h=[{labelFontSize:i,secondaryLabelFontSize:s}];for(;l>a||c>o;){const p=r>0?(l-a)/r:-1,u=n>0?(c-o)/n:-1;p>u?l--:c--,h.push({labelFontSize:l,secondaryLabelFontSize:c})}return h.reverse(),h}function getLineHeight(e,t){return e.lineHeight!=null&&e.fontSize!=null?e.lineHeight*t/e.fontSize:TextUtils2.getLineHeight(t)}function formatStackedLabels(e,t,i,a,{padding:s},o){const{spacing:r=0}=t,n=2*s,l=2*s+r,c=(t.minimumFontSize??t.fontSize)+(a.minimumFontSize??a.fontSize);if(c>o(c+l,!1).height-l)return;const h=generateLabelSecondaryLabelFontSizeCandidates(t,a),p={fontFamily:t.fontFamily,fontSize:t.fontSize,fontStyle:t.fontStyle,fontWeight:t.fontWeight},u={fontFamily:a.fontFamily,fontSize:a.fontSize,fontStyle:a.fontStyle,fontWeight:a.fontWeight};let d,f;return(0,import_ag_charts_core16.findMaxValue)(0,h.length-1,g=>{const{labelFontSize:y,secondaryLabelFontSize:m}=h[g],x=g===0,S=getLineHeight(t,y),D=getLineHeight(a,m),M=o(S+D+l,x),N=M.width-n,v=M.height-l;if(S+D>v||((d==null||d.fontSize!==y)&&(p.fontSize=y,d=wrapLabel(t,e,N,v,p,t.wrapping,x?t.overflowStrategy:"hide")),d==null||d.width>N||d.height>v)||((f==null||f.fontSize!==m)&&(u.fontSize=m,f=wrapLabel(a,i,N,v,u,a.wrapping,x?a.overflowStrategy:"hide")),f==null))return;const b=d.height+f.height;if(!(f.width>N||b>v))return{width:Math.max(d.width,f.width),height:b+r,meta:M.meta,label:d,secondaryLabel:f}})}function formatSingleLabel(e,t,{padding:i},a){const s=2*i,o=Math.min(t.minimumFontSize??t.fontSize,t.fontSize),r={fontFamily:t.fontFamily,fontSize:t.fontSize,fontStyle:t.fontStyle,fontWeight:t.fontWeight};return(0,import_ag_charts_core16.findMaxValue)(o,t.fontSize,n=>{const l=getLineHeight(t,n),c=n===o,h=a(l+s,c),p=h.width-s,u=h.height-s;if(l>u)return;r.fontSize=n;const d=TextWrapper2.wrapLines(e,{maxWidth:p,maxHeight:u,font:r,textWrap:t.wrapping,overflow:(c?t.overflowStrategy:void 0)??"hide"});if(!d.length)return;const f=clipLines(d,{lineHeight:l,font:r,maxWidth:p,maxHeight:u});if(f)return[{fontSize:n,lineHeight:l,...f},h.meta]})}function hasInvalidFontSize(e){return e?.minimumFontSize!=null&&e?.fontSize!=null&&e?.minimumFontSize>e?.fontSize}function formatLabels(e,t,i,a,s,o){const r=t.enabled?e:void 0,n=a.enabled?i:void 0;(hasInvalidFontSize(t)||hasInvalidFontSize(a))&&import_ag_charts_core16.Logger.warnOnce("minimumFontSize should be set to a value less than or equal to the font size");let l;r!=null&&n!=null&&(l=formatStackedLabels(r,t,n,a,s,o));let c;if(l==null&&r!=null&&(c=formatSingleLabel(r,t,s,o)),c!=null){const[p,u]=c;l={width:p.width,height:p.height,meta:u,label:p,secondaryLabel:void 0}}let h;if(l==null&&r==null&&n!=null&&(h=formatSingleLabel(n,a,s,o)),h!=null){const[p,u]=h;l={width:p.width,height:p.height,meta:u,label:void 0,secondaryLabel:p}}return l}function wrapLabel(e,t,i,a,s,o,r){const n=TextWrapper2.wrapLines(t,{maxWidth:i,maxHeight:a,font:s,textWrap:o,overflow:r});if(!n.length)return;const l=getLineHeight(e,s.fontSize),{width:c}=CachedTextMeasurerPool.measureLines(n,{font:s});return{width:c,lineHeight:l,text:n.join(`
`),height:n.length*l,fontSize:s.fontSize}}function clipLines(e,{font:t,lineHeight:i=TextUtils2.defaultLineHeight,maxWidth:a,maxHeight:s=1/0}){let o=i*e.length;for(;o>s;){if(e.length===1)return;e.pop(),e[e.length-1]=TextWrapper2.appendEllipsis(e.at(-1)),o=i*e.length}const r=CachedTextMeasurerPool.measureLines(e,{font:t});let n,l;if(r.width>a){const c=[];l=0;for(const h of r.lineMetrics){if(h.width>a){if(!c.length)return;break}c.push(h.text),l=Math.max(l,h.width)}n=TextWrapper2.appendEllipsis(c.join(`
`))}else n=e.join(`
`),l=r.width;return{text:n,width:l,height:o}}var import_ag_charts_community43=require("ag-charts-community"),import_ag_charts_community42=require("ag-charts-community"),{Property:Property16}=import_ag_charts_community42._ModuleSupport,BaseAutoSizedLabel=class extends import_ag_charts_community42._ModuleSupport.Label{constructor(){super(...arguments),this.wrapping="on-space",this.overflowStrategy="ellipsis"}};__decorateClass([Property16],BaseAutoSizedLabel.prototype,"wrapping",2),__decorateClass([Property16],BaseAutoSizedLabel.prototype,"overflowStrategy",2),__decorateClass([Property16],BaseAutoSizedLabel.prototype,"lineHeight",2),__decorateClass([Property16],BaseAutoSizedLabel.prototype,"minimumFontSize",2);var AutoSizedLabel=class extends BaseAutoSizedLabel{constructor(){super(...arguments),this.spacing=0}};__decorateClass([Property16],AutoSizedLabel.prototype,"spacing",2);var AutoSizedSecondaryLabel=class extends BaseAutoSizedLabel{},{CartesianSeriesProperties,SeriesTooltip:SeriesTooltip4,Property:Property17}=import_ag_charts_community43._ModuleSupport,HeatmapSeriesProperties=class extends CartesianSeriesProperties{constructor(){super(...arguments),this.colorRange=["black","black"],this.stroke="black",this.strokeOpacity=1,this.strokeWidth=0,this.textAlign="center",this.verticalAlign="middle",this.itemPadding=0,this.label=new AutoSizedLabel,this.tooltip=new SeriesTooltip4}};__decorateClass([Property17],HeatmapSeriesProperties.prototype,"title",2),__decorateClass([Property17],HeatmapSeriesProperties.prototype,"xKey",2),__decorateClass([Property17],HeatmapSeriesProperties.prototype,"yKey",2),__decorateClass([Property17],HeatmapSeriesProperties.prototype,"colorKey",2),__decorateClass([Property17],HeatmapSeriesProperties.prototype,"xName",2),__decorateClass([Property17],HeatmapSeriesProperties.prototype,"yName",2),__decorateClass([Property17],HeatmapSeriesProperties.prototype,"colorName",2),__decorateClass([Property17],HeatmapSeriesProperties.prototype,"colorRange",2),__decorateClass([Property17],HeatmapSeriesProperties.prototype,"stroke",2),__decorateClass([Property17],HeatmapSeriesProperties.prototype,"strokeOpacity",2),__decorateClass([Property17],HeatmapSeriesProperties.prototype,"strokeWidth",2),__decorateClass([Property17],HeatmapSeriesProperties.prototype,"textAlign",2),__decorateClass([Property17],HeatmapSeriesProperties.prototype,"verticalAlign",2),__decorateClass([Property17],HeatmapSeriesProperties.prototype,"itemPadding",2),__decorateClass([Property17],HeatmapSeriesProperties.prototype,"itemStyler",2),__decorateClass([Property17],HeatmapSeriesProperties.prototype,"label",2),__decorateClass([Property17],HeatmapSeriesProperties.prototype,"tooltip",2);var{SeriesNodePickMode:SeriesNodePickMode3,computeBarFocusBounds:computeBarFocusBounds3,getMissCount,valueProperty:valueProperty3,ChartAxisDirection:ChartAxisDirection8,DEFAULT_CARTESIAN_DIRECTION_KEYS,DEFAULT_CARTESIAN_DIRECTION_NAMES,createDatumId:createDatumId4,ColorScale,Rect:Rect2,PointerEvents,applyShapeStyle:applyShapeStyle2}=import_ag_charts_community44._ModuleSupport,HeatmapSeriesNodeEvent=class extends import_ag_charts_community44._ModuleSupport.CartesianSeriesNodeEvent{constructor(e,t,i,a){super(e,t,i,a),this.colorKey=a.properties.colorKey}},textAlignFactors={left:-.5,center:0,right:-.5},verticalAlignFactors={top:-.5,middle:0,bottom:-.5},HeatmapSeries=class extends import_ag_charts_community44._ModuleSupport.CartesianSeries{constructor(e){super({moduleCtx:e,directionKeys:DEFAULT_CARTESIAN_DIRECTION_KEYS,directionNames:DEFAULT_CARTESIAN_DIRECTION_NAMES,categoryKey:void 0,pickModes:[SeriesNodePickMode3.NEAREST_NODE,SeriesNodePickMode3.EXACT_SHAPE_MATCH],pathsPerSeries:[],hasMarkers:!1,hasHighlightedLabels:!0}),this.properties=new HeatmapSeriesProperties,this.NodeEvent=HeatmapSeriesNodeEvent,this.colorScale=new ColorScale}async processData(e){const t=this.axes[ChartAxisDirection8.X],i=this.axes[ChartAxisDirection8.Y];if(!t||!i||!this.data?.length)return;const{xKey:a,yKey:s,colorRange:o,colorKey:r}=this.properties,n=this.axes[ChartAxisDirection8.X]?.scale,l=this.axes[ChartAxisDirection8.Y]?.scale,{xScaleType:c,yScaleType:h}=this.getScaleInformation({xScale:n,yScale:l}),p=this.colorScale.type,{dataModel:u,processedData:d}=await this.requestDataModel(e,this.data,{props:[valueProperty3(a,c,{id:"xValue"}),valueProperty3(s,h,{id:"yValue"}),...r?[valueProperty3(r,p,{id:"colorValue",invalidValue:null})]:[]]});if(this.isColorScaleValid()){const f=u.resolveProcessedDataIndexById(this,"colorValue");this.colorScale.domain=d.domain.values[f],this.colorScale.range=o,this.colorScale.update()}}isColorScaleValid(){const{colorKey:e}=this.properties;if(!e)return!1;const{dataModel:t,processedData:i}=this;if(!t||!i)return!1;const a=t.resolveProcessedDataIndexById(this,"colorValue"),s=i.input.count,o=getMissCount(this,i.defs.values[a].missing);return!(s===0||s===o)}xCoordinateRange(e,t){const i=this.axes[ChartAxisDirection8.X].scale,a=t*(i.bandwidth??0)/2,s=i.convert(e)+a,o=t*(i.bandwidth??10);return[s,s+o]}yCoordinateRange(e,t){const i=this.axes[ChartAxisDirection8.Y].scale,a=t*(i.bandwidth??0)/2,s=i.convert(e[0])+a,o=t*(i.bandwidth??10);return[s,s+o]}getSeriesDomain(e){const{dataModel:t,processedData:i}=this;return!t||!i?[]:e===ChartAxisDirection8.X?t.getDomain(this,"xValue","value",i):t.getDomain(this,"yValue","value",i)}getSeriesRange(e,t){return[NaN,NaN]}createNodeData(){const{data:e,visible:t,axes:i,dataModel:a,processedData:s}=this,o=i[ChartAxisDirection8.X],r=i[ChartAxisDirection8.Y];if(!(e&&a&&s&&t&&o&&r))return;if(o.type!=="category"||r.type!=="category"){import_ag_charts_core17.Logger.warnOnce(`Heatmap series expected axes to have "category" type, but received "${o.type}" and "${r.type}" instead.`);return}const{xKey:n,xName:l,yKey:c,yName:h,colorKey:p,colorName:u,textAlign:d,verticalAlign:f,itemPadding:g,label:y}=this.properties,m=a.resolveColumnById(this,"xValue",s),x=a.resolveColumnById(this,"yValue",s),S=p?a.resolveColumnById(this,"colorValue",s):void 0,D=o.scale,M=r.scale,N=(D.bandwidth??0)/2,v=(M.bandwidth??0)/2,b=[],I=[],k=D.bandwidth??10,P=M.bandwidth??10,_=(k-2*g)*textAlignFactors[d],A=(P-2*g)*verticalAlignFactors[f],L=()=>({width:k,height:P,meta:null});return(s.dataSources.get(this.id)??[]).forEach((R,O)=>{const B=m[O],T=x[O],F=D.convert(B)+N,w=M.convert(T)+v,E=S?.[O],G=E==null?void 0:this.getLabelText(y,{value:E,datum:R,colorKey:p,colorName:u,xKey:n,yKey:c,xName:l,yName:h}),W=formatLabels(G,this.properties.label,void 0,this.properties.label,{padding:g},L),V={x:F,y:w,size:0};if(b.push({series:this,itemId:c,datumIndex:O,yKey:c,xKey:n,xValue:B,yValue:T,colorValue:E,datum:R,point:V,width:k,height:P,midPoint:{x:F,y:w},missing:S!=null&&E==null}),W?.label!=null){const{text:K,fontSize:z,lineHeight:X,height:Y}=W.label,{fontStyle:U,fontFamily:H,fontWeight:$,color:j}=this.properties.label,Z=V.x+_*(k-2*g),q=V.y+A*(P-2*g)-(W.height-Y)*.5;I.push({series:this,itemId:c,datum:R,datumIndex:O,text:K,fontSize:z,lineHeight:X,fontStyle:U,fontFamily:H,fontWeight:$,color:j,textAlign:d,verticalAlign:f,x:Z,y:q})}}),{itemId:this.properties.yKey??this.id,nodeData:b,labelData:I,scales:this.calculateScaling(),visible:this.visible}}nodeFactory(){return new Rect2}update(e){return this.ctx.animationManager.skipCurrentBatch(),super.update(e)}updateDatumSelection(e){const{nodeData:t,datumSelection:i}=e,a=t??[];return i.update(a)}getItemBaseStyle(e){const{properties:t}=this,i=e?t.highlightStyle.item:void 0;return{fill:i?.fill,fillOpacity:i?.fillOpacity??1,stroke:i?.stroke??t.stroke,strokeWidth:i?.strokeWidth??this.getStrokeWidth(t.strokeWidth),strokeOpacity:i?.strokeOpacity??t.strokeOpacity}}getItemStyleOverrides(e,t,i,a,s){const{id:o,properties:r}=this,{xKey:n,yKey:l,itemStyler:c}=r,h=this.isColorScaleValid()&&i!=null?this.colorScale.convert(i):"transparent";let p=a.fill==null?{fill:h}:void 0;if(c!=null){p??(p={});const u=this.cachedDatumCallback(createDatumId4(e,s?"highlight":"node"),()=>this.callWithContext(c,{seriesId:o,datum:t,xKey:n,yKey:l,highlighted:s,...a,fill:h}));Object.assign(p,u)}return p}updateDatumNodes(e){const{isHighlight:t}=e,i=this.axes[ChartAxisDirection8.X],[a,s]=i?.visibleRange??[],r=!(a!==0||s!==1),n=this.getItemBaseStyle(t);e.datumSelection.each((l,c)=>{const{datumIndex:h,colorValue:p,datum:u,point:d,width:f,height:g}=c,y=this.getItemStyleOverrides(String(h),u,p,n,t);l.crisp=r,l.x=Math.floor(d.x-f/2),l.y=Math.floor(d.y-g/2),l.width=Math.ceil(f),l.height=Math.ceil(g),applyShapeStyle2(l,n,y)})}updateLabelSelection(e){const{labelData:t,labelSelection:i}=e,{enabled:a}=this.properties.label,s=a?t:[];return i.update(s)}updateLabelNodes(e){e.labelSelection.each((t,i)=>{t.text=i.text,t.fontSize=i.fontSize,t.lineHeight=i.lineHeight,t.fontStyle=i.fontStyle,t.fontFamily=i.fontFamily,t.fontWeight=i.fontWeight,t.fill=i.color,t.textAlign=i.textAlign,t.textBaseline=i.verticalAlign,t.x=i.x,t.y=i.y,t.pointerEvents=PointerEvents.None})}getTooltipContent(e){const{id:t,dataModel:i,processedData:a,axes:s,properties:o,colorScale:r}=this,{xKey:n,xName:l,yKey:c,yName:h,colorKey:p,colorName:u,colorRange:d,title:f,legendItemName:g,tooltip:y}=o,m=s[ChartAxisDirection8.X],x=s[ChartAxisDirection8.Y];if(!i||!a||!m||!x)return;const S=a.dataSources.get(this.id)?.[e],D=i.resolveColumnById(this,"xValue",a)[e],M=i.resolveColumnById(this,"yValue",a)[e],N=p!=null&&this.isColorScaleValid()?i.resolveColumnById(this,"colorValue",a)[e]:void 0;if(D==null)return;const v=[];let b;N==null?b=d[0]:(b=r.convert(N),v.push({label:u,fallbackLabel:p,value:String(N)})),v.push({label:l,fallbackLabel:n,value:m.formatDatum(D)},{label:h,fallbackLabel:c,value:x.formatDatum(M)});const I=this.getItemBaseStyle(!1);Object.assign(I,this.getItemStyleOverrides(String(e),S,N,I,!1)),I.fill!=null&&(b=I.fill);const k=b!=null?{marker:{shape:"square",fill:b,fillOpacity:1,stroke:void 0,strokeWidth:0,strokeOpacity:1,lineDash:[0],lineDashOffset:0}}:void 0;return this.formatTooltipWithContext(y,{title:f??g,symbol:k,data:v},{seriesId:t,datum:S,title:f,xKey:n,xName:l,yKey:c,yName:h,colorKey:p,colorName:u,...I})}getLegendData(e){return e!=="gradient"||!this.isColorScaleValid()||!this.dataModel?[]:[{legendType:"gradient",enabled:this.visible,seriesId:this.id,colorName:this.properties.colorName,colorDomain:this.processedData.domain.values[this.dataModel.resolveProcessedDataIndexById(this,"colorValue")],colorRange:this.properties.colorRange}]}isLabelEnabled(){return this.properties.label.enabled&&!!this.properties.colorKey}getBandScalePadding(){return{inner:0,outer:0}}computeFocusBounds({datumIndex:e}){const t=this.contextNodeData?.nodeData[e];if(t===void 0)return;const{width:i,height:a,midPoint:s}=t,o={x:s.x-i/2,y:s.y-a/2,width:i,height:a};return computeBarFocusBounds3(this,o)}};HeatmapSeries.className="HeatmapSeries",HeatmapSeries.type="heatmap";var import_ag_charts_community45=require("ag-charts-community"),import_ag_charts_core18=require("ag-charts-core"),{commonSeriesOptionsDefs:commonSeriesOptionsDefs3,heatmapSeriesThemeableOptionsDef}=import_ag_charts_community45._ModuleSupport,heatmapSeriesOptionsDef={...heatmapSeriesThemeableOptionsDef,...commonSeriesOptionsDefs3,type:(0,import_ag_charts_core18.required)((0,import_ag_charts_core18.constant)("heatmap")),xKey:(0,import_ag_charts_core18.required)(import_ag_charts_core18.string),yKey:(0,import_ag_charts_core18.required)(import_ag_charts_core18.string),colorKey:import_ag_charts_core18.string,xName:import_ag_charts_core18.string,yName:import_ag_charts_core18.string,colorName:import_ag_charts_core18.string,colorRange:(0,import_ag_charts_core18.arrayOf)(import_ag_charts_core18.color)},import_ag_charts_community46=require("ag-charts-community"),HEATMAP_SERIES_THEME={series:{stroke:{$if:[{$eq:[{$palette:"type"},"inbuilt"]},{$ref:"backgroundColor"},{$path:["./0",{$palette:"stroke"},{$palette:"strokes"}]}]},colorRange:{$if:[{$eq:[{$palette:"type"},"inbuilt"]},{$palette:"divergingColors"},import_ag_charts_community46._ModuleSupport.SAFE_RANGE2_OPERATION]},label:{enabled:!1,color:{$ref:"textColor"},fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},wrapping:"on-space",overflowStrategy:"ellipsis"},itemPadding:3},gradientLegend:{enabled:!0}},{ThemeConstants:{CARTESIAN_AXIS_TYPE:CARTESIAN_AXIS_TYPE4,CARTESIAN_POSITION:CARTESIAN_POSITION2}}=import_ag_charts_community47._ModuleSupport,HeatmapModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["cartesian"],identifier:"heatmap",moduleFactory:e=>new HeatmapSeries(e),tooltipDefaults:{range:"exact"},defaultAxes:[{type:CARTESIAN_AXIS_TYPE4.CATEGORY,position:CARTESIAN_POSITION2.LEFT},{type:CARTESIAN_AXIS_TYPE4.CATEGORY,position:CARTESIAN_POSITION2.BOTTOM}],themeTemplate:HEATMAP_SERIES_THEME},HeatmapSeriesModule={type:"series",name:"heatmap",chartType:"cartesian",enterprise:!0,options:heatmapSeriesOptionsDef,create:e=>new HeatmapSeries(e)},import_ag_charts_community50=require("ag-charts-community"),import_ag_charts_community48=require("ag-charts-community"),{createDatumId:createDatumId5}=import_ag_charts_community48._ModuleSupport,OhlcSeries=class extends OhlcSeriesBase{constructor(){super(...arguments),this.properties=new OhlcSeriesProperties}nodeFactory(){return new OhlcNode}updateDatumNodes({datumSelection:e,isHighlight:t}){const{id:i,properties:a}=this,{xKey:s,highKey:o,lowKey:r,openKey:n,closeKey:l,item:c,itemStyler:h}=a,{up:p,down:u}=c,{stroke:d,strokeWidth:f,strokeOpacity:g,lineDash:y,lineDashOffset:m}=p,{stroke:x,strokeWidth:S,strokeOpacity:D,lineDash:M,lineDashOffset:N}=u,v=t?a.highlightStyle.item:void 0;e.each((b,I)=>{const{isRising:k,centerX:P,width:_,y:A,height:L,yOpen:C,yClose:R,crisp:O}=I;let B;if(h!=null){const{stroke:T,strokeWidth:F,strokeOpacity:w,lineDash:E,lineDashOffset:G}=k?p:u;B=this.cachedDatumCallback(createDatumId5(this.getDatumId(I),t?"highlight":"node"),()=>this.callWithContext(h,{seriesId:i,itemId:I.itemId,xKey:s,highKey:o,lowKey:r,openKey:n,closeKey:l,datum:I.datum,strokeOpacity:w,stroke:T,strokeWidth:F,lineDash:E,lineDashOffset:G,highlighted:t}))}b.centerX=P,b.width=_,b.y=A,b.height=L,b.yOpen=C,b.yClose=R,b.crisp=O,b.stroke=v?.stroke??B?.stroke??(k?d:x),b.strokeWidth=v?.strokeWidth??B?.strokeWidth??(k?f:S),b.strokeOpacity=v?.strokeOpacity??B?.strokeOpacity??(k?g:D),b.lineDash=v?.lineDash??B?.lineDash??(k?y:M),b.lineDashOffset=v?.lineDashOffset??B?.lineDashOffset??(k?m:N),b.strokeAlignment=(B?.strokeWidth??(k?f:S))/2})}getLegendData(e){const{id:t,data:i,ctx:{legendManager:a},visible:s}=this,{xKey:o,yName:r,item:{up:n,down:l},showInLegend:c,legendItemName:h}=this.properties;if(!i?.length||!o||e!=="category")return[];const p={type:"gradient",gradient:"linear",colorSpace:"rgb",colorStops:[{color:n.stroke,stop:0},{color:n.stroke,stop:.5},{color:l.stroke,stop:.5}],rotation:90};return[{legendType:"category",id:t,itemId:t,seriesId:t,enabled:s&&a.getItemEnabled({seriesId:t,itemId:t}),label:{text:h??r??t},symbol:{marker:{fill:p,fillOpacity:n.strokeOpacity,stroke:void 0,strokeWidth:0,strokeOpacity:1,lineDash:[0],lineDashOffset:0}},legendItemName:h,hideInLegend:!c}]}};OhlcSeries.className="ohlc",OhlcSeries.type="ohlc";var import_ag_charts_community49=require("ag-charts-community"),import_ag_charts_core19=require("ag-charts-core"),{commonSeriesOptionsDefs:commonSeriesOptionsDefs4,ohlcSeriesThemeableOptionsDef}=import_ag_charts_community49._ModuleSupport,ohlcSeriesOptionsDef={...ohlcSeriesThemeableOptionsDef,...commonSeriesOptionsDefs4,type:(0,import_ag_charts_core19.required)((0,import_ag_charts_core19.constant)("ohlc")),xKey:(0,import_ag_charts_core19.required)(import_ag_charts_core19.string),openKey:(0,import_ag_charts_core19.required)(import_ag_charts_core19.string),highKey:(0,import_ag_charts_core19.required)(import_ag_charts_core19.string),lowKey:(0,import_ag_charts_core19.required)(import_ag_charts_core19.string),closeKey:(0,import_ag_charts_core19.required)(import_ag_charts_core19.string),xName:import_ag_charts_core19.string,yName:import_ag_charts_core19.string,openName:import_ag_charts_core19.string,highName:import_ag_charts_core19.string,lowName:import_ag_charts_core19.string,closeName:import_ag_charts_core19.string};ohlcSeriesOptionsDef.pickOutsideVisibleMinorAxis=(0,import_ag_charts_core19.undocumented)(import_ag_charts_core19.boolean),ohlcSeriesOptionsDef.focusPriority=(0,import_ag_charts_core19.undocumented)(import_ag_charts_core19.number);var{CARTESIAN_AXIS_TYPE:CARTESIAN_AXIS_TYPE5,CARTESIAN_POSITION:CARTESIAN_POSITION3}=import_ag_charts_community50._ModuleSupport.ThemeConstants,OhlcModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["cartesian"],identifier:"ohlc",moduleFactory:e=>new OhlcSeries(e),tooltipDefaults:{range:"nearest"},defaultAxes:[{type:CARTESIAN_AXIS_TYPE5.NUMBER,position:CARTESIAN_POSITION3.LEFT},{type:CARTESIAN_AXIS_TYPE5.ORDINAL_TIME,position:CARTESIAN_POSITION3.BOTTOM}],themeTemplate:{animation:{enabled:!1},series:{item:{up:{stroke:{$if:[{$eq:[{$palette:"type"},"user-indexed"]},{$palette:"stroke"},{$palette:"up.stroke"}]}},down:{stroke:{$if:[{$eq:[{$palette:"type"},"user-indexed"]},{$palette:"stroke"},{$palette:"down.stroke"}]}}}},axes:{[CARTESIAN_AXIS_TYPE5.NUMBER]:{crosshair:{snap:!1}},[CARTESIAN_AXIS_TYPE5.ORDINAL_TIME]:{groupPaddingInner:0,crosshair:{enabled:!0}}}},groupable:!1},OhlcSeriesModule={type:"series",name:"ohlc",chartType:"cartesian",enterprise:!0,options:ohlcSeriesOptionsDef,create:e=>new OhlcSeries(e)},import_ag_charts_community56=require("ag-charts-community"),import_ag_charts_community53=require("ag-charts-community"),AGGREGATION_THRESHOLD2=1e3;function aggregationContainsTopIndex(e,t,i,a,s,o){const r=e[o];if(r==null)return!1;const n=xRatioForDatumIndex(r,t,i),l=aggregationIndexForXRatio(n,s);return o===a[l+Y_MAX]}function aggregationContainsBottomIndex(e,t,i,a,s,o){const r=e[o];if(r==null)return!1;const n=xRatioForDatumIndex(r,t,i),l=aggregationIndexForXRatio(n,s);return o===a[l+Y_MIN]}function aggregateData(e,t,i,a){if(e.length<AGGREGATION_THRESHOLD2)return;const[s,o]=aggregationDomain(a);let r=maxRangeFittingPoints(e);const{indexData:n,valueData:l}=createAggregationIndices(e,t,i,s,o,r);let c=[],h=[];for(let u=0;u<e.length;u+=1)aggregationContainsTopIndex(e,s,o,n,r,u)&&c.push(u),aggregationContainsBottomIndex(e,s,o,n,r,u)&&h.push(u);const p=[{maxRange:r,topIndices:c,bottomIndices:h}];for(;r>64;)({maxRange:r}=compactAggregationIndices(n,l,r,{inPlace:!0})),c=c.filter(aggregationContainsTopIndex.bind(null,e,s,o,n,r)),h=h.filter(aggregationContainsBottomIndex.bind(null,e,s,o,n,r)),p.push({maxRange:r,topIndices:c,bottomIndices:h});return p.reverse(),p}var import_ag_charts_community51=require("ag-charts-community"),{CartesianSeriesProperties:CartesianSeriesProperties2,FillGradientDefaults:FillGradientDefaults3,FillPatternDefaults:FillPatternDefaults3,FillImageDefaults:FillImageDefaults3,InterpolationProperties,SeriesMarker,SeriesTooltip:SeriesTooltip5,Property:Property18,DropShadow,Label}=import_ag_charts_community51._ModuleSupport,RangeAreaSeriesLabel=class extends Label{constructor(){super(...arguments),this.placement="outside",this.padding=6}};__decorateClass([Property18],RangeAreaSeriesLabel.prototype,"placement",2),__decorateClass([Property18],RangeAreaSeriesLabel.prototype,"padding",2);var RangeAreaProperties=class extends CartesianSeriesProperties2{constructor(){super(...arguments),this.fill="#99CCFF",this.fillGradientDefaults=new FillGradientDefaults3,this.fillPatternDefaults=new FillPatternDefaults3,this.fillImageDefaults=new FillImageDefaults3,this.fillOpacity=1,this.stroke="#99CCFF",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.interpolation=new InterpolationProperties,this.shadow=new DropShadow().set({enabled:!1}),this.marker=new SeriesMarker,this.label=new RangeAreaSeriesLabel,this.tooltip=new SeriesTooltip5,this.connectMissingData=!1}};__decorateClass([Property18],RangeAreaProperties.prototype,"xKey",2),__decorateClass([Property18],RangeAreaProperties.prototype,"yLowKey",2),__decorateClass([Property18],RangeAreaProperties.prototype,"yHighKey",2),__decorateClass([Property18],RangeAreaProperties.prototype,"xName",2),__decorateClass([Property18],RangeAreaProperties.prototype,"yName",2),__decorateClass([Property18],RangeAreaProperties.prototype,"yLowName",2),__decorateClass([Property18],RangeAreaProperties.prototype,"yHighName",2),__decorateClass([Property18],RangeAreaProperties.prototype,"fill",2),__decorateClass([Property18],RangeAreaProperties.prototype,"fillGradientDefaults",2),__decorateClass([Property18],RangeAreaProperties.prototype,"fillPatternDefaults",2),__decorateClass([Property18],RangeAreaProperties.prototype,"fillImageDefaults",2),__decorateClass([Property18],RangeAreaProperties.prototype,"fillOpacity",2),__decorateClass([Property18],RangeAreaProperties.prototype,"stroke",2),__decorateClass([Property18],RangeAreaProperties.prototype,"strokeWidth",2),__decorateClass([Property18],RangeAreaProperties.prototype,"strokeOpacity",2),__decorateClass([Property18],RangeAreaProperties.prototype,"lineDash",2),__decorateClass([Property18],RangeAreaProperties.prototype,"lineDashOffset",2),__decorateClass([Property18],RangeAreaProperties.prototype,"interpolation",2),__decorateClass([Property18],RangeAreaProperties.prototype,"shadow",2),__decorateClass([Property18],RangeAreaProperties.prototype,"marker",2),__decorateClass([Property18],RangeAreaProperties.prototype,"label",2),__decorateClass([Property18],RangeAreaProperties.prototype,"tooltip",2),__decorateClass([Property18],RangeAreaProperties.prototype,"connectMissingData",2);var import_ag_charts_community52=require("ag-charts-community"),{CollapseMode,isScaleValid,pairUpSpans,prepareAreaFillAnimationFns,plotInterpolatedLinePathStroke,prepareLinePathPropertyAnimation,areScalingEqual}=import_ag_charts_community52._ModuleSupport;function prepareRangeAreaPathStrokeAnimationFns(e,t,i,a){const s=(l,c)=>{plotInterpolatedLinePathStroke(l,c,t.removed),plotInterpolatedLinePathStroke(l,c,i.removed)},o=(l,c)=>{plotInterpolatedLinePathStroke(l,c,t.moved),plotInterpolatedLinePathStroke(l,c,i.moved)},r=(l,c)=>{plotInterpolatedLinePathStroke(l,c,t.added),plotInterpolatedLinePathStroke(l,c,i.added)},n=prepareLinePathPropertyAnimation(e,a);return{status:e,path:{addPhaseFn:r,updatePhaseFn:o,removePhaseFn:s},pathProperties:n}}function prepareRangeAreaPathAnimation(e,t,i){const a=e.scales.x?.type==="category",s=t.scales.x?.type==="category";if(a!==s||!isScaleValid(e.scales.x)||!isScaleValid(t.scales.x))return;let o="updated";t.visible&&!e.visible?o="removed":!t.visible&&e.visible&&(o="added");const r=pairUpSpans({scales:e.scales,data:e.fillData.spans},{scales:t.scales,data:t.fillData.spans},CollapseMode.Split);if(r==null)return;const n=pairUpSpans({scales:e.scales,data:e.fillData.phantomSpans},{scales:t.scales,data:t.fillData.phantomSpans},CollapseMode.Split);if(n==null)return;const l=pairUpSpans({scales:e.scales,data:e.highStrokeData.spans},{scales:t.scales,data:t.highStrokeData.spans},CollapseMode.Split);if(l==null)return;const c=pairUpSpans({scales:e.scales,data:e.lowStrokeData.spans},{scales:t.scales,data:t.lowStrokeData.spans},CollapseMode.Split);if(c==null)return;const h="fade",p=prepareAreaFillAnimationFns(o,r,n,h),u=prepareRangeAreaPathStrokeAnimationFns(o,l,c,h),d=(i?.changed??!0)||!areScalingEqual(e.scales.x,t.scales.x)||!areScalingEqual(e.scales.y,t.scales.y)||o!=="updated";return{status:o,fill:p,stroke:u,hasMotion:d}}var{valueProperty:valueProperty4,keyProperty:keyProperty3,ChartAxisDirection:ChartAxisDirection9,mergeDefaults:mergeDefaults3,updateLabelNode,fixNumericExtent:fixNumericExtent3,buildResetPathFn,resetLabelFn,resetMarkerFn,resetMarkerPositionFn,pathSwipeInAnimation,resetMotion,markerSwipeScaleInAnimation,seriesLabelFadeInAnimation,animationValidation:animationValidation3,diff:diff3,updateClipPath,computeMarkerFocusBounds,plotAreaPathFill,plotLinePathStroke,interpolatePoints,pathFadeInAnimation,markerFadeInAnimation,fromToMotion,pathMotion,extent,createDatumId:createDatumId6,applyShapeFillBBox:applyShapeFillBBox2,PointerEvents:PointerEvents2,Group:Group5,BBox:BBox5,ContinuousScale:ContinuousScale4,DiscreteTimeScale:DiscreteTimeScale2,findMinMax:findMinMax3,getShapeStyle:getShapeStyle4,getShapeFill:getShapeFill2,applyShapeStyle:applyShapeStyle3}=import_ag_charts_community53._ModuleSupport,RangeAreaSeriesNodeEvent=class extends import_ag_charts_community53._ModuleSupport.SeriesNodeEvent{constructor(e,t,i,a){super(e,t,i,a),this.xKey=a.properties.xKey,this.yLowKey=a.properties.yLowKey,this.yHighKey=a.properties.yHighKey}},RangeAreaSeries=class extends import_ag_charts_community53._ModuleSupport.CartesianSeries{constructor(e){super({moduleCtx:e,hasMarkers:!0,pathsPerSeries:["fill","stroke"],pickModes:[import_ag_charts_community53._ModuleSupport.SeriesNodePickMode.AXIS_ALIGNED],directionKeys:{[ChartAxisDirection9.X]:["xKey"],[ChartAxisDirection9.Y]:["yLowKey","yHighKey"]},directionNames:{[ChartAxisDirection9.X]:["xName"],[ChartAxisDirection9.Y]:["yLowName","yHighName","yName"]},categoryKey:"xValue",animationResetFns:{path:buildResetPathFn({getVisible:()=>this.visible,getOpacity:()=>this.getOpacity()}),label:resetLabelFn,marker:(t,i)=>({...resetMarkerFn(t),...resetMarkerPositionFn(t,i)})},clipFocusBox:!1}),this.properties=new RangeAreaProperties,this.NodeEvent=RangeAreaSeriesNodeEvent,this.dataAggregationFilters=void 0}async processData(e){const{xKey:t,yLowKey:i,yHighKey:a}=this.properties,s=this.axes[ChartAxisDirection9.X]?.scale,o=this.axes[ChartAxisDirection9.Y]?.scale,{xScaleType:r,yScaleType:n}=this.getScaleInformation({xScale:s,yScale:o}),l=[],c=!this.ctx.animationManager.isSkipped();!this.ctx.animationManager.isSkipped()&&this.processedData&&l.push(diff3(this.id,this.processedData)),c&&l.push(animationValidation3());const{dataModel:h,processedData:p}=await this.requestDataModel(e,this.data,{props:[keyProperty3(t,r,{id:"xValue"}),valueProperty4(i,n,{id:"yLowValue"}),valueProperty4(a,n,{id:"yHighValue"}),...l]});this.dataAggregationFilters=this.aggregateData(h,p),this.animationState.transition("updateData")}aggregateData(e,t){const i=this.axes[ChartAxisDirection9.X];if(i==null||!(ContinuousScale4.is(i.scale)||DiscreteTimeScale2.is(i.scale)))return;const a=e.resolveKeysById(this,"xValue",t),s=e.resolveColumnById(this,"yHighValue",t),o=e.resolveColumnById(this,"yLowValue",t),{index:r}=e.resolveProcessedDataDefById(this,"xValue"),n=t.domain.keys[r];return aggregateData(a,s,o,n)}xCoordinateRange(e){const t=this.axes[ChartAxisDirection9.X].scale.convert(e);return[t,t]}yCoordinateRange(e){const t=this.axes[ChartAxisDirection9.Y].scale.convert(e[0]);return[t,t]}getSeriesDomain(e){const{processedData:t,dataModel:i}=this;if(!(t&&i))return[];const{domain:{keys:[a]}}=t;if(e===ChartAxisDirection9.X){const s=i.resolveProcessedDataDefById(this,"xValue");return s?.def.type==="key"&&s.def.valueType==="category"?a:fixNumericExtent3(extent(a))}else{const s=this.domainForClippedRange(ChartAxisDirection9.Y,["yHighValue","yLowValue"],"xValue",!0),o=findMinMax3(s);return fixNumericExtent3(o)}}getSeriesRange(e,t){return this.domainForVisibleRange(ChartAxisDirection9.Y,["yHighValue","yLowValue"],"xValue",t,!0)}createNodeData(){const{data:e,dataModel:t,processedData:i,axes:a}=this,s=a[ChartAxisDirection9.X],o=a[ChartAxisDirection9.Y];if(!(e&&s&&o&&t&&i))return;const r=s.scale,n=o.scale,{xKey:l,yLowKey:c,yHighKey:h,connectMissingData:p,marker:u,interpolation:d}=this.properties,f=i.dataSources.get(this.id)??[],g=(r.bandwidth??0)/2,y=t.resolveKeysById(this,"xValue",i),m=t.resolveColumnById(this,"yHighValue",i),x=t.resolveColumnById(this,"yLowValue",i),S=F=>r.convert(y[F])+g,D=[],M=[],N=[],v=(F,w,E)=>{const G=f[F],W=y[F];if(W==null)return;const V=N[N.length-1];if(Number.isFinite(w)&&Number.isFinite(E)){const K=(j,Z,q)=>{M.push({index:F,series:this,itemId:j,datum:G,datumIndex:F,midPoint:{x:X,y:q},yHighValue:w,yLowValue:E,xValue:W,xKey:l,yLowKey:c,yHighKey:h,point:{x:X,y:q,size:H},enabled:!0});const ae=this.createLabelData({datumIndex:F,point:{x:X,y:q},value:Z,yLowValue:E,yHighValue:w,itemId:j,inverted:z,datum:G,series:this});D.push(ae)},z=E>w,X=S(F),Y=n.convert(w),U=n.convert(E),{size:H}=u;K("high",w,Y),K("low",E,U);const $={high:{point:{x:X,y:Y},xDatum:W,yDatum:w},low:{point:{x:X,y:U},xDatum:W,yDatum:E}};Array.isArray(V)?V.push($):V!=null?(V.skip+=1,N.push([$])):N.push([$])}else p||(Array.isArray(V)||V==null?N.push({skip:0}):V.skip+=1)},{dataAggregationFilters:b}=this,[I,k]=r.range,P=k-I,_=b?.find(F=>F.maxRange>P),A=_?.topIndices,L=_?.bottomIndices;let[C,R]=this.visibleRange("xValue",s.range,A);C=Math.max(C-1,0),R=Math.min(R+1,A?.length??y.length),i.input.count<1e3&&(C=0,R=i.input.count);for(let F=C;F<R;F+=1){const w=A?.[F]??F,E=L?.[F]??F;v(w,m[w],x[E])}const O=N.flatMap(F=>{if(!Array.isArray(F))return[];const w=F.map(E=>E.high);return interpolatePoints(w,d)}),B=N.flatMap(F=>{if(!Array.isArray(F))return[];const w=F.map(E=>E.low);return interpolatePoints(w,d)});return{itemId:`${c}-${h}`,labelData:D,nodeData:M,fillData:{itemId:"high",spans:O,phantomSpans:B},highStrokeData:{itemId:"high",spans:O},lowStrokeData:{itemId:"low",spans:B},scales:this.calculateScaling(),visible:this.visible}}createLabelData({datumIndex:e,point:t,value:i,itemId:a,inverted:s,datum:o,series:r}){const{xKey:n,yLowKey:l,yHighKey:c,xName:h,yName:p,yLowName:u,yHighName:d,label:f}=this.properties,{placement:g,padding:y=10}=f;let m=a;s&&(m=a==="low"?"high":"low");const x=g==="outside"&&m==="high"||g==="inside"&&m==="low"?-1:1;return{x:t.x,y:t.y+y*x,series:r,itemId:a,datum:o,datumIndex:e,text:this.getLabelText(f,{value:i,datum:o,itemId:a,xKey:n,yLowKey:l,yHighKey:c,xName:h,yLowName:u,yHighName:d,yName:p}),textAlign:"center",textBaseline:x===-1?"bottom":"top"}}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}updatePathNodes(e){const{opacity:t,visible:i}=e,[a,s]=e.paths,o=this.getStrokeWidth(this.properties.strokeWidth);s.setProperties({fill:void 0,lineCap:"round",lineJoin:"round",pointerEvents:PointerEvents2.None,stroke:this.properties.stroke,strokeWidth:o,strokeOpacity:this.properties.strokeOpacity,lineDash:this.properties.lineDash,lineDashOffset:this.properties.lineDashOffset,opacity:t,visible:i});const r=getShapeFill2(this.properties.fill,this.properties.fillGradientDefaults,this.properties.fillPatternDefaults,this.properties.fillImageDefaults),n=this.getShapeFillBBox();applyShapeFillBBox2(a,r,n),applyShapeStyle3(a,{stroke:void 0,fill:r,fillOpacity:this.properties.fillOpacity,lineDash:this.properties.lineDash,lineDashOffset:this.properties.lineDashOffset,strokeOpacity:this.properties.strokeOpacity,strokeWidth:o},void 0,n),a.setProperties({pointerEvents:PointerEvents2.None,lineJoin:"round",fillShadow:this.properties.shadow,opacity:t,visible:i}),updateClipPath(this,s),updateClipPath(this,a)}updatePaths(e){this.updateAreaPaths(e.paths,e.contextData)}updateAreaPaths(e,t){for(const i of e)i.visible=t.visible;if(t.visible)this.updateFillPath(e,t),this.updateStrokePath(e,t);else for(const i of e)i.path.clear(),i.markDirty("RangeArea")}updateFillPath(e,t){const[i]=e;i.path.clear(),plotAreaPathFill(i,t.fillData),i.markDirty("RangeArea")}updateStrokePath(e,t){const[,i]=e;i.path.clear(),plotLinePathStroke(i,t.highStrokeData.spans),plotLinePathStroke(i,t.lowStrokeData.spans),i.markDirty("RangeArea")}updateMarkerSelection(e){const{nodeData:t,markerSelection:i}=e;return this.properties.marker.isDirty()&&(i.clear(),i.cleanup()),i.update(this.properties.marker.enabled?t:[])}getMarkerItemBaseStyle(e){const{properties:t}=this,{marker:i}=t,a=e?t.highlightStyle.item:void 0;return{shape:i.shape,size:i.size,fill:a?.fill??i.fill,fillOpacity:a?.fillOpacity??i.fillOpacity,stroke:a?.stroke??i.stroke,strokeWidth:a?.strokeWidth??this.getStrokeWidth(i.strokeWidth),strokeOpacity:a?.strokeOpacity??i.strokeOpacity,lineDash:a?.lineDash??i.lineDash,lineDashOffset:a?.lineDashOffset??i.lineDashOffset}}getMarkerItemStyleOverrides(e,t,i,a){const{id:s,properties:o}=this,{xKey:r,yHighKey:n,yLowKey:l,marker:c}=o,{itemStyler:h}=c;if(h!=null)return this.cachedDatumCallback(createDatumId6(e,a?"highlight":"node"),()=>this.callWithContext(h,{seriesId:s,datum:t,xKey:r,yHighKey:n,yLowKey:l,highlighted:a,...i}))}updateMarkerNodes(e){const{markerSelection:t,isHighlight:i}=e,{xKey:a,yLowKey:s,yHighKey:o,marker:r,fill:n,stroke:l,strokeWidth:c,fillOpacity:h,strokeOpacity:p}=this.properties,u=mergeDefaults3(i&&this.properties.highlightStyle.item,r.getStyle(),{fill:n,fillOpacity:h,stroke:l,strokeWidth:c,strokeOpacity:p}),d=this.getShapeFillBBox();t.each((f,g)=>{this.updateMarkerStyle(r,f,g.datum,g.point,{xKey:a,yHighKey:o,yLowKey:s},i,u,d)}),i||this.properties.marker.markClean()}updateLabelSelection(e){const{labelData:t,labelSelection:i}=e;return i.update(t,a=>{a.pointerEvents=PointerEvents2.None})}updateLabelNodes(e){e.labelSelection.each((t,i)=>{updateLabelNode(t,this.properties.label,i)})}getHighlightLabelData(e,t){const i=e.filter(a=>a.datum===t.datum);return i.length>0?i:void 0}getHighlightData(e,t){const i=e.filter(a=>a.datum===t.datum);return i.length>0?i:void 0}getTooltipContent(e,t){const{id:i,dataModel:a,processedData:s,axes:o,properties:r}=this,{xName:n,yName:l,yLowKey:c,yLowName:h,xKey:p,yHighKey:u,yHighName:d,tooltip:f}=r,g=o[ChartAxisDirection9.X],y=o[ChartAxisDirection9.Y];if(!a||!s||!g||!y)return;const m=s.dataSources.get(this.id)?.[e],x=a.resolveKeysById(this,"xValue",s)[e],S=a.resolveColumnById(this,"yHighValue",s)[e],D=a.resolveColumnById(this,"yLowValue",s)[e];if(x==null)return;const M=this.getMarkerItemBaseStyle(!1);Object.assign(M,this.getMarkerItemStyleOverrides(String(e),e,M,!1));const N=`${y.formatDatum(D)} - ${y.formatDatum(S)}`;return this.formatTooltipWithContext(f,{heading:g.formatDatum(x),symbol:this.legendItemSymbol(),data:[{label:l,fallbackLabel:`${h??c} - ${d??u}`,value:N}]},{seriesId:i,datum:m,title:l,itemId:t?.itemId??"unknown",xName:n,yName:l,yLowKey:c,yLowName:h,xKey:p,yHighKey:u,yHighName:d,...M})}legendItemSymbol(){const{fill:e,stroke:t,strokeWidth:i,strokeOpacity:a,lineDash:s,marker:o}=this.properties;return{marker:getShapeStyle4({shape:o.shape,fill:o.fill??e,stroke:o.stroke??t,fillOpacity:o.fillOpacity,strokeOpacity:o.strokeOpacity,strokeWidth:o.strokeWidth,lineDash:o.lineDash,lineDashOffset:o.lineDashOffset},o.fillGradientDefaults,o.fillPatternDefaults,o.fillImageDefaults),line:{stroke:t,strokeOpacity:a,strokeWidth:i,lineDash:s}}}getLegendData(e){if(e!=="category")return[];const{id:t,visible:i}=this,{yLowKey:a,yHighKey:s,yName:o,yLowName:r,yHighName:n,showInLegend:l}=this.properties,c=o??`${r??a} - ${n??s}`,h=`${a}-${s}`;return[{legendType:"category",id:t,itemId:h,seriesId:t,enabled:i,label:{text:`${c}`},symbol:this.legendItemSymbol(),hideInLegend:!l}]}isLabelEnabled(){return this.properties.label.enabled}onDataChange(){}nodeFactory(){return new Group5}animateEmptyUpdateReady(e){const{markerSelection:t,labelSelection:i,contextData:a,paths:s}=e,{animationManager:o}=this.ctx;this.updateAreaPaths(s,a),pathSwipeInAnimation(this,o,...s),resetMotion([t],resetMarkerPositionFn),markerSwipeScaleInAnimation(this,o,t),seriesLabelFadeInAnimation(this,"labels",o,i)}animateReadyResize(e){const{contextData:t,paths:i}=e;this.updateAreaPaths(i,t),super.animateReadyResize(e)}animateWaitingUpdateReady(e){const{animationManager:t}=this.ctx,{markerSelection:i,labelSelection:a,contextData:s,paths:o,previousContextData:r}=e,[n,l]=o;if(n==null&&l==null)return;this.resetMarkerAnimation(e),this.resetLabelAnimation(e);const c=()=>{this.resetPathAnimation(e),this.updateAreaPaths(o,s)},h=()=>{t.skipCurrentBatch(),c()};if(s==null||r==null){c(),markerFadeInAnimation(this,t,"added",i),pathFadeInAnimation(this,"fill_path_properties",t,"add",n),pathFadeInAnimation(this,"stroke_path_properties",t,"add",l),seriesLabelFadeInAnimation(this,"labels",t,a);return}const p=prepareRangeAreaPathAnimation(s,r,this.processedData?.reduced?.diff?.[this.id]);if(p===void 0){h();return}else if(p.status==="no-op")return;fromToMotion(this.id,"fill_path_properties",t,[n],p.fill.pathProperties),fromToMotion(this.id,"stroke_path_properties",t,[l],p.stroke.pathProperties),p.status==="added"?this.updateAreaPaths(o,s):p.status==="removed"?this.updateAreaPaths(o,r):(pathMotion(this.id,"fill_path_update",t,[n],p.fill.path),pathMotion(this.id,"stroke_path_update",t,[l],p.stroke.path)),p.hasMotion&&(markerFadeInAnimation(this,t,void 0,i),seriesLabelFadeInAnimation(this,"labels",t,a)),this.ctx.animationManager.animate({id:this.id,groupId:"reset_after_animation",phase:"trailing",from:{},to:{},onComplete:()=>this.updateAreaPaths(o,s)})}getFormattedMarkerStyle(e){const{xKey:t,yLowKey:i,yHighKey:a}=this.properties;return this.getMarkerStyle(this.properties.marker,e.datum,{xKey:t,yLowKey:i,yHighKey:a},!0)}computeFocusBounds(e){const t=computeMarkerFocusBounds(this,e),i=computeMarkerFocusBounds(this,{...e,datumIndex:e.datumIndex+1});if(t&&i)return BBox5.merge([t,i])}isDatumEnabled(e,t){return t%2===0&&super.isDatumEnabled(e,t)}};RangeAreaSeries.className="RangeAreaSeries",RangeAreaSeries.type="range-area";var import_ag_charts_community54=require("ag-charts-community"),import_ag_charts_core20=require("ag-charts-core"),{commonSeriesOptionsDefs:commonSeriesOptionsDefs5,rangeAreaSeriesThemeableOptionsDef}=import_ag_charts_community54._ModuleSupport,rangeAreaSeriesOptionsDef={...rangeAreaSeriesThemeableOptionsDef,...commonSeriesOptionsDefs5,type:(0,import_ag_charts_core20.required)((0,import_ag_charts_core20.constant)("range-area")),xKey:(0,import_ag_charts_core20.required)(import_ag_charts_core20.string),yLowKey:(0,import_ag_charts_core20.required)(import_ag_charts_core20.string),yHighKey:(0,import_ag_charts_core20.required)(import_ag_charts_core20.string),xName:import_ag_charts_core20.string,yName:import_ag_charts_core20.string,yLowName:import_ag_charts_core20.string,yHighName:import_ag_charts_core20.string};rangeAreaSeriesOptionsDef.pickOutsideVisibleMinorAxis=(0,import_ag_charts_core20.undocumented)(import_ag_charts_core20.boolean),rangeAreaSeriesOptionsDef.focusPriority=(0,import_ag_charts_core20.undocumented)(import_ag_charts_core20.number);var import_ag_charts_community55=require("ag-charts-community"),RANGE_AREA_SERIES_THEME={series:{fill:{$palette:"fill"},fillGradientDefaults:{type:"gradient",gradient:"linear",bounds:"item",colorStops:{$palette:"gradient"},rotation:0,reverse:!1},fillPatternDefaults:import_ag_charts_community55._ModuleSupport.FILL_PATTERN_DEFAULTS,stroke:{$palette:"stroke"},fillOpacity:.7,nodeClickRange:"nearest",marker:{enabled:!1,fill:{$palette:"fill"},stroke:{$palette:"stroke"},fillGradientDefaults:{type:"gradient",gradient:"radial",bounds:"item",colorStops:{$palette:"gradient"},rotation:0,reverse:!0},fillPatternDefaults:import_ag_charts_community55._ModuleSupport.FILL_PATTERN_DEFAULTS,fillImageDefaults:import_ag_charts_community55._ModuleSupport.FILL_IMAGE_DEFAULTS,size:6,strokeWidth:2},label:{enabled:!1,placement:"outside",padding:10,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"}},interpolation:{type:"linear"}},axes:{[import_ag_charts_community55._ModuleSupport.ThemeConstants.CARTESIAN_AXIS_TYPE.NUMBER]:{crosshair:{enabled:!0}}}},{ThemeConstants:{CARTESIAN_AXIS_TYPE:CARTESIAN_AXIS_TYPE6,CARTESIAN_POSITION:CARTESIAN_POSITION4}}=import_ag_charts_community56._ModuleSupport,RangeAreaModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["cartesian"],identifier:"range-area",moduleFactory:e=>new RangeAreaSeries(e),tooltipDefaults:{range:"nearest"},defaultAxes:[{type:CARTESIAN_AXIS_TYPE6.NUMBER,position:CARTESIAN_POSITION4.LEFT},{type:CARTESIAN_AXIS_TYPE6.CATEGORY,position:CARTESIAN_POSITION4.BOTTOM}],themeTemplate:RANGE_AREA_SERIES_THEME},RangeAreaSeriesModule={type:"series",name:"range-area",chartType:"cartesian",enterprise:!0,options:rangeAreaSeriesOptionsDef,create:e=>new RangeAreaSeries(e)},import_ag_charts_community61=require("ag-charts-community"),import_ag_charts_community58=require("ag-charts-community"),AGGREGATION_THRESHOLD3=1e3,PRECISION=5;function aggregateRangeBarData(e,t,i,a){if(e.length<AGGREGATION_THRESHOLD3)return;const[s,o]=aggregationDomain(a);let r=maxRangeFittingPoints(e,PRECISION),{indexData:n,valueData:l}=createAggregationIndices(e,t,i,s,o,r);const c=[{maxRange:r,indexData:n}];for(;r>64;)({indexData:n,valueData:l,maxRange:r}=compactAggregationIndices(n,l,r)),c.push({maxRange:r,indexData:n});return c.reverse(),c}var import_ag_charts_community57=require("ag-charts-community"),{AbstractBarSeriesProperties:AbstractBarSeriesProperties3,FillGradientDefaults:FillGradientDefaults4,FillPatternDefaults:FillPatternDefaults4,FillImageDefaults:FillImageDefaults4,SeriesTooltip:SeriesTooltip6,Property:Property19,DropShadow:DropShadow2,Label:Label2}=import_ag_charts_community57._ModuleSupport,RangeBarSeriesLabel=class extends Label2{constructor(){super(...arguments),this.placement="inside",this.padding=6}};__decorateClass([Property19],RangeBarSeriesLabel.prototype,"placement",2),__decorateClass([Property19],RangeBarSeriesLabel.prototype,"padding",2);var RangeBarProperties=class extends AbstractBarSeriesProperties3{constructor(){super(...arguments),this.fill="#99CCFF",this.fillGradientDefaults=new FillGradientDefaults4,this.fillPatternDefaults=new FillPatternDefaults4,this.fillImageDefaults=new FillImageDefaults4,this.fillOpacity=1,this.stroke="#99CCFF",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.shadow=new DropShadow2().set({enabled:!1}),this.label=new RangeBarSeriesLabel,this.tooltip=new SeriesTooltip6,this.fastDataProcessing=!1}};__decorateClass([Property19],RangeBarProperties.prototype,"xKey",2),__decorateClass([Property19],RangeBarProperties.prototype,"yLowKey",2),__decorateClass([Property19],RangeBarProperties.prototype,"yHighKey",2),__decorateClass([Property19],RangeBarProperties.prototype,"xName",2),__decorateClass([Property19],RangeBarProperties.prototype,"yName",2),__decorateClass([Property19],RangeBarProperties.prototype,"yLowName",2),__decorateClass([Property19],RangeBarProperties.prototype,"yHighName",2),__decorateClass([Property19],RangeBarProperties.prototype,"fill",2),__decorateClass([Property19],RangeBarProperties.prototype,"fillGradientDefaults",2),__decorateClass([Property19],RangeBarProperties.prototype,"fillPatternDefaults",2),__decorateClass([Property19],RangeBarProperties.prototype,"fillImageDefaults",2),__decorateClass([Property19],RangeBarProperties.prototype,"fillOpacity",2),__decorateClass([Property19],RangeBarProperties.prototype,"stroke",2),__decorateClass([Property19],RangeBarProperties.prototype,"strokeWidth",2),__decorateClass([Property19],RangeBarProperties.prototype,"strokeOpacity",2),__decorateClass([Property19],RangeBarProperties.prototype,"lineDash",2),__decorateClass([Property19],RangeBarProperties.prototype,"lineDashOffset",2),__decorateClass([Property19],RangeBarProperties.prototype,"cornerRadius",2),__decorateClass([Property19],RangeBarProperties.prototype,"itemStyler",2),__decorateClass([Property19],RangeBarProperties.prototype,"shadow",2),__decorateClass([Property19],RangeBarProperties.prototype,"label",2),__decorateClass([Property19],RangeBarProperties.prototype,"tooltip",2),__decorateClass([Property19],RangeBarProperties.prototype,"fastDataProcessing",2);var{SeriesNodePickMode:SeriesNodePickMode4,valueProperty:valueProperty5,keyProperty:keyProperty4,ChartAxisDirection:ChartAxisDirection10,checkCrisp,updateLabelNode:updateLabelNode2,SMALLEST_KEY_INTERVAL:SMALLEST_KEY_INTERVAL3,LARGEST_KEY_INTERVAL,diff:diff4,prepareBarAnimationFunctions,midpointStartingBarPosition,resetBarSelectionsFn,fixNumericExtent:fixNumericExtent4,seriesLabelFadeInAnimation:seriesLabelFadeInAnimation2,resetLabelFn:resetLabelFn2,animationValidation:animationValidation4,computeBarFocusBounds:computeBarFocusBounds4,visibleRangeIndices:visibleRangeIndices2,createDatumId:createDatumId7,ContinuousScale:ContinuousScale5,DiscreteTimeScale:DiscreteTimeScale3,Rect:Rect3,PointerEvents:PointerEvents3,motion:motion2,applyShapeStyle:applyShapeStyle4,findMinMax:findMinMax4,getShapeStyle:getShapeStyle5,areScalingEqual:areScalingEqual2}=import_ag_charts_community58._ModuleSupport,RangeBarSeriesNodeEvent=class extends import_ag_charts_community58._ModuleSupport.SeriesNodeEvent{constructor(e,t,i,a){super(e,t,i,a),this.xKey=a.properties.xKey,this.yLowKey=a.properties.yLowKey,this.yHighKey=a.properties.yHighKey}},RangeBarSeries=class extends import_ag_charts_community58._ModuleSupport.AbstractBarSeries{constructor(e){super({moduleCtx:e,pickModes:[SeriesNodePickMode4.AXIS_ALIGNED,SeriesNodePickMode4.EXACT_SHAPE_MATCH],hasHighlightedLabels:!0,directionKeys:{x:["xKey"],y:["yLowKey","yHighKey"]},directionNames:{x:["xName"],y:["yLowName","yHighName","yName"]},categoryKey:"xValue",datumSelectionGarbageCollection:!1,animationResetFns:{datum:resetBarSelectionsFn,label:resetLabelFn2}}),this.properties=new RangeBarProperties,this.dataAggregationFilters=void 0,this.NodeEvent=RangeBarSeriesNodeEvent}async processData(e){const{xKey:t,yLowKey:i,yHighKey:a,fastDataProcessing:s}=this.properties,o=!s,r=this.getCategoryAxis()?.scale,n=this.getValueAxis()?.scale,{isContinuousX:l,xScaleType:c,yScaleType:h}=this.getScaleInformation({xScale:r,yScale:n}),p=[];this.ctx.animationManager.isSkipped()||(this.processedData&&p.push(diff4(this.id,this.processedData)),p.push(animationValidation4()));const u=this.visible?{}:{forceValue:0},{dataModel:d,processedData:f}=await this.requestDataModel(e,this.data,{props:[keyProperty4(t,c,{id:"xValue"}),valueProperty5(i,h,{id:"yLowValue",invalidValue:null,...u}),valueProperty5(a,h,{id:"yHighValue",invalidValue:null,...u}),...l?[SMALLEST_KEY_INTERVAL3,LARGEST_KEY_INTERVAL]:[],...p],groupByKeys:o});this.smallestDataInterval=f.reduced?.smallestKeyInterval,this.largestDataInterval=f.reduced?.largestKeyInterval,this.dataAggregationFilters=this.aggregateData(d,f),this.animationState.transition("updateData")}aggregateData(e,t){if(t.type!=="grouped")return;const i=this.axes[ChartAxisDirection10.X];if(i==null||!(ContinuousScale5.is(i.scale)||DiscreteTimeScale3.is(i.scale)))return;const a=e.resolveKeysById(this,"xValue",t),s=e.resolveColumnById(this,"yHighValue",t),o=e.resolveColumnById(this,"yLowValue",t),{index:r}=e.resolveProcessedDataDefById(this,"xValue"),n=t.domain.keys[r];return aggregateRangeBarData(a,s,o,n)}getSeriesDomain(e){const{processedData:t,dataModel:i}=this;if(!t||!i)return[];const{keys:[a]}=t.domain;if(e===this.getCategoryDirection()){const s=i.resolveProcessedDataDefById(this,"xValue");return s?.def.type==="key"&&s?.def.valueType==="category"?a:this.padBandExtent(a)}else{const s=this.domainForClippedRange(e,["yHighValue","yLowValue"],"xValue",!0),o=findMinMax4(s);return fixNumericExtent4(o)}}getSeriesRange(e,t){return this.domainForVisibleRange(ChartAxisDirection10.Y,["yHighValue","yLowValue"],"xValue",t,!0)}createNodeData(){const{data:e,dataModel:t,groupScale:i,processedData:a,visible:s}=this,o=this.getCategoryAxis(),r=this.getValueAxis();if(!(e&&o&&r&&t&&a?.dataSources))return;const n=o.scale,l=r.scale,c=this.getBarDirection()===ChartAxisDirection10.X,{xKey:h,yLowKey:p,yHighKey:u,strokeWidth:d}=this.properties,f=`${p}-${u}`,g={itemId:f,nodeData:[],labelData:[],scales:this.calculateScaling(),groupScale:this.getScaling(this.groupScale),visible:this.visible};if(!s)return g;const y=a.dataSources.get(this.id)??[],m=t.resolveKeysById(this,"xValue",a),x=t.resolveColumnById(this,"yLowValue",a),S=t.resolveColumnById(this,"yHighValue",a),{barWidth:D,groupIndex:M}=this.updateGroupScale(o),N=ContinuousScale5.is(n)?D*-.5:0,v=i.convert(String(M)),b=checkCrisp(o?.scale,o?.visibleRange,this.smallestDataInterval,this.largestDataInterval),I=R=>Math.round(n.convert(m[R]))+v+N,k=(R,O,B,T,F,w,E)=>{const G=y[R],W=m[R];if(W==null)return;const V=x[R],K=S[R];if(!Number.isFinite(V?.valueOf())||!Number.isFinite(K?.valueOf()))return;const[z,X]=V<K?[V,K]:[K,V],Y=Math.round(l.convert(w)),U=Math.round(l.convert(F)),H=Math.max(d,Math.abs(U-Y)),$={x:c?Math.min(Y,U):B,y:c?B:Math.min(Y,U),width:c?H:T,height:c?T:H},j={x:$.x+$.width/2,y:$.y+$.height/2},Z=this.createLabelData({datumIndex:R,rect:$,barAlongX:c,yLowValue:z,yHighValue:X,datum:G,series:this}),q={index:O,valueIndex:R,series:this,itemId:f,datum:G,datumIndex:R,xValue:W,yLowValue:V,yHighValue:K,yLowKey:p,yHighKey:u,xKey:h,x:$.x,y:$.y,width:$.width,height:$.height,midPoint:j,crisp:E,labels:Z};g.nodeData.push(q),g.labelData.push(...Z)},{dataAggregationFilters:P}=this,[_,A]=n.range,L=A-_,C=P?.find(R=>R.maxRange>L);if(C!=null){const{maxRange:R,indexData:O}=C,[B,T]=visibleRangeIndices2(R,o.range,F=>{const w=F*SPAN,E=O[w+X_MIN],G=O[w+X_MAX];if(E===-1)return;const W=(E+G)/2|0;return[I(W),I(G)+D]});for(let F=B;F<T;F+=1){const w=F*SPAN,E=O[w+X_MIN],G=O[w+X_MAX],W=O[w+Y_MIN],V=O[w+Y_MAX];if(E===-1)continue;const K=(E+G)/2|0;if(m[K]==null)continue;const X=I(K),Y=Math.abs(I(E)-I(G))+D,U=x[W],H=S[V];k(K,0,X,Y,U,H,!1)}}else if(a.type==="ungrouped"){let[R,O]=visibleRangeIndices2(y.length,o.range,B=>[I(B),D]);a.input.count<1e3&&(R=0,O=a.input.count);for(let B=R;B<O;B+=1){const T=I(B),F=D,w=x[B],E=S[B];k(B,0,T,F,w,E,b)}}else for(const{datumIndex:R,groupIndex:O}of t.forEachGroupDatum(this,a)){const B=I(R),T=D,F=x[R],w=S[R];k(R,O,B,T,F,w,b)}return g}createLabelData({datumIndex:e,rect:t,barAlongX:i,yLowValue:a,yHighValue:s,datum:o,series:r}){const{xKey:n,yLowKey:l,yHighKey:c,xName:h,yLowName:p,yHighName:u,yName:d,label:f}=this.properties,g={datum:o,xKey:n,yLowKey:l,yHighKey:c,xName:h,yLowName:p,yHighName:u,yName:d},{placement:y,padding:m}=f,S=m*(y==="outside"?1:-1),D={datumIndex:e,x:t.x+(i?-S:t.width/2),y:t.y+(i?t.height/2:t.height+S),textAlign:i?"left":"center",textBaseline:i?"middle":"bottom",text:this.getLabelText(f,{itemId:"low",value:a,...g}),itemId:"low",datum:o,series:r},M={datumIndex:e,x:t.x+(i?t.width+S:t.width/2),y:t.y+(i?t.height/2:-S),textAlign:i?"right":"center",textBaseline:i?"middle":"top",text:this.getLabelText(f,{itemId:"high",value:s,...g}),itemId:"high",datum:o,series:r};return y==="outside"&&(D.textAlign=i?"right":"center",D.textBaseline=i?"middle":"top",M.textAlign=i?"left":"center",M.textBaseline=i?"middle":"bottom"),[D,M]}nodeFactory(){return new Rect3}updateDatumSelection(e){const{nodeData:t,datumSelection:i}=e,a=t??[];return i.update(a,void 0,s=>this.getDatumId(s))}getItemBaseStyle(e){const{properties:t}=this,{cornerRadius:i,fillGradientDefaults:a,fillPatternDefaults:s,fillImageDefaults:o}=t,r=e?t.highlightStyle.item:void 0;return getShapeStyle5({fill:r?.fill??t.fill,fillOpacity:r?.fillOpacity??t.fillOpacity,stroke:r?.stroke??t.stroke,strokeWidth:r?.strokeWidth??this.getStrokeWidth(t.strokeWidth),strokeOpacity:r?.strokeOpacity??t.strokeOpacity,lineDash:r?.lineDash??t.lineDash??[],lineDashOffset:r?.lineDashOffset??t.lineDashOffset,cornerRadius:i},a,s,o)}getItemStyleOverrides(e,t,i,a){const{id:s,properties:o}=this,{xKey:r,yHighKey:n,yLowKey:l,itemStyler:c,fillGradientDefaults:h,fillPatternDefaults:p,fillImageDefaults:u}=o;if(c==null)return;const d=this.cachedDatumCallback(createDatumId7(e,a?"highlight":"node"),()=>this.callWithContext(c,{seriesId:s,datum:t,xKey:r,yHighKey:n,yLowKey:l,highlighted:a,...i}));return getShapeStyle5(d,h,p,u)}updateDatumNodes(e){const{datumSelection:t,isHighlight:i}=e,a=this.getCategoryDirection()===ChartAxisDirection10.X,s=this.getItemBaseStyle(i),o=this.getShapeFillBBox();t.each((r,n)=>{const l=this.getItemStyleOverrides(String(n.datumIndex),n.datum,s,i);applyShapeStyle4(r,s,l,o),r.cornerRadius=l?.cornerRadius??s.cornerRadius,r.visible=a?n.width>0:n.height>0,r.crisp=n.crisp})}getHighlightLabelData(e,t){const i=e.filter(a=>a.datum===t.datum);return i.length>0?i:void 0}updateLabelSelection(e){const t=this.properties.label.enabled?e.labelData:[];return e.labelSelection.update(t,i=>{i.pointerEvents=PointerEvents3.None})}updateLabelNodes(e){e.labelSelection.each((t,i)=>{updateLabelNode2(t,this.properties.label,i)})}getTooltipContent(e){const{id:t,dataModel:i,processedData:a,properties:s}=this,{xKey:o,xName:r,yName:n,yLowKey:l,yHighKey:c,yLowName:h,yHighName:p,tooltip:u}=s,d=this.getCategoryAxis(),f=this.getValueAxis();if(!i||!a||!d||!f)return;const g=a.dataSources.get(this.id)?.[e],y=i.resolveKeysById(this,"xValue",a)[e],m=i.resolveColumnById(this,"yHighValue",a)[e],x=i.resolveColumnById(this,"yLowValue",a)[e];if(y==null)return;const S=this.getItemBaseStyle(!1);Object.assign(S,this.getItemStyleOverrides(String(e),g,S,!1));const D=`${f.formatDatum(x)} - ${f.formatDatum(m)}`;return this.formatTooltipWithContext(u,{heading:d.formatDatum(y),symbol:this.legendItemSymbol(),data:[{label:n,fallbackLabel:`${h??l} - ${p??c}`,value:D}]},{seriesId:t,datum:g,title:n,xKey:o,xName:r,yName:n,yLowKey:l,yHighKey:c,yLowName:h,yHighName:p,...S})}legendItemSymbol(){const{fill:e,stroke:t,strokeWidth:i,fillOpacity:a,strokeOpacity:s,lineDash:o,lineDashOffset:r,fillGradientDefaults:n,fillPatternDefaults:l,fillImageDefaults:c}=this.properties;return{marker:getShapeStyle5({fill:e,stroke:t,fillOpacity:a,strokeOpacity:s,strokeWidth:i,lineDash:o,lineDashOffset:r},n,l,c)}}getLegendData(e){if(e!=="category")return[];const{id:t,visible:i}=this,{yName:a,yLowName:s,yHighName:o,yLowKey:r,yHighKey:n,showInLegend:l}=this.properties,c=a??`${s??r} - ${o??n}`,h=`${r}-${n}`;return[{legendType:"category",id:t,itemId:h,seriesId:t,enabled:i,label:{text:`${c}`},symbol:this.legendItemSymbol(),hideInLegend:!l}]}animateEmptyUpdateReady({datumSelection:e,labelSelection:t}){const i=prepareBarAnimationFunctions(midpointStartingBarPosition(this.isVertical(),"normal"));motion2.fromToMotion(this.id,"datums",this.ctx.animationManager,[e],i),seriesLabelFadeInAnimation2(this,"labels",this.ctx.animationManager,t)}animateWaitingUpdateReady(e){const{datumSelection:t,labelSelection:i,contextData:a,previousContextData:s}=e,o=import_ag_charts_community58._ModuleSupport.calculateDataDiff(this.id,t,this.getDatumId.bind(this),a,s,this.processedData);this.ctx.animationManager.stopByAnimationGroupId(this.id);const r=s==null?"fade":"normal",n=prepareBarAnimationFunctions(midpointStartingBarPosition(this.isVertical(),r));motion2.fromToMotion(this.id,"datums",this.ctx.animationManager,[t],n,(l,c)=>this.getDatumId(c),o),(o?.changed||!areScalingEqual2(a.groupScale,s?.groupScale))&&seriesLabelFadeInAnimation2(this,"labels",this.ctx.animationManager,i)}getDatumId(e){return`${e.xValue}-${e.valueIndex}`}isLabelEnabled(){return this.properties.label.enabled}onDataChange(){}computeFocusBounds({datumIndex:e}){return computeBarFocusBounds4(this,this.contextNodeData?.nodeData[e])}};RangeBarSeries.className="RangeBarSeries",RangeBarSeries.type="range-bar";var import_ag_charts_community59=require("ag-charts-community"),import_ag_charts_core21=require("ag-charts-core"),{commonSeriesOptionsDefs:commonSeriesOptionsDefs6,rangeBarSeriesThemeableOptionsDef}=import_ag_charts_community59._ModuleSupport,rangeBarSeriesOptionsDef={...rangeBarSeriesThemeableOptionsDef,...commonSeriesOptionsDefs6,type:(0,import_ag_charts_core21.required)((0,import_ag_charts_core21.constant)("range-bar")),xKey:(0,import_ag_charts_core21.required)(import_ag_charts_core21.string),yLowKey:(0,import_ag_charts_core21.required)(import_ag_charts_core21.string),yHighKey:(0,import_ag_charts_core21.required)(import_ag_charts_core21.string),xName:import_ag_charts_core21.string,yName:import_ag_charts_core21.string,yLowName:import_ag_charts_core21.string,yHighName:import_ag_charts_core21.string};rangeBarSeriesOptionsDef.pickOutsideVisibleMinorAxis=(0,import_ag_charts_core21.undocumented)(import_ag_charts_core21.boolean),rangeBarSeriesOptionsDef.fastDataProcessing=(0,import_ag_charts_core21.undocumented)(import_ag_charts_core21.boolean),rangeBarSeriesOptionsDef.focusPriority=(0,import_ag_charts_core21.undocumented)(import_ag_charts_core21.number);var import_ag_charts_community60=require("ag-charts-community"),RANGE_BAR_SERIES_THEME={series:{direction:"vertical",fill:{$palette:"fill"},stroke:{$palette:"stroke"},fillGradientDefaults:{type:"gradient",gradient:"linear",bounds:"item",colorStops:{$palette:"gradient"},rotation:0,reverse:!1},fillPatternDefaults:import_ag_charts_community60._ModuleSupport.FILL_PATTERN_DEFAULTS,fillImageDefaults:import_ag_charts_community60._ModuleSupport.FILL_IMAGE_DEFAULTS,strokeWidth:0,label:{enabled:!1,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"backgroundColor"},placement:"inside"}},axes:{[import_ag_charts_community60._ModuleSupport.ThemeConstants.CARTESIAN_AXIS_TYPE.NUMBER]:{crosshair:{enabled:!0}}}},RangeBarModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["cartesian"],identifier:"range-bar",moduleFactory:e=>new RangeBarSeries(e),tooltipDefaults:{range:"exact"},defaultAxes:import_ag_charts_community61._ModuleSupport.DIRECTION_SWAP_AXES,themeTemplate:RANGE_BAR_SERIES_THEME,groupable:!0},RangeBarSeriesModule={type:"series",name:"range-bar",chartType:"cartesian",enterprise:!0,options:rangeBarSeriesOptionsDef,create:e=>new RangeBarSeries(e)},import_ag_charts_community66=require("ag-charts-community"),import_ag_charts_community63=require("ag-charts-community"),import_ag_charts_community62=require("ag-charts-community"),{AbstractBarSeriesProperties:AbstractBarSeriesProperties4,BaseProperties:BaseProperties5,FillGradientDefaults:FillGradientDefaults5,FillPatternDefaults:FillPatternDefaults5,FillImageDefaults:FillImageDefaults5,PropertiesArray,SeriesTooltip:SeriesTooltip7,Property:Property20,DropShadow:DropShadow3,Label:Label3}=import_ag_charts_community62._ModuleSupport,WaterfallSeriesTotal=class extends BaseProperties5{};__decorateClass([Property20],WaterfallSeriesTotal.prototype,"totalType",2),__decorateClass([Property20],WaterfallSeriesTotal.prototype,"index",2),__decorateClass([Property20],WaterfallSeriesTotal.prototype,"axisLabel",2);var WaterfallSeriesItemTooltip=class extends BaseProperties5{};__decorateClass([Property20],WaterfallSeriesItemTooltip.prototype,"renderer",2);var WaterfallSeriesLabel=class extends Label3{constructor(){super(...arguments),this.placement="outside-end",this.padding=6}};__decorateClass([Property20],WaterfallSeriesLabel.prototype,"placement",2),__decorateClass([Property20],WaterfallSeriesLabel.prototype,"padding",2);var WaterfallSeriesItem=class extends BaseProperties5{constructor(){super(...arguments),this.fill="#c16068",this.fillGradientDefaults=new FillGradientDefaults5,this.fillPatternDefaults=new FillPatternDefaults5,this.fillImageDefaults=new FillImageDefaults5,this.stroke="#c16068",this.fillOpacity=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.strokeWidth=1,this.cornerRadius=0,this.shadow=new DropShadow3().set({enabled:!1}),this.label=new WaterfallSeriesLabel,this.tooltip=new WaterfallSeriesItemTooltip}};__decorateClass([Property20],WaterfallSeriesItem.prototype,"name",2),__decorateClass([Property20],WaterfallSeriesItem.prototype,"fill",2),__decorateClass([Property20],WaterfallSeriesItem.prototype,"fillGradientDefaults",2),__decorateClass([Property20],WaterfallSeriesItem.prototype,"fillPatternDefaults",2),__decorateClass([Property20],WaterfallSeriesItem.prototype,"fillImageDefaults",2),__decorateClass([Property20],WaterfallSeriesItem.prototype,"stroke",2),__decorateClass([Property20],WaterfallSeriesItem.prototype,"fillOpacity",2),__decorateClass([Property20],WaterfallSeriesItem.prototype,"strokeOpacity",2),__decorateClass([Property20],WaterfallSeriesItem.prototype,"lineDash",2),__decorateClass([Property20],WaterfallSeriesItem.prototype,"lineDashOffset",2),__decorateClass([Property20],WaterfallSeriesItem.prototype,"strokeWidth",2),__decorateClass([Property20],WaterfallSeriesItem.prototype,"cornerRadius",2),__decorateClass([Property20],WaterfallSeriesItem.prototype,"itemStyler",2),__decorateClass([Property20],WaterfallSeriesItem.prototype,"shadow",2),__decorateClass([Property20],WaterfallSeriesItem.prototype,"label",2),__decorateClass([Property20],WaterfallSeriesItem.prototype,"tooltip",2);var WaterfallSeriesConnectorLine=class extends BaseProperties5{constructor(){super(...arguments),this.enabled=!0,this.stroke="black",this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.strokeWidth=2}};__decorateClass([Property20],WaterfallSeriesConnectorLine.prototype,"enabled",2),__decorateClass([Property20],WaterfallSeriesConnectorLine.prototype,"stroke",2),__decorateClass([Property20],WaterfallSeriesConnectorLine.prototype,"strokeOpacity",2),__decorateClass([Property20],WaterfallSeriesConnectorLine.prototype,"lineDash",2),__decorateClass([Property20],WaterfallSeriesConnectorLine.prototype,"lineDashOffset",2),__decorateClass([Property20],WaterfallSeriesConnectorLine.prototype,"strokeWidth",2);var WaterfallSeriesItems=class extends BaseProperties5{constructor(){super(...arguments),this.positive=new WaterfallSeriesItem,this.negative=new WaterfallSeriesItem,this.total=new WaterfallSeriesItem}};__decorateClass([Property20],WaterfallSeriesItems.prototype,"positive",2),__decorateClass([Property20],WaterfallSeriesItems.prototype,"negative",2),__decorateClass([Property20],WaterfallSeriesItems.prototype,"total",2);var WaterfallSeriesProperties=class extends AbstractBarSeriesProperties4{constructor(){super(...arguments),this.item=new WaterfallSeriesItems,this.totals=new PropertiesArray(WaterfallSeriesTotal),this.line=new WaterfallSeriesConnectorLine,this.tooltip=new SeriesTooltip7}};__decorateClass([Property20],WaterfallSeriesProperties.prototype,"xKey",2),__decorateClass([Property20],WaterfallSeriesProperties.prototype,"yKey",2),__decorateClass([Property20],WaterfallSeriesProperties.prototype,"xName",2),__decorateClass([Property20],WaterfallSeriesProperties.prototype,"yName",2),__decorateClass([Property20],WaterfallSeriesProperties.prototype,"item",2),__decorateClass([Property20],WaterfallSeriesProperties.prototype,"totals",2),__decorateClass([Property20],WaterfallSeriesProperties.prototype,"line",2),__decorateClass([Property20],WaterfallSeriesProperties.prototype,"tooltip",2);var{adjustLabelPlacement,SeriesNodePickMode:SeriesNodePickMode5,fixNumericExtent:fixNumericExtent5,valueProperty:valueProperty6,keyProperty:keyProperty5,accumulativeValueProperty,trailingAccumulatedValueProperty,ChartAxisDirection:ChartAxisDirection11,createDatumId:createDatumId8,checkCrisp:checkCrisp2,updateLabelNode:updateLabelNode3,prepareBarAnimationFunctions:prepareBarAnimationFunctions2,collapsedStartingBarPosition,resetBarSelectionsFn:resetBarSelectionsFn2,seriesLabelFadeInAnimation:seriesLabelFadeInAnimation3,resetLabelFn:resetLabelFn3,animationValidation:animationValidation5,DEFAULT_CARTESIAN_DIRECTION_KEYS:DEFAULT_CARTESIAN_DIRECTION_KEYS2,DEFAULT_CARTESIAN_DIRECTION_NAMES:DEFAULT_CARTESIAN_DIRECTION_NAMES2,computeBarFocusBounds:computeBarFocusBounds5,isContinuous,Rect:Rect4,motion:motion3,applyShapeStyle:applyShapeStyle5,getShapeStyle:getShapeStyle6}=import_ag_charts_community63._ModuleSupport,WaterfallSeries=class extends import_ag_charts_community63._ModuleSupport.AbstractBarSeries{constructor(e){super({moduleCtx:e,directionKeys:DEFAULT_CARTESIAN_DIRECTION_KEYS2,directionNames:DEFAULT_CARTESIAN_DIRECTION_NAMES2,categoryKey:void 0,pickModes:[SeriesNodePickMode5.NEAREST_NODE,SeriesNodePickMode5.EXACT_SHAPE_MATCH],pathsPerSeries:["connector"],hasHighlightedLabels:!0,pathsZIndexSubOrderOffset:[-1,-1],animationResetFns:{datum:resetBarSelectionsFn2,label:resetLabelFn3}}),this.properties=new WaterfallSeriesProperties,this.seriesItemTypes=new Set(["positive","negative","total"])}async processData(e){const{xKey:t,yKey:i,totals:a}=this.properties,{data:s=[]}=this;if(!this.visible)return;const o=x=>isContinuous(x)&&Number(x)>=0,r=x=>isContinuous(x)&&Number(x)>=0,n=x=>x==="total"||x==="subtotal",l={missingValue:void 0,invalidValue:void 0},c=[],h=a.reduce((x,S)=>{const D=x.get(S.index);return D?D.push(S):x.set(S.index,[S]),x},new Map);s.forEach((x,S)=>{c.push(x),h.get(S)?.forEach(D=>c.push({...D.toJson(),[t]:D.axisLabel}))});const p=[];this.ctx.animationManager.isSkipped()||p.push(animationValidation5());const u=this.getCategoryAxis()?.scale,d=this.getValueAxis()?.scale,{isContinuousX:f,xScaleType:g,yScaleType:y}=this.getScaleInformation({xScale:u,yScale:d}),{processedData:m}=await this.requestDataModel(e,c,{props:[keyProperty5(t,g,{id:"xValue"}),accumulativeValueProperty(i,y,{...l,id:"yCurrent"}),accumulativeValueProperty(i,y,{...l,missingValue:0,id:"yCurrentTotal"}),accumulativeValueProperty(i,y,{...l,id:"yCurrentPositive",validation:o}),accumulativeValueProperty(i,y,{...l,id:"yCurrentNegative",validation:r}),trailingAccumulatedValueProperty(i,y,{...l,id:"yPrevious"}),valueProperty6(i,y,{id:"yRaw"}),valueProperty6("totalType","band",{id:"totalTypeValue",missingValue:void 0,validation:n}),...f?[import_ag_charts_community63._ModuleSupport.SMALLEST_KEY_INTERVAL,import_ag_charts_community63._ModuleSupport.LARGEST_KEY_INTERVAL]:[],...p]});this.smallestDataInterval=m.reduced?.smallestKeyInterval,this.largestDataInterval=m.reduced?.largestKeyInterval,this.updateSeriesItemTypes(),this.animationState.transition("updateData")}getSeriesDomain(e){const{processedData:t,dataModel:i}=this;if(!t||!i)return[];const{keys:[a],values:s}=t.domain;if(e===this.getCategoryDirection()){const o=i.resolveProcessedDataDefById(this,"xValue");if(o?.def.type==="key"&&o?.def.valueType==="category")return a;const r=e===ChartAxisDirection11.Y,n=this.getCategoryAxis().isReversed();return this.padBandExtent(a,n!==r)}else{const o=i.resolveProcessedDataIndexById(this,"yCurrent"),r=s[o],n=[Math.min(0,r[0]),Math.max(0,r[1])];return fixNumericExtent5(n)}}getSeriesRange(e,t){return[NaN,NaN]}createNodeData(){const{data:e,dataModel:t,processedData:i}=this,a=this.getCategoryAxis(),s=this.getValueAxis();if(!e||!a||!s||!t||!i)return;const{line:o}=this.properties,r=a.scale,n=s.scale,l=this.getBarDirection()===ChartAxisDirection11.X,c=this.getBandwidth(a)??10,h=a.isReversed(),p=s.isReversed();if(i.type!=="ungrouped")return;const u={itemId:this.properties.yKey,nodeData:[],labelData:[],pointData:[],scales:this.calculateScaling(),groupScale:this.getScaling(this.groupScale),visible:this.visible};if(!this.visible)return u;const d=[],f=t.resolveKeysById(this,"xValue",i),g=t.resolveColumnById(this,"yRaw",i),y=t.resolveColumnById(this,"totalTypeValue",i),m=t.resolveColumnById(this,"yCurrent",i),x=t.resolveColumnById(this,"yPrevious",i),S=t.resolveColumnById(this,"yCurrentTotal",i),D=checkCrisp2(a?.scale,a?.visibleRange,this.smallestDataInterval,this.largestDataInterval);function M(L,C,R){return L||C?{cumulativeValue:S[R],trailingValue:C?v:0}:{cumulativeValue:m[R],trailingValue:x[R]}}function N(L,C,R,O,B){return L?O:C?(O??0)-(B??0):R}let v=0;const{xKey:b,yKey:I,xName:k,yName:P}=this.properties;(i.dataSources.get(this.id)??[]).forEach((L,C)=>{const R=y[C],O=this.isSubtotal(R),B=this.isTotal(R),T=B||O,F=f[C];if(F==null)return;const w=Math.round(r.convert(F)),E=g[C],{cumulativeValue:G,trailingValue:W}=M(B,O,C);T&&(v=G??0);const V=Math.round(n.convert(G)),K=Math.round(n.convert(W)),z=N(B,O,E,G,W),X=(z??0)>=0,Y=this.getSeriesItemType(X,R),{strokeWidth:U,label:H}=this.getItemConfig(Y),$=X?V:K,j=X?K:V,Z=Math.max(U,Math.abs(j-$)),q={x:l?Math.min($,j):w,y:l?w:Math.min($,j),width:l?Z:c,height:l?c:Z},ae={x:q.x+q.width/2,y:q.y+q.height/2},se=T?V:K,Q=Math.floor(o.strokeWidth)%2/2,te=h?V:se,J=h?se:V;let ee,ie;l?(ee={x:te+Q,y:q.y},ie={x:J+Q,y:q.y+q.height}):(ee={x:q.x,y:te+Q},ie={x:q.x+q.width,y:J+Q});const oe={x:h?ie.x:ee.x,y:h?ie.y:ee.y,x2:h?ee.x:ie.x,y2:h?ee.y:ie.y,size:0};d.push(oe);const re=Y==="subtotal"?"total":Y,ne=this.getLabelText(H,{itemId:re,value:z,datum:L,xKey:b,yKey:I,xName:k,yName:P}),he={index:C,series:this,itemId:Y,datum:L,datumIndex:C,cumulativeValue:G??0,xValue:F,yValue:z,yKey:I,xKey:b,x:q.x,y:q.y,width:q.width,height:q.height,midPoint:ae,crisp:D,label:{text:ne,...adjustLabelPlacement({isUpward:(z??-1)>=0!==p,isVertical:!l,placement:H.placement,padding:H.padding,rect:q})}};u.nodeData.push(he),u.labelData.push(he)});const A=this.properties.line.enabled;return m!=null&&A&&(u.pointData=d),u}updateSeriesItemTypes(){const{dataModel:e,seriesItemTypes:t,processedData:i}=this;if(!e||!i)return;t.clear();const a=e.resolveProcessedDataIndexById(this,"yCurrentPositive"),s=e.resolveProcessedDataIndexById(this,"yCurrentNegative"),o=e.resolveProcessedDataIndexById(this,"totalTypeValue"),r=i.domain.values[a]??[],n=i.domain.values[s]??[];r.length>0&&t.add("positive"),n.length>0&&t.add("negative");const l=i?.domain.values[o];l&&l.forEach(c=>{(c==="total"||c==="subtotal")&&t.add("total")})}isSubtotal(e){return e==="subtotal"}isTotal(e){return e==="total"}nodeFactory(){return new Rect4}getSeriesItemType(e,t){return t??(e?"positive":"negative")}getItemConfig(e){switch(e){case"positive":return this.properties.item.positive;case"negative":return this.properties.item.negative;case"subtotal":case"total":return this.properties.item.total}}updateDatumSelection(e){const{nodeData:t,datumSelection:i}=e,a=t??[];return i.update(a)}getItemStyle(e,t,i,a){const{id:s,properties:o}=this,r=o.item[i==="subtotal"?"total":i],n=a?o.highlightStyle.item:void 0,{itemStyler:l,fillGradientDefaults:c,fillPatternDefaults:h,fillImageDefaults:p}=r,{xKey:u,yKey:d}=o,f=getShapeStyle6({fill:n?.fill??r.fill,fillOpacity:n?.fillOpacity??r.fillOpacity,stroke:n?.stroke??r.stroke,strokeWidth:n?.strokeWidth??r.strokeWidth,strokeOpacity:n?.strokeOpacity??r.strokeOpacity,lineDash:n?.lineDash??r.lineDash??[],lineDashOffset:n?.lineDashOffset??r.lineDashOffset,cornerRadius:r.cornerRadius},c,h,p);if(l!=null){let g=this.cachedDatumCallback(createDatumId8(e,a?"highlight":"node"),()=>this.callWithContext(l,{seriesId:s,itemId:i,datum:t,xKey:u,yKey:d,highlighted:a,...f}));g=getShapeStyle6(g,c,h,p),Object.assign(f,g)}return f}updateDatumNodes(e){const{datumSelection:t,isHighlight:i}=e,a=this.getCategoryDirection()===ChartAxisDirection11.X,s=this.getShapeFillBBox();t.each((o,r)=>{const n=r.itemId,l=this.getItemStyle(String(r.datumIndex),r.datum,n,i);applyShapeStyle5(o,l,void 0,s),o.visible=a?r.width>0:r.height>0,o.crisp=r.crisp})}updateLabelSelection(e){const{labelData:t,labelSelection:i}=e;if(t.length===0)return i.update([]);const a=t.filter(s=>{const{label:o}=this.getItemConfig(s.itemId);return o.enabled});return i.update(a)}updateLabelNodes(e){e.labelSelection.each((t,i)=>{updateLabelNode3(t,this.getItemConfig(i.itemId).label,i.label)})}getTooltipContent(e){const{id:t,dataModel:i,processedData:a,properties:s}=this,{xKey:o,xName:r,yKey:n,yName:l,tooltip:c}=s,h=this.getCategoryAxis(),p=this.getValueAxis();if(!i||!a||!h||!p)return;const u=a.dataSources.get(this.id)?.[e],d=i.resolveKeysById(this,"xValue",a)[e],f=i.resolveColumnById(this,"yRaw",a)[e],g=i.resolveColumnById(this,"yCurrentTotal",a),y=i.resolveColumnById(this,"totalTypeValue",a);if(d==null)return;const m=y[e],x=(f??0)>=0,S=this.getSeriesItemType(x,m);let D;if(this.isTotal(m))D=g[e];else if(this.isSubtotal(m)){D=g[e];for(let N=e-1;N>=0;N-=1)if(this.isSubtotal(y[N])){D=D-g[N];break}}else D=f;const M=this.getItemStyle(String(e),u,S,!1);return this.formatTooltipWithContext(c,{heading:h.formatDatum(d),symbol:this.legendItemSymbol(S),data:[{label:l,fallbackLabel:n,value:p.formatDatum(D)}]},{seriesId:t,datum:u,title:l,itemId:S,xKey:o,xName:r,yKey:n,yName:l,...M})}legendItemSymbol(e){const{fill:t,stroke:i,fillOpacity:a,strokeOpacity:s,strokeWidth:o,lineDash:r,lineDashOffset:n,fillGradientDefaults:l,fillPatternDefaults:c,fillImageDefaults:h}=this.getItemConfig(e);return{marker:getShapeStyle6({fill:t,stroke:i,fillOpacity:a,strokeOpacity:s,strokeWidth:o,lineDash:r,lineDashOffset:n},l,c,h)}}getLegendData(e){if(e!=="category")return[];const{id:t,seriesItemTypes:i}=this,a=[],s=r=>r.charAt(0).toUpperCase()+r.substring(1),{showInLegend:o}=this.properties;return i.forEach(r=>{const{name:n}=this.getItemConfig(r);a.push({legendType:"category",id:t,itemId:r,seriesId:t,enabled:!0,label:{text:n??s(r)},symbol:this.legendItemSymbol(r),hideInLegend:!o,isFixed:!0})}),a}toggleSeriesItem(){}animateEmptyUpdateReady(e){const{datumSelection:t,labelSelection:i,contextData:a}=e,s=prepareBarAnimationFunctions2(collapsedStartingBarPosition(this.isVertical(),this.axes,"normal"));motion3.fromToMotion(this.id,"datums",this.ctx.animationManager,[t],s),seriesLabelFadeInAnimation3(this,"labels",this.ctx.animationManager,i);const{pointData:o}=a;o&&(this.isVertical()?this.animateConnectorLinesVertical(e):this.animateConnectorLinesHorizontal(e))}animateConnectorLinesHorizontal(e){const{pointData:t=[]}=e.contextData,[i]=e.paths,{path:a}=i;this.updateLineNode(i);const s=this.getValueAxis(),o=s?.isReversed(),r=o?(h,p)=>h<p:(h,p)=>h>p,n=s?.scale.convert(0),l=t.reduce((h,p)=>(r(p.x,h)&&(h=p.x),h),o?1/0:0),c=(h,p,u,d,f)=>(h-p)/(u-p)*(f-d)+d;this.ctx.animationManager.animate({id:`${this.id}_connectors`,groupId:this.id,phase:"initial",from:n,to:l,ease:import_ag_charts_community63._ModuleSupport.Motion.easeOut,collapsable:!1,onUpdate(h){a.clear(!0),t.forEach((p,u)=>{const d=c(h,n,l,n,p.x),f=c(h,n,l,n,p.x2);u!==0&&a.lineTo(d,p.y),a.moveTo(f,p.y2)}),i.checkPathDirty()},onStop:()=>this.resetConnectorLinesPath(e)})}animateConnectorLinesVertical(e){const{pointData:t=[]}=e.contextData,[i]=e.paths,{path:a}=i;this.updateLineNode(i);const s=this.getValueAxis(),o=s?.isReversed(),r=o?(h,p)=>h>p:(h,p)=>h<p,n=s?.scale.convert(0),l=t.reduce((h,p)=>(r(p.y,h)&&(h=p.y),h),o?0:1/0),c=(h,p,u,d,f)=>(h-p)/(u-p)*(f-d)+d;this.ctx.animationManager.animate({id:`${this.id}_connectors`,groupId:this.id,phase:"initial",from:n,to:l,ease:import_ag_charts_community63._ModuleSupport.Motion.easeOut,collapsable:!1,onUpdate(h){a.clear(!0),t.forEach((p,u)=>{const d=c(h,n,l,n,p.y),f=c(h,n,l,n,p.y2);u!==0&&a.lineTo(p.x,d),a.moveTo(p.x2,f)}),i.checkPathDirty()},onStop:()=>this.resetConnectorLinesPath(e)})}animateReadyResize(e){super.animateReadyResize(e),this.resetConnectorLinesPath(e)}updatePaths(e){this.resetConnectorLinesPath({contextData:e.contextData,paths:e.paths})}resetConnectorLinesPath({contextData:e,paths:t}){if(t.length===0)return;const[i]=t;this.updateLineNode(i);const{path:a}=i;a.clear(!0);const{pointData:s}=e;s&&(s.forEach((o,r)=>{r!==0&&a.lineTo(o.x,o.y),a.moveTo(o.x2,o.y2)}),i.checkPathDirty())}updateLineNode(e){const{stroke:t,strokeWidth:i,strokeOpacity:a,lineDash:s,lineDashOffset:o}=this.properties.line;e.setProperties({fill:void 0,stroke:t,strokeWidth:this.getStrokeWidth(i),strokeOpacity:a,lineDash:s,lineDashOffset:o,lineJoin:"round",pointerEvents:import_ag_charts_community63._ModuleSupport.PointerEvents.None})}isLabelEnabled(){const{positive:e,negative:t,total:i}=this.properties.item;return e.label.enabled||t.label.enabled||i.label.enabled}onDataChange(){}computeFocusBounds({datumIndex:e}){return computeBarFocusBounds5(this,this.contextNodeData?.nodeData[e])}};WaterfallSeries.className="WaterfallSeries",WaterfallSeries.type="waterfall";var import_ag_charts_community64=require("ag-charts-community"),import_ag_charts_core22=require("ag-charts-core"),{commonSeriesOptionsDefs:commonSeriesOptionsDefs7,waterfallSeriesThemeableOptionsDef}=import_ag_charts_community64._ModuleSupport,waterfallSeriesOptionsDef={...waterfallSeriesThemeableOptionsDef,...commonSeriesOptionsDefs7,type:(0,import_ag_charts_core22.required)((0,import_ag_charts_core22.constant)("waterfall")),xKey:(0,import_ag_charts_core22.required)(import_ag_charts_core22.string),yKey:(0,import_ag_charts_core22.required)(import_ag_charts_core22.string),xName:import_ag_charts_core22.string,yName:import_ag_charts_core22.string,totals:(0,import_ag_charts_core22.arrayOfDefs)({totalType:(0,import_ag_charts_core22.required)((0,import_ag_charts_core22.union)("total","subtotal")),index:(0,import_ag_charts_core22.required)(import_ag_charts_core22.positiveNumber),axisLabel:(0,import_ag_charts_core22.required)(import_ag_charts_core22.string)},"a total definition options array")},import_ag_charts_community65=require("ag-charts-community");function itemTheme2(e,t){return{fill:{$if:[{$eq:[{$palette:"type"},"user-indexed"]},{$path:[`./${t}`,{$palette:"fill"},{$palette:"fills"}]},{$palette:`${e}.fill`}]},fillGradientDefaults:{type:"gradient",gradient:"linear",bounds:"item",colorStops:{$if:[{$or:[{$isGradient:[{$palette:`${e}.fill`}]},{$isPattern:[{$palette:`${e}.fill`}]},{$isImage:[{$palette:`${e}.fill`}]}]},{$map:[{$path:["./color",void 0,{$value:"$1"}]},{$path:["./colorStops",void 0,{$palette:`${e}.fill`}]}]},[{$mix:[{$palette:`${e}.fill`},"black",.15]},{$mix:[{$palette:`${e}.fill`},"white",.15]}]]},rotation:0,reverse:!1},fillPatternDefaults:import_ag_charts_community65._ModuleSupport.FILL_PATTERN_DEFAULTS,fillImageDefaults:import_ag_charts_community65._ModuleSupport.FILL_IMAGE_DEFAULTS,stroke:{$palette:`${e}.stroke`},strokeWidth:0,label:{enabled:!1,fontStyle:void 0,fontWeight:{$ref:"fontWeight"},fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},color:{$ref:"textColor"},formatter:void 0,placement:"outside-end"}}}var WATERFALL_SERIES_THEME={series:{item:{positive:itemTheme2("altUp",0),negative:itemTheme2("altDown",1),total:itemTheme2("neutral",2)},line:{stroke:{$palette:"neutral.stroke"},strokeOpacity:1,lineDash:[0],lineDashOffset:0,strokeWidth:2}},legend:{enabled:!0,toggleSeries:!1}},WaterfallModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["cartesian"],identifier:"waterfall",solo:!0,moduleFactory:e=>new WaterfallSeries(e),tooltipDefaults:{range:"exact"},defaultAxes:import_ag_charts_community66._ModuleSupport.DIRECTION_SWAP_AXES,themeTemplate:WATERFALL_SERIES_THEME},WaterfallSeriesModule={type:"series",name:"waterfall",chartType:"cartesian",enterprise:!0,options:waterfallSeriesOptionsDef,create:e=>new WaterfallSeries(e)},{NewAreaSeriesModule,NewBarSeriesModule,NewBubbleSeriesModule,NewHistogramSeriesModule,NewLineSeriesModule,NewScatterSeriesModule,numberFormatValidator,without}=import_ag_charts_community67._ModuleSupport,navigatorHandleOptionsDef={width:import_ag_charts_core23.positiveNumber,height:import_ag_charts_core23.positiveNumber,grip:import_ag_charts_core23.boolean,fill:import_ag_charts_core23.color,stroke:import_ag_charts_core23.color,strokeWidth:import_ag_charts_core23.positiveNumber,cornerRadius:import_ag_charts_core23.positiveNumber},commonIgnoredMiniChartProperties=["cursor","highlightStyle","listeners","nodeClickRange","showInLegend","showInMiniChart","tooltip","visible","xName","yName"],navigatorOptionsDef={enabled:import_ag_charts_core23.boolean,height:import_ag_charts_core23.positiveNumber,spacing:import_ag_charts_core23.positiveNumber,cornerRadius:import_ag_charts_core23.number,mask:{fill:import_ag_charts_core23.color,fillOpacity:import_ag_charts_core23.ratio,stroke:import_ag_charts_core23.color,strokeWidth:import_ag_charts_core23.positiveNumber},minHandle:navigatorHandleOptionsDef,maxHandle:navigatorHandleOptionsDef,miniChart:{enabled:import_ag_charts_core23.boolean,padding:{top:import_ag_charts_core23.positiveNumber,bottom:import_ag_charts_core23.positiveNumber},label:{enabled:import_ag_charts_core23.boolean,avoidCollisions:import_ag_charts_core23.boolean,spacing:import_ag_charts_core23.positiveNumber,format:numberFormatValidator,formatter:import_ag_charts_core23.callback,interval:{minSpacing:import_ag_charts_core23.positiveNumber,maxSpacing:import_ag_charts_core23.positiveNumber,values:import_ag_charts_core23.array,step:import_ag_charts_core23.number},...import_ag_charts_core23.fontOptionsDef},series:(0,import_ag_charts_core23.arrayOfDefs)((0,import_ag_charts_core23.typeUnion)({area:without(NewAreaSeriesModule.options,commonIgnoredMiniChartProperties),bar:without(NewBarSeriesModule.options,[...commonIgnoredMiniChartProperties,"errorBar","label","legendItemName","direction"]),"box-plot":without(BoxPlotSeriesModule.options,[...commonIgnoredMiniChartProperties,"direction","legendItemName","minName","q1Name","medianName","q3Name","maxName"]),bubble:without(NewBubbleSeriesModule.options,[...commonIgnoredMiniChartProperties,"title","label","labelKey","labelName","sizeName"]),candlestick:without(CandlestickSeriesModule.options,commonIgnoredMiniChartProperties),heatmap:without(HeatmapSeriesModule.options,[...commonIgnoredMiniChartProperties,"title","label","colorName","textAlign","verticalAlign","itemPadding","colorRange"]),histogram:without(NewHistogramSeriesModule.options,[...commonIgnoredMiniChartProperties,"label"]),line:without(NewLineSeriesModule.options,[...commonIgnoredMiniChartProperties,"errorBar","title","label"]),ohlc:without(OhlcSeriesModule.options,commonIgnoredMiniChartProperties),"range-area":without(RangeAreaSeriesModule.options,[...commonIgnoredMiniChartProperties,"label","yLowName","yHighName"]),"range-bar":without(RangeBarSeriesModule.options,[...commonIgnoredMiniChartProperties,"direction","label","yLowName","yHighName"]),scatter:without(NewScatterSeriesModule.options,[...commonIgnoredMiniChartProperties,"errorBar","title","label","labelKey","labelName"]),waterfall:without(WaterfallSeriesModule.options,[...commonIgnoredMiniChartProperties,"direction"])},"miniChart series options"))}},{annotationOptionsDef}=import_ag_charts_community68._ModuleSupport,AnnotationsModule={type:"plugin",name:"annotations",chartType:"cartesian",options:annotationOptionsDef,create(){return null}},NavigatorModule={type:"plugin",name:"navigator",chartType:"cartesian",options:navigatorOptionsDef,create(){return null}},InitialStateModule={type:"plugin",name:"initialState",options:initialStateOptionsDef,create(){return null}},import_ag_charts_community74=require("ag-charts-community"),import_ag_charts_community72=require("ag-charts-community"),import_ag_charts_core25=require("ag-charts-core"),import_ag_charts_community69=require("ag-charts-community"),import_ag_charts_core24=require("ag-charts-core");function computeNodeGraph(e,t,i){i||(t=removeCircularLinks(t));const a=new Map;for(const o of e)a.set(o.id,{datum:o,linksBefore:[],linksAfter:[],maxPathLengthBefore:-1,maxPathLengthAfter:-1});let s=0;return a.forEach((o,r)=>{s=Math.max(s,computePathLength(a,t,o,r,-1,[])+computePathLength(a,t,o,r,1,[])+1)}),{links:t,nodeGraph:a,maxPathLength:s}}function findCircularLinks(e,t,i,a){const s=a.indexOf(t);if(s!==-1){for(let r=s;r<a.length;r+=1)i.add(a[r]);return}a.push(t);const{toNode:o}=t;for(const r of e)r.fromNode===o&&findCircularLinks(e,r,i,a);a.pop()}function removeCircularLinks(e){const t=new Set;for(const i of e)findCircularLinks(e,i,t,[]);return t.size!==0&&import_ag_charts_core24.Logger.warnOnce("Some links formed circular references. These will be removed from the output."),t.size===0?e:e.filter(i=>!t.has(i))}function computePathLength(e,t,i,a,s,o){if(o.includes(a))return 1/0;let r=s===-1?i.maxPathLengthBefore:i.maxPathLengthAfter;if(r===-1){r=0;const n=s===-1?i.linksBefore:i.linksAfter;for(const l of t){const{fromNode:c,toNode:h}=l,p=s===-1?h.id:c.id,u=s===-1?c.id:h.id,d=a===p?e.get(u):void 0;d!=null&&(n.push({node:d,link:l}),o?.push(a),r=Math.max(r,computePathLength(e,t,d,u,s,o)+1),o?.pop())}s===-1?i.maxPathLengthBefore=r:i.maxPathLengthAfter=r}return r}var{Series,DataController,keyProperty:keyProperty6,valueProperty:valueProperty7,Selection:Selection4,Group:Group6,TransformableText}=import_ag_charts_community69._ModuleSupport,FlowProportionSeriesNodeEvent=class extends import_ag_charts_community69._ModuleSupport.SeriesNodeEvent{constructor(e,t,i,a){super(e,t,i,a);const{datumIndex:s}=i,o=a.contextNodeData?.nodeData.find(r=>r.datumIndex.type===s.type&&r.datumIndex.index===s.index);this.size=o?.size,this.label=o?.type===1?o?.label:void 0}},FlowProportionSeries=class extends Series{constructor(){super(...arguments),this.NodeEvent=FlowProportionSeriesNodeEvent,this._chartNodes=void 0,this.nodeCount=0,this.linkCount=0,this.linksDataModel=void 0,this.linksProcessedData=void 0,this.nodesDataModel=void 0,this.nodesProcessedData=void 0,this.processedNodes=new Map,this.linkGroup=this.contentGroup.appendChild(new Group6({name:"linkGroup"})),this.nodeGroup=this.contentGroup.appendChild(new Group6({name:"nodeGroup"})),this.focusLinkGroup=this.highlightNode.appendChild(new Group6({name:"linkGroup"})),this.focusNodeGroup=this.highlightNode.appendChild(new Group6({name:"nodeGroup"})),this.highlightLinkGroup=this.highlightNode.appendChild(new Group6({name:"linkGroup"})),this.highlightNodeGroup=this.highlightNode.appendChild(new Group6({name:"nodeGroup"})),this.labelSelection=Selection4.select(this.labelGroup,TransformableText),this.linkSelection=Selection4.select(this.linkGroup,()=>this.linkFactory()),this.nodeSelection=Selection4.select(this.nodeGroup,()=>this.nodeFactory()),this.focusLinkSelection=Selection4.select(this.focusLinkGroup,()=>this.linkFactory()),this.focusNodeSelection=Selection4.select(this.focusNodeGroup,()=>this.nodeFactory()),this.highlightLinkSelection=Selection4.select(this.highlightLinkGroup,()=>this.linkFactory()),this.highlightNodeSelection=Selection4.select(this.highlightNodeGroup,()=>this.nodeFactory())}get nodes(){return this.properties.nodes??this._chartNodes}setChartNodes(e){this._chartNodes=e,this.nodes===e&&(this.nodeDataRefresh=!0)}async processData(e){const{data:t,nodes:i}=this;if(t==null)return;const{fromKey:a,toKey:s,sizeKey:o,idKey:r,labelKey:n}=this.properties,l=new DataController("standalone",e.suppressFieldDotNotation),c=i!=null?l.request(this.id,i,{props:[keyProperty6(r,void 0,{id:"idValue",includeProperty:!1}),...n!=null?[valueProperty7(n,void 0,{id:"labelValue",includeProperty:!1})]:[]],groupByKeys:!0}):null,h=e.request(this.id,t,{props:[valueProperty7(a,void 0,{id:"fromValue",includeProperty:!1}),valueProperty7(s,void 0,{id:"toValue",includeProperty:!1}),...o!=null?[valueProperty7(o,void 0,{id:"sizeValue",includeProperty:!1,missingValue:0})]:[]],groupByKeys:!1});i!=null&&l.execute();const[p,u]=await Promise.all([c,h]);this.nodesDataModel=p?.dataModel,this.nodesProcessedData=p?.processedData,this.linksDataModel=u?.dataModel,this.linksProcessedData=u?.processedData;const d=new Map;if(p==null){const f=u.dataModel.resolveColumnById(this,"fromValue",u.processedData),g=u.dataModel.resolveColumnById(this,"toValue",u.processedData),y=m=>{const x=d.size;return{series:this,itemId:void 0,datum:{},datumIndex:{type:1,index:x},type:1,index:x,linksBefore:[],linksAfter:[],id:m,size:0,label:m}};u.processedData.dataSources.get(this.id)?.forEach((m,x)=>{const S=f[x],D=g[x];S==null||D==null||(d.has(S)||d.set(S,y(S)),d.has(D)||d.set(D,y(D)))})}else{const f=p.dataModel.resolveColumnById(this,"idValue",p.processedData),g=n!=null?p.dataModel.resolveColumnById(this,"labelValue",p.processedData):void 0;p.processedData.dataSources.get(this.id)?.forEach((y,m)=>{const x=f[m],S=g?.[m];d.set(x,{series:this,itemId:void 0,datum:y,datumIndex:{type:1,index:m},type:1,index:m,linksBefore:[],linksAfter:[],id:x,size:0,label:S})})}this.processedNodes=d}getNodeGraph(e,t,{includeCircularReferences:i}){const{linksDataModel:a,linksProcessedData:s}=this;if(a==null||s==null){const{links:f,nodeGraph:g,maxPathLength:y}=computeNodeGraph(new Map().values(),[],i);return this.nodeCount=0,this.linkCount=0,{nodeGraph:g,links:f,maxPathLength:y}}const{sizeKey:o}=this.properties,r=a.resolveColumnById(this,"fromValue",s),n=a.resolveColumnById(this,"toValue",s),l=o!=null?a.resolveColumnById(this,"sizeValue",s):void 0,c=new Map;this.processedNodes.forEach(f=>{const g=e(f);c.set(f.id,g)});const h=[];s.dataSources.get(this.id)?.forEach((f,g)=>{const y=r[g],m=n[g],x=l!=null?l[g]:1,S=c.get(y),D=c.get(m);if(x<=0||S==null||D==null)return;const M=t({series:this,itemId:void 0,datum:f,datumIndex:{type:0,index:g},type:0,index:g,fromNode:S,toNode:D,size:x});h.push(M)});const{links:p,nodeGraph:u,maxPathLength:d}=computeNodeGraph(c.values(),h,i);return u.forEach(f=>{f.datum.linksBefore=f.linksBefore.map(g=>g.link),f.datum.linksAfter=f.linksAfter.map(g=>g.link)}),this.nodeCount=u.size,this.linkCount=p.length,{nodeGraph:u,links:p,maxPathLength:d}}updateSelections(){this.nodeDataRefresh&&(this.contextNodeData=this.createNodeData(),this.nodeDataRefresh=!1)}update(e){const{seriesRect:t}=e,i={seriesRectWidth:t?.width??0,seriesRectHeight:t?.height??0};(this._nodeDataDependencies==null||this._nodeDataDependencies.seriesRectWidth!==i.seriesRectWidth||this._nodeDataDependencies.seriesRectHeight!==i.seriesRectHeight)&&(this._nodeDataDependencies=i),this.updateSelections();const a=this.contextNodeData?.nodeData??[],s=this.contextNodeData?.labelData??[];let o=this.ctx.highlightManager?.getActiveHighlight();if(o?.series===this&&o.type==null){const{itemId:h}=o;o=h!=null?a.find(p=>p.type===1&&p.id===h):void 0}else o?.series!==this&&(o=void 0);this.contentGroup.visible=this.visible,this.contentGroup.opacity=o!=null?this.properties.highlightStyle.series.dimOpacity??1:1,this.labelSelection=this.updateLabelSelection({labelData:s,labelSelection:this.labelSelection}),this.updateLabelNodes({labelSelection:this.labelSelection}),this.linkSelection=this.updateLinkSelection({nodeData:a.filter(h=>h.type===0),datumSelection:this.linkSelection}),this.updateLinkNodes({datumSelection:this.linkSelection,isHighlight:!1}),this.nodeSelection=this.updateNodeSelection({nodeData:a.filter(h=>h.type===1),datumSelection:this.nodeSelection}),this.updateNodeNodes({datumSelection:this.nodeSelection,isHighlight:!1});let r,n,l,c;o?.type===1?(r=a.filter(h=>h.type===0&&(h.toNode===o||h.fromNode===o)),n=r.map(h=>h.fromNode===o?h.toNode:h.fromNode),n.push(o),l=[],c=[o]):o?.type===0?(r=[o],n=[o.fromNode,o.toNode],l=[o],c=[]):(r=[],n=[],l=[],c=[]),this.focusLinkSelection=this.updateLinkSelection({nodeData:r,datumSelection:this.focusLinkSelection}),this.updateLinkNodes({datumSelection:this.focusLinkSelection,isHighlight:!1}),this.focusNodeSelection=this.updateNodeSelection({nodeData:n,datumSelection:this.focusNodeSelection}),this.updateNodeNodes({datumSelection:this.focusNodeSelection,isHighlight:!1}),this.highlightLinkSelection=this.updateLinkSelection({nodeData:l,datumSelection:this.highlightLinkSelection}),this.updateLinkNodes({datumSelection:this.highlightLinkSelection,isHighlight:!0}),this.highlightNodeSelection=this.updateNodeSelection({nodeData:c,datumSelection:this.highlightNodeSelection}),this.updateNodeNodes({datumSelection:this.highlightNodeSelection,isHighlight:!0})}resetAnimation(e){}getSeriesDomain(e){return[]}getSeriesRange(e,t){return[NaN,NaN]}legendItemSymbol(e,t,i={}){const{fills:a,strokes:s}=this.properties,{fill:o=a[t%a.length],fillOpacity:r=1,stroke:n=s[t%s.length],strokeWidth:l=0,strokeOpacity:c=1,lineDash:h=[0],lineDashOffset:p=0}=i;return{marker:{fill:o,fillOpacity:r,stroke:n,strokeWidth:l,strokeOpacity:c,lineDash:h,lineDashOffset:p}}}getLegendData(e){if(e!=="category")return[];const{showInLegend:t}=this.properties;return Array.from(this.processedNodes.values(),({id:i,label:a},s)=>({legendType:"category",id:this.id,itemId:i,seriesId:this.id,enabled:!0,label:{text:a??i},symbol:this.legendItemSymbol(1,s),hideInLegend:!t,isFixed:!0}))}pickNodeClosestDatum({x:e,y:t}){let i=1/0,a;return this.linkSelection.each((s,o)=>{const r=s.containsPoint(e,t)?0:1/0;r<i&&(i=r,a=o)}),this.nodeSelection.each((s,o)=>{const r=s.distanceSquared(e,t);r<i&&(i=r,a=o)}),a!=null?{datum:a,distance:Math.sqrt(i)}:void 0}getDatumAriaText(e,t){if(e.type===0)return this.ctx.localeManager.t("ariaAnnounceFlowProportionLink",{index:e.index+1,count:this.linkCount,from:e.fromNode.id,to:e.toNode.id,size:e.size,sizeName:this.properties.sizeName??this.properties.sizeKey});if(e.type===1)return this.ctx.localeManager.t("ariaAnnounceFlowProportionNode",{index:e.index+1,count:this.nodeCount,description:t})}pickFocus(e){const{datumIndexDelta:t,otherIndexDelta:i}=e,a=this.contextNodeData?.nodeData[e.datumIndex-e.datumIndexDelta];let s=a;if(i!==0||t===0)return;if(a?.type===0){const n=Array.from(this.linkSelection,h=>h.datum),c=n.indexOf(a)+t;if(c>=0&&c<n.length)s=n[c];else if(c>0)s=n[n.length-1];else{const h=Array.from(this.nodeSelection,p=>p.datum);s=h[h.length-1]}}else if(a?.type===1){const n=Array.from(this.nodeSelection,h=>h.datum),c=n.indexOf(a)+t;c>=0&&c<n.length?s=n[c]:c<0?s=n[0]:s=Array.from(this.linkSelection,p=>p.datum)[0]}if(s==null)return;const o=s.type===1?Array.from(this.nodeSelection).find(n=>n.datum===s):Array.from(this.linkSelection).find(n=>n.datum===s);if(o==null)return;const r=this.computeFocusBounds(o.node);if(r!=null)return{datum:o.datum,datumIndex:this.contextNodeData?.nodeData.indexOf(o.datum)??0,otherIndex:0,bounds:r,clipFocusBox:!0}}getCategoryValue(e){}datumIndexForCategoryValue(e){}},import_ag_charts_community70=require("ag-charts-community"),{Path:Path6,SceneChangeDetection:SceneChangeDetection3}=import_ag_charts_community70._ModuleSupport;function bezierControlPoints({radius:e,startAngle:t,endAngle:i,tension:a}){const s=e*Math.cos(t),o=e*Math.sin(t),r=e*Math.cos(i),n=e*Math.sin(i),l=s*a,c=o*a,h=r*a,p=n*a;return{x:[s,l,h,r],y:[o,c,p,n]}}var ChordLink=class extends Path6{constructor(){super(...arguments),this.centerX=0,this.centerY=0,this.radius=0,this.startAngle1=0,this.endAngle1=0,this.startAngle2=0,this.endAngle2=0,this.tension=1}tensionedCurveTo(e,t,i,a,s,o,r,n){const{path:l,tension:c}=this,h=1-c;l.cubicCurveTo((i-e)*h+e,(a-t)*h+t,(s-r)*h+r,(o-n)*h+n,r,n)}updatePath(){const{path:e,centerX:t,centerY:i,radius:a}=this;let{startAngle1:s,endAngle1:o,startAngle2:r,endAngle2:n}=this;s>r&&([s,r]=[r,s],[o,n]=[n,o]),e.clear();const l=t+a*Math.cos(s),c=i+a*Math.sin(s);e.moveTo(l,c),this.tensionedCurveTo(l,c,t,i,t,i,t+a*Math.cos(n),i+a*Math.sin(n)),e.arc(t,i,a,n,r,!0),this.tensionedCurveTo(t+a*Math.cos(r),i+a*Math.sin(r),t,i,t,i,t+a*Math.cos(o),i+a*Math.sin(o)),e.arc(t,i,a,o,s,!0),e.closePath()}};__decorateClass([SceneChangeDetection3()],ChordLink.prototype,"centerX",2),__decorateClass([SceneChangeDetection3()],ChordLink.prototype,"centerY",2),__decorateClass([SceneChangeDetection3()],ChordLink.prototype,"radius",2),__decorateClass([SceneChangeDetection3()],ChordLink.prototype,"startAngle1",2),__decorateClass([SceneChangeDetection3()],ChordLink.prototype,"endAngle1",2),__decorateClass([SceneChangeDetection3()],ChordLink.prototype,"startAngle2",2),__decorateClass([SceneChangeDetection3()],ChordLink.prototype,"endAngle2",2),__decorateClass([SceneChangeDetection3()],ChordLink.prototype,"tension",2);var import_ag_charts_community71=require("ag-charts-community"),{FillGradientDefaults:FillGradientDefaults6,FillPatternDefaults:FillPatternDefaults6,FillImageDefaults:FillImageDefaults6,BaseProperties:BaseProperties6,SeriesTooltip:SeriesTooltip8,SeriesProperties,Property:Property21,Label:Label4}=import_ag_charts_community71._ModuleSupport,ChordSeriesLabelProperties=class extends Label4{constructor(){super(...arguments),this.spacing=1,this.maxWidth=1}};__decorateClass([Property21],ChordSeriesLabelProperties.prototype,"spacing",2),__decorateClass([Property21],ChordSeriesLabelProperties.prototype,"maxWidth",2);var ChordSeriesLinkProperties=class extends BaseProperties6{constructor(){super(...arguments),this.fill=void 0,this.fillOpacity=1,this.stroke=void 0,this.strokeOpacity=1,this.strokeWidth=1,this.lineDash=[0],this.lineDashOffset=0,this.tension=0}};__decorateClass([Property21],ChordSeriesLinkProperties.prototype,"fill",2),__decorateClass([Property21],ChordSeriesLinkProperties.prototype,"fillOpacity",2),__decorateClass([Property21],ChordSeriesLinkProperties.prototype,"stroke",2),__decorateClass([Property21],ChordSeriesLinkProperties.prototype,"strokeOpacity",2),__decorateClass([Property21],ChordSeriesLinkProperties.prototype,"strokeWidth",2),__decorateClass([Property21],ChordSeriesLinkProperties.prototype,"lineDash",2),__decorateClass([Property21],ChordSeriesLinkProperties.prototype,"lineDashOffset",2),__decorateClass([Property21],ChordSeriesLinkProperties.prototype,"tension",2),__decorateClass([Property21],ChordSeriesLinkProperties.prototype,"itemStyler",2);var ChordSeriesNodeProperties=class extends BaseProperties6{constructor(){super(...arguments),this.spacing=1,this.width=1,this.fill=void 0,this.fillOpacity=1,this.stroke=void 0,this.strokeOpacity=1,this.strokeWidth=1,this.lineDash=[0],this.lineDashOffset=0}};__decorateClass([Property21],ChordSeriesNodeProperties.prototype,"spacing",2),__decorateClass([Property21],ChordSeriesNodeProperties.prototype,"width",2),__decorateClass([Property21],ChordSeriesNodeProperties.prototype,"fill",2),__decorateClass([Property21],ChordSeriesNodeProperties.prototype,"fillOpacity",2),__decorateClass([Property21],ChordSeriesNodeProperties.prototype,"stroke",2),__decorateClass([Property21],ChordSeriesNodeProperties.prototype,"strokeOpacity",2),__decorateClass([Property21],ChordSeriesNodeProperties.prototype,"strokeWidth",2),__decorateClass([Property21],ChordSeriesNodeProperties.prototype,"lineDash",2),__decorateClass([Property21],ChordSeriesNodeProperties.prototype,"lineDashOffset",2),__decorateClass([Property21],ChordSeriesNodeProperties.prototype,"itemStyler",2);var ChordSeriesProperties=class extends SeriesProperties{constructor(){super(...arguments),this.idKey="",this.idName=void 0,this.labelKey=void 0,this.labelName=void 0,this.sizeKey=void 0,this.sizeName=void 0,this.nodes=void 0,this.fillGradientDefaults=new FillGradientDefaults6,this.fillPatternDefaults=new FillPatternDefaults6,this.fillImageDefaults=new FillImageDefaults6,this.fills=[],this.strokes=[],this.label=new ChordSeriesLabelProperties,this.link=new ChordSeriesLinkProperties,this.node=new ChordSeriesNodeProperties,this.tooltip=new SeriesTooltip8}};__decorateClass([Property21],ChordSeriesProperties.prototype,"fromKey",2),__decorateClass([Property21],ChordSeriesProperties.prototype,"toKey",2),__decorateClass([Property21],ChordSeriesProperties.prototype,"idKey",2),__decorateClass([Property21],ChordSeriesProperties.prototype,"idName",2),__decorateClass([Property21],ChordSeriesProperties.prototype,"labelKey",2),__decorateClass([Property21],ChordSeriesProperties.prototype,"labelName",2),__decorateClass([Property21],ChordSeriesProperties.prototype,"sizeKey",2),__decorateClass([Property21],ChordSeriesProperties.prototype,"sizeName",2),__decorateClass([Property21],ChordSeriesProperties.prototype,"nodes",2),__decorateClass([Property21],ChordSeriesProperties.prototype,"fillGradientDefaults",2),__decorateClass([Property21],ChordSeriesProperties.prototype,"fillPatternDefaults",2),__decorateClass([Property21],ChordSeriesProperties.prototype,"fillImageDefaults",2),__decorateClass([Property21],ChordSeriesProperties.prototype,"fills",2),__decorateClass([Property21],ChordSeriesProperties.prototype,"strokes",2),__decorateClass([Property21],ChordSeriesProperties.prototype,"label",2),__decorateClass([Property21],ChordSeriesProperties.prototype,"link",2),__decorateClass([Property21],ChordSeriesProperties.prototype,"node",2),__decorateClass([Property21],ChordSeriesProperties.prototype,"tooltip",2);var{SeriesNodePickMode:SeriesNodePickMode6,CachedTextMeasurerPool:CachedTextMeasurerPool2,TextWrapper:TextWrapper3,TextUtils:TextUtils3,createDatumId:createDatumId9,angleBetween:angleBetween2,normalizeAngle360:normalizeAngle3604,isBetweenAngles,Sector:Sector3,evaluateBezier,applyShapeStyle:applyShapeStyle6,getShapeStyle:getShapeStyle7,BBox:BBox6}=import_ag_charts_community72._ModuleSupport,nodeMidAngle=e=>e.startAngle+angleBetween2(e.startAngle,e.endAngle)/2,ChordSeries=class extends FlowProportionSeries{constructor(e){super({moduleCtx:e,pickModes:[SeriesNodePickMode6.NEAREST_NODE,SeriesNodePickMode6.EXACT_SHAPE_MATCH]}),this.properties=new ChordSeriesProperties}isLabelEnabled(){return(this.properties.labelKey!=null||this.nodes==null)&&this.properties.label.enabled}linkFactory(){return new ChordLink}nodeFactory(){return new Sector3}createNodeData(){const{id:e,_nodeDataDependencies:{seriesRectWidth:t,seriesRectHeight:i}={seriesRectWidth:0,seriesRectHeight:0}}=this,{fromKey:a,toKey:s,sizeKey:o,label:{spacing:r,maxWidth:n,fontSize:l},node:{width:c,spacing:h}}=this.properties,p=t/2,u=i/2;let d=[];const{nodeGraph:f,links:g}=this.getNodeGraph(A=>({...A,centerX:p,centerY:u,innerRadius:NaN,outerRadius:NaN,startAngle:NaN,endAngle:NaN}),A=>({...A,centerX:p,centerY:u,radius:NaN,startAngle1:NaN,endAngle1:NaN,startAngle2:NaN,endAngle2:NaN}),{includeCircularReferences:!0});let y=0;f.forEach(({datum:A,linksBefore:L,linksAfter:C},R)=>{const O=L.reduce((B,{link:T})=>B+T.size,0)+C.reduce((B,{link:T})=>B+T.size,0);if(O===0)f.delete(R);else{A.size=O,y+=A.size;const B=this.getLabelText(this.properties.label,{datum:A.datum,value:A.label,fromKey:a,toKey:s,sizeKey:o,size:A.size});A.label=String(B)}});let m=0;if(this.isLabelEnabled()){const A=this.properties.label.getFont();let L=0;f.forEach(({datum:C})=>{const{id:R,label:O}=C;if(O==null)return;const B=TextWrapper3.wrapText(O,{maxWidth:n,font:this.properties.label,textWrap:"never"}),{width:T}=CachedTextMeasurerPool2.measureText(B,{font:A,textAlign:"left",textBaseline:"middle"});L=Math.max(T,L),d.push({id:R,text:B,centerX:p,centerY:u,angle:NaN,radius:NaN})}),m=L+r}const x=f.size;let S=Math.min(t,i)/2-c-m,D=h/S;if(m!==0&&(x*D>=1.5*Math.PI||S<=0)&&(d=[],S=Math.min(t,i)/2-c,D=h/S),x*D>=2*Math.PI||S<=0){import_ag_charts_core25.Logger.warnOnce("There was insufficient space to display the Chord Series.");return}const M=S,N=S+c,v=Math.max((2*Math.PI-x*D)/y,0);let b=0;f.forEach(({datum:A})=>{A.innerRadius=M,A.outerRadius=N,A.startAngle=b,A.endAngle=b+A.size*v,b=A.endAngle+D;const L=(A.innerRadius+A.outerRadius)/2,C=nodeMidAngle(A);A.midPoint={x:A.centerX+L*Math.cos(C),y:A.centerY+L*Math.sin(C)}});const I=[];f.forEach(({datum:A,linksBefore:L,linksAfter:C})=>{const R=nodeMidAngle(A),O=[...L.map(T=>({link:T.link,distance:angleBetween2(nodeMidAngle(T.node.datum),R),after:!1})),...C.map(T=>({link:T.link,distance:angleBetween2(nodeMidAngle(T.node.datum),R),after:!0}))];let B=A.startAngle;O.toSorted((T,F)=>T.distance-F.distance).forEach(({link:T,after:F})=>{const w=T.size*v;F?(T.startAngle1=B,T.endAngle1=B+w):(T.startAngle2=B,T.endAngle2=B+w),B+=T.size*v}),I.push(A)});const{tension:k}=this.properties.link;g.forEach(A=>{A.radius=S;const L=bezierControlPoints({radius:S,startAngle:A.startAngle1,endAngle:A.endAngle2,tension:k}),C=bezierControlPoints({radius:S,startAngle:A.startAngle2,endAngle:A.endAngle1,tension:k}),R=evaluateBezier(...L.x,.5),O=evaluateBezier(...L.y,.5),B=evaluateBezier(...C.x,.5),T=evaluateBezier(...C.y,.5);A.midPoint={x:A.centerX+(R+B)/2,y:A.centerY+(O+T)/2},I.push(A)}),d.forEach(A=>{const L=f.get(A.id)?.datum;L!=null&&(A.radius=N+r,A.angle=normalizeAngle3604(L.startAngle+angleBetween2(L.startAngle,L.endAngle)/2))}),d.sort((A,L)=>A.angle-L.angle);let P=1/0,_=-1/0;return d=d.filter(A=>{const L=TextUtils3.getLineHeight(l),C=Math.atan2(L/2,A.radius),R=A.angle-C,O=A.angle+C;return isBetweenAngles(P,R,O)||isBetweenAngles(_,R,O)?!1:(P=Math.min(R,P),_=Math.max(O,_),!0)}),{itemId:e,nodeData:I,labelData:d}}updateLabelSelection(e){const t=this.isLabelEnabled()?e.labelData:[];return e.labelSelection.update(t)}updateLabelNodes(e){const{labelSelection:t}=e,{color:i,fontStyle:a,fontWeight:s,fontSize:o,fontFamily:r}=this.properties.label;t.each((n,{text:l,centerX:c,centerY:h,radius:p,angle:u})=>{n.visible=!0,n.translationX=c+p*Math.cos(u),n.translationY=h+p*Math.sin(u),n.text=l,n.fill=i,n.fontStyle=a,n.fontWeight=s,n.fontSize=o,n.fontFamily=r,n.textBaseline="middle",Math.cos(u)>=0?(n.textAlign="left",n.rotation=u):(n.textAlign="right",n.rotation=u-Math.PI)})}updateNodeSelection(e){return e.datumSelection.update(e.nodeData,void 0,t=>createDatumId9([t.type,t.id]))}getBaseNodeStyle(e){const{properties:t}=this,{fill:i,fillOpacity:a,stroke:s,strokeOpacity:o,lineDash:r,lineDashOffset:n}=t.node,l=e?t.highlightStyle.item:void 0;return getShapeStyle7({fill:l?.fill??i,fillOpacity:l?.fillOpacity??a,stroke:l?.stroke??s,strokeOpacity:l?.strokeOpacity??o,strokeWidth:l?.strokeWidth??this.getStrokeWidth(t.node.strokeWidth),lineDash:l?.lineDash??r,lineDashOffset:l?.lineDashOffset??n},this.properties.fillGradientDefaults,this.properties.fillPatternDefaults,this.properties.fillImageDefaults)}getNodeStyleOverrides(e,t,i,a,s,o,r){const{id:n,properties:l}=this,{fills:c,strokes:h}=l,{itemStyler:p}=l.node,u=o.fill??c[i%c.length],d=o.stroke??h[i%h.length];let f;if(r||(f??(f={}),f.fill=u,f.stroke=d),p!=null){const g=this.cachedDatumCallback(createDatumId9(e,"node",r?"highlight":"node"),()=>{const{fillOpacity:y=1,strokeOpacity:m=1,strokeWidth:x=0,lineDash:S=[],lineDashOffset:D=0}=o;return this.callWithContext(p,{seriesId:n,datum:t,highlighted:r,label:s,size:a,fill:u,fillOpacity:y,stroke:d,strokeOpacity:m,strokeWidth:x,lineDash:S,lineDashOffset:D})});f??(f={}),Object.assign(f,g)}return getShapeStyle7(f,this.properties.fillGradientDefaults,this.properties.fillPatternDefaults,this.properties.fillImageDefaults)}updateNodeNodes(e){const{datumSelection:t,isHighlight:i}=e,a=this.getBaseNodeStyle(i),s=this.getShapeFillBBox();t.each((o,r)=>{const{datumIndex:n,size:l,label:c}=r,h=this.getNodeStyleOverrides(String(n.index),r.datum,n.index,l,c,a,i);applyShapeStyle6(o,a,h,s),o.centerX=r.centerX,o.centerY=r.centerY,o.innerRadius=r.innerRadius,o.outerRadius=r.outerRadius,o.startAngle=r.startAngle,o.endAngle=r.endAngle,o.inset=o.strokeWidth/2})}updateLinkSelection(e){return e.datumSelection.update(e.nodeData,void 0,t=>createDatumId9([t.type,t.index,t.fromNode.id,t.toNode.id]))}getBaseLinkStyle(e){const{properties:t}=this,{fill:i,fillOpacity:a,stroke:s,strokeOpacity:o,lineDash:r,lineDashOffset:n,tension:l}=t.link,c=e?t.highlightStyle.item:void 0;return getShapeStyle7({fill:c?.fill??i,fillOpacity:c?.fillOpacity??a,stroke:c?.stroke??s,strokeOpacity:c?.strokeOpacity??o,strokeWidth:c?.strokeWidth??this.getStrokeWidth(t.link.strokeWidth),lineDash:c?.lineDash??r,lineDashOffset:c?.lineDashOffset??n,tension:l},this.properties.fillGradientDefaults,this.properties.fillPatternDefaults,this.properties.fillImageDefaults)}getLinkStyleOverrides(e,t,i,a,s){const{id:o,properties:r}=this,{fills:n,strokes:l}=r,{itemStyler:c}=r.link,h=a.fill??n[i%n.length],p=a.stroke??l[i%l.length];let u;if(s||(u??(u={}),u.fill=h,u.stroke=p),c!=null){const d=this.cachedDatumCallback(createDatumId9(e,"link",s?"highlight":"node"),()=>{const{fillOpacity:f=1,strokeOpacity:g=1,strokeWidth:y=0,lineDash:m=[],lineDashOffset:x=0,tension:S}=a;return this.callWithContext(c,{seriesId:o,datum:t,highlighted:s,tension:S,fill:h,fillOpacity:f,stroke:p,strokeOpacity:g,strokeWidth:y,lineDash:m,lineDashOffset:x})});u??(u={}),Object.assign(u,d)}return getShapeStyle7(u,this.properties.fillGradientDefaults,this.properties.fillPatternDefaults,this.properties.fillImageDefaults)}updateLinkNodes(e){const{datumSelection:t,isHighlight:i}=e,a=this.getBaseLinkStyle(i),s=this.getShapeFillBBox();t.each((o,r)=>{const{datumIndex:n}=r,l=r.fromNode.datumIndex,c=this.getLinkStyleOverrides(String(n.index),r.datum,l.index,a,i);o.centerX=r.centerX,o.centerY=r.centerY,o.radius=r.radius,o.startAngle1=r.startAngle1,o.endAngle1=r.endAngle1,o.startAngle2=r.startAngle2,o.endAngle2=r.endAngle2,applyShapeStyle6(o,a,c,s),o.tension=c?.tension??a.tension})}getShapeFillBBox(){const e=this._nodeDataDependencies?.seriesRectWidth??0,t=this._nodeDataDependencies?.seriesRectHeight??0,i=Math.min(e,t),a=(e-i)/2,s=(t-i)/2,o=new BBox6(a,s,e,t);return{series:o,axis:o}}getTooltipContent(e){const{id:t,linksProcessedData:i,nodesProcessedData:a,properties:s}=this,{fromKey:o,toKey:r,sizeKey:n,sizeName:l,tooltip:c}=s,h=this.contextNodeData?.nodeData.find(y=>y.datumIndex.type===e.type&&y.datumIndex.index===e.index);if(h==null)return;const p=h.type===0?h.fromNode.index:h.index,u=h.type===0?`${h.fromNode.label} - ${h.toNode.label}`:h.label,d=e.type===0?i?.dataSources.get(this.id)?.[e.index]:a?.dataSources.get(this.id)?.[e.index],f=h.size;let g;if(h.type===0){const y=h.fromNode.datumIndex,m=this.getBaseLinkStyle(!1);Object.assign(m,this.getLinkStyleOverrides(String(e.index),d,y.index,m,!1)),g=m}else{const y=h.label,m=this.getBaseNodeStyle(!1);Object.assign(m,this.getNodeStyleOverrides(String(e.index),d,e.index,f,y,m,!1)),g=m}return this.formatTooltipWithContext(c,{title:u,symbol:this.legendItemSymbol(h.type,p,g),data:n!=null?[{label:l,fallbackLabel:n,value:String(f)}]:[]},{seriesId:t,datum:d,title:u,fromKey:o,toKey:r,sizeKey:n,sizeName:l,size:f,...g})}computeFocusBounds(e){return e}};ChordSeries.className="ChordSeries",ChordSeries.type="chord";var import_ag_charts_community73=require("ag-charts-community"),import_ag_charts_core26=require("ag-charts-core"),{commonSeriesOptionsDefs:commonSeriesOptionsDefs8,chordSeriesThemeableOptionsDef}=import_ag_charts_community73._ModuleSupport,chordSeriesOptionsDef={...chordSeriesThemeableOptionsDef,...commonSeriesOptionsDefs8,type:(0,import_ag_charts_core26.required)((0,import_ag_charts_core26.constant)("chord")),fromKey:(0,import_ag_charts_core26.required)(import_ag_charts_core26.string),toKey:(0,import_ag_charts_core26.required)(import_ag_charts_core26.string),sizeKey:import_ag_charts_core26.string,sizeName:import_ag_charts_core26.string};chordSeriesOptionsDef.fillGradientDefaults=(0,import_ag_charts_core26.undocumented)(import_ag_charts_core26.fillGradientDefaults),chordSeriesOptionsDef.fillPatternDefaults=(0,import_ag_charts_core26.undocumented)(import_ag_charts_core26.fillPatternDefaults),chordSeriesOptionsDef.fillImageDefaults=(0,import_ag_charts_core26.undocumented)(import_ag_charts_core26.fillImageDefaults);var ChordModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["flow-proportion"],solo:!0,identifier:"chord",tooltipDefaults:{range:"exact"},moduleFactory:e=>new ChordSeries(e),themeTemplate:{series:{fills:{$palette:"fills"},strokes:{$palette:"strokes"},fillGradientDefaults:{type:"gradient",gradient:"linear",bounds:"item",colorStops:{$palette:"gradient"},rotation:0,reverse:!1},fillPatternDefaults:import_ag_charts_community74._ModuleSupport.FILL_PATTERN_DEFAULTS,fillImageDefaults:import_ag_charts_community74._ModuleSupport.FILL_IMAGE_DEFAULTS,highlightStyle:{series:{dimOpacity:.2}},label:{fontFamily:{$ref:"fontFamily"},fontSize:{$ref:"fontSize"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"},spacing:5,maxWidth:100},node:{spacing:8,width:10,strokeWidth:0},link:{fillOpacity:.5,strokeWidth:0,tension:.4}},legend:{enabled:!1,toggleSeries:!1}}},ChordSeriesModule={type:"series",name:"chord",chartType:"flow-proportion",enterprise:!0,options:chordSeriesOptionsDef,create:e=>new ChordSeries(e)},import_ag_charts_community83=require("ag-charts-community"),import_ag_charts_community75=require("ag-charts-community"),{ThemeConstants:{CARTESIAN_AXIS_TYPE:CARTESIAN_AXIS_TYPE7,CARTESIAN_POSITION:CARTESIAN_POSITION5},ThemeSymbols:{DEFAULT_SHADOW_COLOUR}}=import_ag_charts_community75._ModuleSupport,FUNNEL_SERIES_AXES={$if:[{$eq:[{$path:["/direction",void 0]},"horizontal"]},[{type:CARTESIAN_AXIS_TYPE7.NUMBER,position:CARTESIAN_POSITION5.LEFT},{type:CARTESIAN_AXIS_TYPE7.CATEGORY,position:{$if:[{$eq:[{$path:["/stageLabel/placement",void 0]},"before"]},CARTESIAN_POSITION5.TOP,CARTESIAN_POSITION5.BOTTOM]},label:{$omit:[["placement"],{$path:["/stageLabel",void 0]}]}}],[{type:CARTESIAN_AXIS_TYPE7.CATEGORY,position:{$if:[{$eq:[{$path:["/stageLabel/placement",void 0]},"after"]},CARTESIAN_POSITION5.RIGHT,CARTESIAN_POSITION5.LEFT]},label:{$omit:[["placement"],{$path:["/stageLabel",void 0]}]}},{type:CARTESIAN_AXIS_TYPE7.NUMBER,position:CARTESIAN_POSITION5.BOTTOM}]]},FUNNEL_SERIES_THEME={series:{direction:"vertical",strokeWidth:0,spacingRatio:.25,fills:[{$palette:"fill"}],strokes:[{$palette:"stroke"}],fillGradientDefaults:{type:"gradient",gradient:"linear",bounds:"item",colorStops:{$palette:"gradient"},rotation:0,reverse:!1},fillPatternDefaults:import_ag_charts_community75._ModuleSupport.FILL_PATTERN_DEFAULTS,fillImageDefaults:import_ag_charts_community75._ModuleSupport.FILL_IMAGE_DEFAULTS,label:{enabled:!0,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"backgroundColor"}},dropOff:{enabled:!0,fillOpacity:.2,strokeWidth:0},shadow:{enabled:!1,color:DEFAULT_SHADOW_COLOUR,xOffset:3,yOffset:3,blur:5}},axes:{[CARTESIAN_AXIS_TYPE7.NUMBER]:{nice:!1,gridLine:{enabled:!1},crosshair:{enabled:!1},label:{enabled:!1,formatter(e){return Math.abs(e.value).toFixed(e.fractionDigits??0)}}},[CARTESIAN_AXIS_TYPE7.CATEGORY]:{line:{enabled:!1}}}},import_ag_charts_community80=require("ag-charts-community"),import_ag_charts_community78=require("ag-charts-community"),import_ag_charts_community76=require("ag-charts-community"),{lineDistanceSquared,BBox:BBox7,Path:Path7,SceneChangeDetection:SceneChangeDetection4}=import_ag_charts_community76._ModuleSupport,delta=1e-6;function pointsEq([e,t],[i,a]){return Math.abs(e-i)<=delta&&Math.abs(t-a)<=delta}var FunnelConnector=class extends Path7{constructor(){super(...arguments),this.x0=0,this.y0=0,this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.x3=0,this.y3=0}get midPoint(){const{x0:e,y0:t,x1:i,y1:a,x2:s,y2:o,x3:r,y3:n}=this;return{x:(e+i+s+r)/4,y:(t+a+o+n)/4}}distanceSquared(e,t){if(this.containsPoint(e,t))return 0;const{x0:i,y0:a,x1:s,y1:o,x2:r,y2:n,x3:l,y3:c}=this;return Math.min(lineDistanceSquared(e,t,i,a,s,o,1/0),lineDistanceSquared(e,t,s,o,r,n,1/0),lineDistanceSquared(e,t,r,n,l,c,1/0),lineDistanceSquared(e,t,l,c,i,a,1/0))}computeBBox(){const{x0:e,y0:t,x1:i,y1:a,x2:s,y2:o,x3:r,y3:n}=this,l=Math.min(e,i,s,r),c=Math.max(e,i,s,r)-l,h=Math.min(t,a,o,n),p=Math.max(t,a,o,n)-h;return new BBox7(l,h,c,p)}updatePath(){const{path:e,x0:t,y0:i,x1:a,y1:s,x2:o,y2:r,x3:n,y3:l}=this,c=[[t,i],[a,s],[o,r],[n,l]];e.clear();let h,p;c.forEach(u=>{if(h!=null&&pointsEq(h,u)||p!=null&&pointsEq(p,u))return;const[d,f]=u;h==null?e.moveTo(d,f):e.lineTo(d,f),h??(h=u),p=u}),e.closePath()}};__decorateClass([SceneChangeDetection4()],FunnelConnector.prototype,"x0",2),__decorateClass([SceneChangeDetection4()],FunnelConnector.prototype,"y0",2),__decorateClass([SceneChangeDetection4()],FunnelConnector.prototype,"x1",2),__decorateClass([SceneChangeDetection4()],FunnelConnector.prototype,"y1",2),__decorateClass([SceneChangeDetection4()],FunnelConnector.prototype,"x2",2),__decorateClass([SceneChangeDetection4()],FunnelConnector.prototype,"y2",2),__decorateClass([SceneChangeDetection4()],FunnelConnector.prototype,"x3",2),__decorateClass([SceneChangeDetection4()],FunnelConnector.prototype,"y3",2);var import_ag_charts_community77=require("ag-charts-community"),{NODE_UPDATE_STATE_TO_PHASE_MAPPING}=import_ag_charts_community77._ModuleSupport;function connectorStartingPosition(e,t,i,a){const{x0:s,y0:o,x1:r,y1:n,x2:l,y2:c,x3:h,y3:p,opacity:u}=e;return i?{x0:(s+h)/2,y0:(o+p)/2,x1:(r+l)/2,y1:(n+c)/2,x2:(r+l)/2,y2:(n+c)/2,x3:(s+h)/2,y3:(o+p)/2,opacity:u}:{x0:(s+r)/2,y0:(o+n)/2,x1:(s+r)/2,y1:(o+n)/2,x2:(l+h)/2,y2:(c+p)/2,x3:(l+h)/2,y3:(c+p)/2,opacity:u}}function prepareConnectorAnimationFunctions(e,t){const i=o=>o==null;return{fromFn:(o,r,n)=>{n==="updated"&&i(r)?n="removed":n==="updated"&&i(o.previousDatum)&&(n="added");let l;n==="added"&&o.previousDatum==null&&t==="fade"?l={...resetConnectorSelectionsFn(o,r),opacity:0}:n==="unknown"||n==="added"?l=connectorStartingPosition(r,o.previousDatum,e,t):l={x0:o.x0,y0:o.y0,x1:o.x1,y1:o.y1,x2:o.x2,y2:o.y2,x3:o.x3,y3:o.y3,opacity:o.opacity};const c=NODE_UPDATE_STATE_TO_PHASE_MAPPING[n];return{...l,phase:c}},toFn:(o,r,n)=>{let l;return n==="removed"&&o.datum==null&&t==="fade"?l={...resetConnectorSelectionsFn(o,r),opacity:0}:n==="removed"||i(r)?l=connectorStartingPosition(r,o.previousDatum,e,t):l=resetConnectorSelectionsFn(o,r),l}}}function resetConnectorSelectionsFn(e,t){const{x0:i,y0:a,x1:s,y1:o,x2:r,y2:n,x3:l,y3:c,opacity:h}=t;return{x0:i,y0:a,x1:s,y1:o,x2:r,y2:n,x3:l,y3:c,opacity:h}}var{SeriesNodePickMode:SeriesNodePickMode7,SeriesZIndexMap,valueProperty:valueProperty8,keyProperty:keyProperty7,ChartAxisDirection:ChartAxisDirection12,updateLabelNode:updateLabelNode4,SMALLEST_KEY_INTERVAL:SMALLEST_KEY_INTERVAL4,LARGEST_KEY_INTERVAL:LARGEST_KEY_INTERVAL2,diff:diff5,fixNumericExtent:fixNumericExtent6,seriesLabelFadeInAnimation:seriesLabelFadeInAnimation4,resetMotion:resetMotion2,resetLabelFn:resetLabelFn4,animationValidation:animationValidation6,computeBarFocusBounds:computeBarFocusBounds6,ContinuousScale:ContinuousScale6,Group:Group7,Selection:Selection5,PointerEvents:PointerEvents4,motion:motion4,checkCrisp:checkCrisp3,createDatumId:createDatumId10,applyShapeStyle:applyShapeStyle7,getShapeStyle:getShapeStyle8,getShapeFill:getShapeFill3}=import_ag_charts_community78._ModuleSupport,FunnelSeriesNodeEvent=class extends import_ag_charts_community78._ModuleSupport.SeriesNodeEvent{constructor(e,t,i,a){super(e,t,i,a),this.xKey=a.properties.stageKey,this.yKey=a.properties.valueKey}},BaseFunnelSeries=class extends import_ag_charts_community78._ModuleSupport.AbstractBarSeries{constructor({moduleCtx:e,animationResetFns:t}){super({moduleCtx:e,pickModes:[SeriesNodePickMode7.AXIS_ALIGNED,SeriesNodePickMode7.EXACT_SHAPE_MATCH],hasHighlightedLabels:!0,directionKeys:{x:["stageKey"],y:["valueKey"]},directionNames:{x:[],y:[]},categoryKey:"xValue",datumSelectionGarbageCollection:!1,animationResetFns:{datum:t.datum,label:resetLabelFn4}}),this.NodeEvent=FunnelSeriesNodeEvent,this.connectorNodeGroup=this.contentGroup.appendChild(new Group7({name:`${this.id}-series-connectorNodes`,zIndex:SeriesZIndexMap.BACKGROUND})),this.connectorSelection=Selection5.select(this.connectorNodeGroup,()=>this.connectionFactory()),this.connectorNodeGroup.pointerEvents=PointerEvents4.None}get pickModeAxis(){return"main-category"}setSeriesIndex(e){return super.setSeriesIndex(e)?(this.connectorNodeGroup.zIndex=[SeriesZIndexMap.BACKGROUND,e],!0):!1}isVertical(){return!super.isVertical()}connectionFactory(){return new FunnelConnector}async processData(e){const{stageKey:t,valueKey:i}=this.properties,{visible:a,id:s}=this,o=(f,g,y)=>a&&this.ctx.legendManager.getItemEnabled({seriesId:s,itemId:y}),r=this.getCategoryAxis()?.scale,n=this.getValueAxis()?.scale,{isContinuousX:l,xScaleType:c,yScaleType:h}=this.getScaleInformation({xScale:r,yScale:n}),p=[];this.ctx.animationManager.isSkipped()||(this.processedData&&p.push(diff5(this.id,this.processedData)),p.push(animationValidation6()));const u=this.visible?{}:{forceValue:0},{processedData:d}=await this.requestDataModel(e,this.data,{props:[keyProperty7(t,c,{id:"xValue"}),valueProperty8(i,h,{id:"yValue",...u,validation:o,invalidValue:0}),...l?[SMALLEST_KEY_INTERVAL4,LARGEST_KEY_INTERVAL2]:[],...p],groupByKeys:!1});this.smallestDataInterval=d.reduced?.smallestKeyInterval,this.largestDataInterval=d.reduced?.largestKeyInterval,this.animationState.transition("updateData")}getSeriesDomain(e){const{processedData:t,dataModel:i,id:a,ctx:{legendManager:s}}=this;if(!t||!i)return[];const{keys:[o]}=t.domain;if(e===this.getCategoryDirection()){const r=i.resolveProcessedDataDefById(this,"xValue");return r?.def.type==="key"&&r?.def.valueType==="category"?this.hasData?o.filter((n,l)=>s.getItemEnabled({seriesId:a,itemId:l})):[]:this.padBandExtent(o)}else{const r=this.domainForClippedRange(e,["yValue"],"xValue",!0),n=Math.max(...r),l=[-n,n];return fixNumericExtent6(l)}}getSeriesRange(e,t){return[NaN,NaN]}createNodeData(){const{hasData:e,data:t,dataModel:i,groupScale:a,processedData:s,id:o,ctx:{legendManager:r}}=this,n=this.getCategoryAxis(),l=this.getValueAxis();if(!(e&&t&&n&&l&&i&&s?.type==="ungrouped"))return;const c=n.scale,h=l.scale,p=this.getBarDirection()===ChartAxisDirection12.X,{stageKey:u,valueKey:d}=this.properties,{strokeWidth:f}=this.barStyle(),g=`${d}`,y={itemId:g,nodeData:[],labelData:[],connectorData:[],scales:this.calculateScaling(),groupScale:this.getScaling(this.groupScale),visible:this.visible},m=this.visible;if(!m)return y;const x=i.resolveKeysById(this,"xValue",s),S=i.resolveColumnById(this,"yValue",s),{barWidth:D,groupIndex:M}=this.updateGroupScale(n),N=ContinuousScale6.is(c)?D*-.5:0,v=checkCrisp3(n?.scale,n?.visibleRange,this.smallestDataInterval,this.largestDataInterval);let b;return(s.dataSources.get(this.id)??[]).forEach((k,P)=>{const _=m&&r.getItemEnabled({seriesId:o,itemId:P}),A=x[P];if(A==null)return;const L=Math.round(c.convert(A))+a.convert(String(M))+N,C=S[P],R=Math.round(h.convert(-C)),O=Math.round(h.convert(C)),B=Math.max(f,Math.abs(O-R)),T={x:p?Math.min(O,R):L,y:p?L:Math.min(O,R),width:p?B:D,height:p?D:B},F={x:T.x+T.width/2,y:T.y+T.height/2},w=this.createLabelData({datumIndex:P,rect:T,barAlongX:p,yDatum:C,datum:k,visible:_}),E={index:P,series:this,itemId:g,datum:k,datumIndex:P,xValue:A,yValue:C,xKey:u,yKey:d,x:T.x,y:T.y,width:T.width,height:T.height,midPoint:F,strokeWidth:f,crisp:v,label:w,visible:_};if(y.nodeData.push(E),w!=null&&y.labelData.push(w),b!=null){const G=b.rect,W=b.nodeDatum,V=b.datumIndex;p?y.connectorData.push({datum:W,datumIndex:V,x0:G.x,y0:G.y+G.height,x1:G.x+G.width,y1:G.y+G.height,x2:T.x+T.width,y2:T.y,x3:T.x,y3:T.y,opacity:1}):y.connectorData.push({datum:W,datumIndex:V,x0:G.x+G.width,y0:G.y,x1:T.x,y1:T.y,x2:T.x,y2:T.y+T.height,x3:G.x+G.width,y3:G.y+G.height,opacity:1})}_&&(b={itemId:g,rect:T,nodeDatum:E,datumIndex:P})}),y}updateNodes(e,t,i){super.updateNodes(e,t,i);const{connectorSelection:a}=this,s=this.contextNodeData?.connectorData??[];this.connectorSelection=this.updateConnectorSelection({connectorSelection:a,connectorData:s}),this.updateConnectorNodes({connectorSelection:a})}updateDatumSelection(e){const{nodeData:t,datumSelection:i}=e,a=t??[];return i.update(a,void 0,s=>this.getDatumId(s))}updateConnectorSelection(e){const{connectorData:t,connectorSelection:i}=e;return i.update(this.connectorEnabled()?t:[],void 0,a=>this.getDatumId(a.datum))}updateConnectorNodes(e){const{fills:t,strokes:i,fillGradientDefaults:a,fillPatternDefaults:s,fillImageDefaults:o}=this.properties,{fill:r,fillOpacity:n,stroke:l,strokeOpacity:c,strokeWidth:h,lineDash:p,lineDashOffset:u}=this.connectorStyle(),d=this.getShapeFillBBox();e.connectorSelection.each((f,g)=>{const{datumIndex:y}=g;f.setProperties(resetConnectorSelectionsFn(f,g));const m=getShapeFill3(r??t[y%t.length],a,s,o);applyShapeStyle7(f,{fill:m,stroke:l??i[y%i.length],fillOpacity:n,strokeOpacity:c,strokeWidth:h,lineDash:p,lineDashOffset:u},void 0,d)})}getHighlightLabelData(e,t){const i=e.filter(a=>a.datum===t.datum);return i.length>0?i:void 0}updateLabelSelection(e){const t=this.properties.label.enabled?e.labelData:[];return e.labelSelection.update(t,i=>{i.pointerEvents=PointerEvents4.None})}updateLabelNodes(e){e.labelSelection.each((t,i)=>{updateLabelNode4(t,this.properties.label,i)})}getTooltipContent(e){const{id:t,dataModel:i,processedData:a,properties:s}=this,{stageKey:o,valueKey:r,tooltip:n}=s,l=this.getCategoryAxis(),c=this.getValueAxis();if(!i||!a||!l||!c)return;const h=a.dataSources.get(this.id)?.[e],p=i.resolveKeysById(this,"xValue",a)[e],u=i.resolveColumnById(this,"yValue",a)[e];if(p!=null)return this.formatTooltipWithContext(n,{symbol:this.legendItemSymbol(e),data:[{label:l.formatDatum(p),value:c.formatDatum(u)}]},{seriesId:t,datum:h,title:o,stageKey:o,valueKey:r,...this.tooltipStyle(h,e)})}resetAllAnimation(e){super.resetAllAnimation(e),resetMotion2([this.connectorSelection],resetConnectorSelectionsFn)}animateEmptyUpdateReady({labelSelection:e}){const{connectorSelection:t}=this,i=this.isVertical(),s=prepareConnectorAnimationFunctions(i,"normal");motion4.fromToMotion(this.id,"connectors",this.ctx.animationManager,[t],s),seriesLabelFadeInAnimation4(this,"labels",this.ctx.animationManager,e)}animateWaitingUpdateReady(e){const{labelSelection:t}=e;this.ctx.animationManager.stopByAnimationGroupId(this.id),seriesLabelFadeInAnimation4(this,"labels",this.ctx.animationManager,t)}getDatumId(e){return createDatumId10(e.xValue)}isLabelEnabled(){return this.properties.label.enabled}computeFocusBounds({datumIndex:e}){return computeBarFocusBounds6(this,this.contextNodeData?.nodeData[e])}legendItemSymbol(e){const{strokeWidth:t,fillOpacity:i,strokeOpacity:a,lineDash:s,lineDashOffset:o,fillGradientDefaults:r,fillPatternDefaults:n,fillImageDefaults:l}=this.barStyle(),{fills:c,strokes:h}=this.properties,p=c[e%c.length]??"black",u=h[e%h.length]??"black";return{marker:getShapeStyle8({fill:p,fillOpacity:i,stroke:u,strokeWidth:t,strokeOpacity:a,lineDash:s,lineDashOffset:o},r,n,l)}}getLegendData(e){const{id:t,processedData:i,dataModel:a,ctx:{legendManager:s},visible:o}=this;if(!a||!i||e!=="category")return[];const{showInLegend:r}=this.properties,n=a.resolveKeysById(this,"xValue",i);return(i.dataSources.get(this.id)??[]).map((l,c)=>{const h=n[c];if(h!=null)return{legendType:"category",id:t,datum:l,itemId:c,seriesId:t,enabled:o&&s.getItemEnabled({seriesId:t,itemId:c}),label:{text:String(h)},symbol:this.legendItemSymbol(c),skipAnimations:!0,hideInLegend:!r}}).filter(l=>l!=null)}},import_ag_charts_community79=require("ag-charts-community"),{FillGradientDefaults:FillGradientDefaults7,FillPatternDefaults:FillPatternDefaults7,FillImageDefaults:FillImageDefaults7,Label:Label5,AbstractBarSeriesProperties:AbstractBarSeriesProperties5,SeriesTooltip:SeriesTooltip9,AxisLabel,Property:Property22}=import_ag_charts_community79._ModuleSupport,ConeFunnelSeriesLabel=class extends Label5{constructor(){super(...arguments),this.spacing=0}};__decorateClass([Property22],ConeFunnelSeriesLabel.prototype,"placement",2),__decorateClass([Property22],ConeFunnelSeriesLabel.prototype,"spacing",2);var ConeFunnelSeriesStageLabel=class extends AxisLabel{};__decorateClass([Property22],ConeFunnelSeriesStageLabel.prototype,"placement",2);var ConeFunnelProperties=class extends AbstractBarSeriesProperties5{constructor(){super(...arguments),this.fills=[],this.fillGradientDefaults=new FillGradientDefaults7,this.fillPatternDefaults=new FillPatternDefaults7,this.fillImageDefaults=new FillImageDefaults7,this.fillOpacity=1,this.strokes=[],this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.label=new ConeFunnelSeriesLabel,this.stageLabel=new ConeFunnelSeriesStageLabel,this.tooltip=new SeriesTooltip9}};__decorateClass([Property22],ConeFunnelProperties.prototype,"stageKey",2),__decorateClass([Property22],ConeFunnelProperties.prototype,"valueKey",2),__decorateClass([Property22],ConeFunnelProperties.prototype,"fills",2),__decorateClass([Property22],ConeFunnelProperties.prototype,"fillGradientDefaults",2),__decorateClass([Property22],ConeFunnelProperties.prototype,"fillPatternDefaults",2),__decorateClass([Property22],ConeFunnelProperties.prototype,"fillImageDefaults",2),__decorateClass([Property22],ConeFunnelProperties.prototype,"fillOpacity",2),__decorateClass([Property22],ConeFunnelProperties.prototype,"strokes",2),__decorateClass([Property22],ConeFunnelProperties.prototype,"strokeWidth",2),__decorateClass([Property22],ConeFunnelProperties.prototype,"strokeOpacity",2),__decorateClass([Property22],ConeFunnelProperties.prototype,"lineDash",2),__decorateClass([Property22],ConeFunnelProperties.prototype,"lineDashOffset",2),__decorateClass([Property22],ConeFunnelProperties.prototype,"label",2),__decorateClass([Property22],ConeFunnelProperties.prototype,"stageLabel",2),__decorateClass([Property22],ConeFunnelProperties.prototype,"tooltip",2);function resetLineSelectionsFn(e,{x:t,y:i,width:a,height:s,opacity:o}){return{x1:t,y1:i,x2:t+a,y2:i+s,opacity:o}}var{formatValue,Line:Line4}=import_ag_charts_community80._ModuleSupport,ConeFunnelSeries=class extends BaseFunnelSeries{constructor(e){super({moduleCtx:e,animationResetFns:{datum:resetLineSelectionsFn}}),this.properties=new ConeFunnelProperties}get hasData(){const{id:e,ctx:{legendManager:t}}=this,i=this.data?.reduce((a,s,o)=>a+(t.getItemEnabled({seriesId:e,itemId:o})?1:0),0);return i!=null&&i>1}getBandScalePadding(){return{inner:1,outer:0}}connectorEnabled(){return!0}barStyle(){return{fillOpacity:1,strokeOpacity:1,strokeWidth:0,lineDash:[],lineDashOffset:0,fillGradientDefaults:this.properties.fillGradientDefaults,fillPatternDefaults:this.properties.fillPatternDefaults,fillImageDefaults:this.properties.fillImageDefaults}}connectorStyle(){const{fillOpacity:e,strokeOpacity:t,strokeWidth:i,lineDash:a,lineDashOffset:s,fillGradientDefaults:o,fillPatternDefaults:r,fillImageDefaults:n}=this.properties;return{fillOpacity:e,strokeOpacity:t,strokeWidth:i,lineDash:a,lineDashOffset:s,fillGradientDefaults:o,fillPatternDefaults:r,fillImageDefaults:n}}nodeFactory(){return new Line4}createLabelData({datumIndex:e,rect:t,barAlongX:i,yDatum:a,datum:s,visible:o}){const{stageKey:r,valueKey:n,label:l}=this.properties,{spacing:c,placement:h}=l;let p,u,d,f;if(i)switch(p=t.x+t.width/2,d="center",h){case"before":u=t.y-c,f="bottom";break;case"after":u=t.y+t.height+c,f="top";break;default:u=t.y+t.height/2,f="middle"}else switch(u=t.y+t.height/2,f="middle",h){case"before":p=t.x-c,d="right";break;case"after":p=t.x+t.width+c,d="left";break;default:p=t.x+t.width/2,d="center"}return{x:p,y:u,textAlign:d,textBaseline:f,text:this.getLabelText(l,{itemId:n,value:a,datum:s,stageKey:r,valueKey:n},g=>formatValue(g,0)),itemId:n,datum:s,datumIndex:e,series:this,visible:o}}updateDatumNodes(e){const t=e.isHighlight?this.properties.highlightStyle.item:void 0;e.datumSelection.each((i,a)=>{i.setProperties(resetLineSelectionsFn(i,a)),i.stroke=t?.stroke,i.strokeWidth=t?.strokeWidth??0,i.strokeOpacity=t?.strokeOpacity??1,i.lineDash=t?.lineDash,i.lineDashOffset=t?.lineDashOffset??0})}tooltipStyle(e,t){const{fills:i,strokes:a}=this.properties,s=i[t%i.length]??"black",o=a[t%a.length]??"black",{fillOpacity:r,strokeOpacity:n,strokeWidth:l,lineDash:c,lineDashOffset:h}=this.barStyle();return{fill:s,fillOpacity:r,stroke:o,strokeOpacity:n,strokeWidth:l,lineDash:c,lineDashOffset:h}}};ConeFunnelSeries.className="ConeFunnelSeries",ConeFunnelSeries.type="cone-funnel";var import_ag_charts_community81=require("ag-charts-community"),import_ag_charts_core27=require("ag-charts-core"),{commonSeriesOptionsDefs:commonSeriesOptionsDefs9,coneFunnelSeriesThemeableOptionsDef}=import_ag_charts_community81._ModuleSupport,coneFunnelSeriesOptionsDef={...coneFunnelSeriesThemeableOptionsDef,...commonSeriesOptionsDefs9,type:(0,import_ag_charts_core27.required)((0,import_ag_charts_core27.constant)("cone-funnel")),stageKey:(0,import_ag_charts_core27.required)(import_ag_charts_core27.string),valueKey:(0,import_ag_charts_core27.required)(import_ag_charts_core27.string)},import_ag_charts_community82=require("ag-charts-community"),{ThemeConstants:{CARTESIAN_AXIS_TYPE:CARTESIAN_AXIS_TYPE8}}=import_ag_charts_community82._ModuleSupport,CONE_FUNNEL_SERIES_THEME={series:{direction:"vertical",fills:{$if:[{$eq:[{$palette:"type"},"inbuilt"]},{$palette:"secondSequentialColors"},import_ag_charts_community82._ModuleSupport.SAFE_RANGE2_OPERATION]},strokes:{$if:[{$eq:[{$palette:"type"},"inbuilt"]},{$palette:"secondSequentialColors"},import_ag_charts_community82._ModuleSupport.SAFE_RANGE2_OPERATION]},fillGradientDefaults:{type:"gradient",gradient:"linear",bounds:"item",colorStops:{$palette:"gradient"},rotation:0,reverse:!1},fillPatternDefaults:import_ag_charts_community82._ModuleSupport.FILL_PATTERN_DEFAULTS,fillImageDefaults:import_ag_charts_community82._ModuleSupport.FILL_IMAGE_DEFAULTS,strokeWidth:0,label:{enabled:!0,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"},placement:"before",spacing:4}},seriesArea:{padding:{top:20,bottom:20}},axes:{[CARTESIAN_AXIS_TYPE8.NUMBER]:{nice:!1,gridLine:{enabled:!1},crosshair:{enabled:!1},label:{enabled:!1,formatter(e){return Math.abs(e.value).toFixed(e.fractionDigits??0)}}},[CARTESIAN_AXIS_TYPE8.CATEGORY]:{line:{enabled:!1}}}},ConeFunnelSeriesModule={type:"series",name:"cone-funnel",chartType:"cartesian",enterprise:!0,options:coneFunnelSeriesOptionsDef,create:e=>new ConeFunnelSeries(e)},import_ag_charts_community87=require("ag-charts-community"),import_ag_charts_community85=require("ag-charts-community"),import_ag_charts_community84=require("ag-charts-community"),{FillGradientDefaults:FillGradientDefaults8,FillPatternDefaults:FillPatternDefaults8,FillImageDefaults:FillImageDefaults8,Label:Label6,DropShadow:DropShadow4,AbstractBarSeriesProperties:AbstractBarSeriesProperties6,BaseProperties:BaseProperties7,SeriesTooltip:SeriesTooltip10,AxisLabel:AxisLabel2,Property:Property23}=import_ag_charts_community84._ModuleSupport,FunnelSeriesLabel=class extends Label6{},FunnelSeriesStageLabel=class extends AxisLabel2{};__decorateClass([Property23],FunnelSeriesStageLabel.prototype,"placement",2);var FunnelDropOff=class extends BaseProperties7{constructor(){super(...arguments),this.enabled=!0,this.fill=void 0,this.fillOpacity=1,this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0}};__decorateClass([Property23],FunnelDropOff.prototype,"enabled",2),__decorateClass([Property23],FunnelDropOff.prototype,"fill",2),__decorateClass([Property23],FunnelDropOff.prototype,"fillOpacity",2),__decorateClass([Property23],FunnelDropOff.prototype,"stroke",2),__decorateClass([Property23],FunnelDropOff.prototype,"strokeWidth",2),__decorateClass([Property23],FunnelDropOff.prototype,"strokeOpacity",2),__decorateClass([Property23],FunnelDropOff.prototype,"lineDash",2),__decorateClass([Property23],FunnelDropOff.prototype,"lineDashOffset",2);var FunnelProperties=class extends AbstractBarSeriesProperties6{constructor(){super(...arguments),this.fills=[],this.fillGradientDefaults=new FillGradientDefaults8,this.fillPatternDefaults=new FillPatternDefaults8,this.fillImageDefaults=new FillImageDefaults8,this.fillOpacity=1,this.strokes=[],this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.spacingRatio=0,this.dropOff=new FunnelDropOff,this.shadow=new DropShadow4().set({enabled:!1}),this.label=new FunnelSeriesLabel,this.stageLabel=new FunnelSeriesStageLabel,this.tooltip=new SeriesTooltip10}};__decorateClass([Property23],FunnelProperties.prototype,"stageKey",2),__decorateClass([Property23],FunnelProperties.prototype,"valueKey",2),__decorateClass([Property23],FunnelProperties.prototype,"fills",2),__decorateClass([Property23],FunnelProperties.prototype,"fillGradientDefaults",2),__decorateClass([Property23],FunnelProperties.prototype,"fillPatternDefaults",2),__decorateClass([Property23],FunnelProperties.prototype,"fillImageDefaults",2),__decorateClass([Property23],FunnelProperties.prototype,"fillOpacity",2),__decorateClass([Property23],FunnelProperties.prototype,"strokes",2),__decorateClass([Property23],FunnelProperties.prototype,"strokeWidth",2),__decorateClass([Property23],FunnelProperties.prototype,"strokeOpacity",2),__decorateClass([Property23],FunnelProperties.prototype,"lineDash",2),__decorateClass([Property23],FunnelProperties.prototype,"lineDashOffset",2),__decorateClass([Property23],FunnelProperties.prototype,"spacingRatio",2),__decorateClass([Property23],FunnelProperties.prototype,"itemStyler",2),__decorateClass([Property23],FunnelProperties.prototype,"dropOff",2),__decorateClass([Property23],FunnelProperties.prototype,"shadow",2),__decorateClass([Property23],FunnelProperties.prototype,"label",2),__decorateClass([Property23],FunnelProperties.prototype,"stageLabel",2),__decorateClass([Property23],FunnelProperties.prototype,"tooltip",2);var{ChartAxisDirection:ChartAxisDirection13,resetBarSelectionsFn:resetBarSelectionsFn3,prepareBarAnimationFunctions:prepareBarAnimationFunctions3,midpointStartingBarPosition:midpointStartingBarPosition2,createDatumId:createDatumId11,formatValue:formatValue2,Rect:Rect5,motion:motion5,applyShapeStyle:applyShapeStyle8,getShapeStyle:getShapeStyle9}=import_ag_charts_community85._ModuleSupport,FunnelSeries=class extends BaseFunnelSeries{constructor(e){super({moduleCtx:e,animationResetFns:{datum:resetBarSelectionsFn3}}),this.properties=new FunnelProperties}getBandScalePadding(){return{inner:this.properties.spacingRatio,outer:0}}connectorEnabled(){return this.properties.dropOff.enabled}barStyle(){const{fillOpacity:e,strokeOpacity:t,strokeWidth:i,lineDash:a,lineDashOffset:s,fillGradientDefaults:o,fillPatternDefaults:r,fillImageDefaults:n}=this.properties;return{fillOpacity:e,strokeOpacity:t,strokeWidth:i,lineDash:a,lineDashOffset:s,fillGradientDefaults:o,fillPatternDefaults:r,fillImageDefaults:n}}connectorStyle(){const{fill:e,fillOpacity:t,stroke:i,strokeOpacity:a,strokeWidth:s,lineDash:o,lineDashOffset:r}=this.properties.dropOff;return{fill:e,fillOpacity:t,stroke:i,strokeOpacity:a,strokeWidth:s,lineDash:o,lineDashOffset:r,fillGradientDefaults:this.properties.fillGradientDefaults,fillPatternDefaults:this.properties.fillPatternDefaults,fillImageDefaults:this.properties.fillImageDefaults}}nodeFactory(){return new Rect5}createLabelData({datumIndex:e,rect:t,yDatum:i,datum:a,visible:s}){const{valueKey:o,stageKey:r,label:n}=this.properties;return{x:t.x+t.width/2,y:t.y+t.height/2,textAlign:"center",textBaseline:"middle",text:this.getLabelText(n,{itemId:r,value:i,datum:a,valueKey:o,stageKey:r},l=>formatValue2(l,0)),itemId:r,datum:a,datumIndex:e,series:this,visible:s}}getItemBaseStyle(e){const{properties:t}=this,i=e?t.highlightStyle.item:void 0;return getShapeStyle9({fill:i?.fill,fillOpacity:i?.fillOpacity??t.fillOpacity,stroke:i?.stroke,strokeWidth:i?.strokeWidth??this.getStrokeWidth(t.strokeWidth),strokeOpacity:i?.strokeOpacity??t.strokeOpacity,lineDash:i?.lineDash??t.lineDash,lineDashOffset:i?.lineDashOffset??t.lineDashOffset},t.fillGradientDefaults,t.fillPatternDefaults,t.fillImageDefaults)}getItemStyleOverrides(e,t,i,a,s){const{id:o,properties:r}=this,{stageKey:n,valueKey:l,fills:c,strokes:h,itemStyler:p}=r,u=a.fill??c[i%c.length]??"black",d=a.stroke??h[i%h.length]??"black",f={};if(s||(f.fill=u,f.stroke=d),p!=null){const g=this.cachedDatumCallback(createDatumId11(e,s?"highlight":"node"),()=>{const{fillOpacity:y,strokeOpacity:m,strokeWidth:x,lineDash:S,lineDashOffset:D}=a;return this.callWithContext(p,{seriesId:o,datum:t,highlighted:s,stageKey:n,valueKey:l,fill:u,fillOpacity:y,stroke:d,strokeOpacity:m,strokeWidth:x,lineDash:S,lineDashOffset:D})});Object.assign(f,g)}return getShapeStyle9(f,r.fillGradientDefaults,r.fillPatternDefaults,r.fillImageDefaults)}updateDatumNodes(e){const{shadow:t}=this.properties,{datumSelection:i,isHighlight:a}=e,s=this.getCategoryDirection()===ChartAxisDirection13.X,o=this.getItemBaseStyle(a),r=this.getShapeFillBBox();i.each((n,l)=>{const{datumIndex:c}=l,h=this.getItemStyleOverrides(String(l.datumIndex),l.datum,c,o,a);applyShapeStyle8(n,o,h,r),n.visible=s?l.width>0:l.height>0,n.crisp=l.crisp,n.fillShadow=t})}tooltipStyle(e,t){const i=this.getItemBaseStyle(!1);return Object.assign(i,this.getItemStyleOverrides(String(t),e,t,i,!1)),i}animateEmptyUpdateReady(e){super.animateEmptyUpdateReady(e);const{datumSelection:t}=e,i=this.isVertical(),s=prepareBarAnimationFunctions3(midpointStartingBarPosition2(i,"normal"));motion5.fromToMotion(this.id,"datums",this.ctx.animationManager,[t],s)}animateWaitingUpdateReady(e){super.animateWaitingUpdateReady(e);const{datumSelection:t}=e,{processedData:i}=this,a=i?.reduced?.diff?.[this.id],s=prepareBarAnimationFunctions3(midpointStartingBarPosition2(this.isVertical(),"fade"));motion5.fromToMotion(this.id,"datums",this.ctx.animationManager,[t],s,(o,r)=>r.xValue,a)}};FunnelSeries.className="FunnelSeries",FunnelSeries.type="funnel";var import_ag_charts_community86=require("ag-charts-community"),import_ag_charts_core28=require("ag-charts-core"),{commonSeriesOptionsDefs:commonSeriesOptionsDefs10,funnelSeriesThemeableOptionsDef}=import_ag_charts_community86._ModuleSupport,funnelSeriesOptionsDef={...funnelSeriesThemeableOptionsDef,...commonSeriesOptionsDefs10,type:(0,import_ag_charts_core28.required)((0,import_ag_charts_core28.constant)("funnel")),stageKey:(0,import_ag_charts_core28.required)(import_ag_charts_core28.string),valueKey:(0,import_ag_charts_core28.required)(import_ag_charts_core28.string)},FunnelSeriesModule={type:"series",name:"funnel",chartType:"cartesian",enterprise:!0,options:funnelSeriesOptionsDef,create:e=>new FunnelSeries(e)},import_ag_charts_community95=require("ag-charts-community"),import_ag_charts_community94=require("ag-charts-community"),DatumUnion=class{*[Symbol.iterator](){const{node:e,datum:t}=this;e&&t&&(yield{node:e,datum:t})}nodes(){return this.node?[this.node]:[]}update(e,t,i,a){const s=e.nodes();if(s.length===0)this.node?.remove(),this.node=void 0;else{this.node===void 0&&(this.node=new i,this.node.fillOpacity=0,this.node.strokeOpacity=0,t.appendChild(this.node));const o=s[0],r=s.toReversed().find(n=>n.datum.datum.value>n.datum.datum.segmentStart)??s[s.length-1];this.node.datum=this.datum=o.datum,a(this.node,o,r)}}},import_ag_charts_community88=require("ag-charts-community"),fadeInFns={fromFn:()=>({opacity:0,phase:"initial"}),toFn:()=>({opacity:1})};function formatLabel(e,t){if(e==null)return"";const{min:i,max:a}=t,s=i!==0?Math.ceil(Math.log10(Math.abs(i))):0,o=a!==0?Math.ceil(Math.log10(Math.abs(a))):0,r=Math.max(2-Math.max(s,o),0);return e.toFixed(r)}function getLabelText(e,t,i,a){if(i.text!=null)return i.text;const s=a??i.value;let o;if(i?.formatter!=null&&(o=formatWithContext(t,i.formatter,{seriesId:e,datum:void 0,value:s})),o!=null)return String(o)}function formatWithContext(e,t,i){return import_ag_charts_community88._ModuleSupport.callWithContext(e.chartService,void 0,t,[i])}var import_ag_charts_community89=require("ag-charts-community");function lineMarker({path:e,x:t,y:i,size:a}){e.moveTo(t,i-a/2),e.lineTo(t,i+a/2)}var import_ag_charts_community90=require("ag-charts-community"),import_ag_charts_core29=require("ag-charts-core");function pickGaugeNearestDatum(e,t){const i=(0,import_ag_charts_core29.iterate)(e.datumUnion.nodes(),e.targetSelection.nodes());return e.pickNodeNearestDistantObject(t,i)}function pickGaugeFocus(e,t){const i=[{data:e.contextNodeData?.nodeData,selection:e.datumUnion},{data:e.contextNodeData?.targetData,selection:e.targetSelection}].filter(l=>l.data&&l.data.length>0),a=(0,import_ag_charts_core29.clamp)(0,t.otherIndex+t.otherIndexDelta,i.length-1);if(i.length===0)return;const{data:s,selection:o}=i[a];if(s==null||s.length===0)return;const r=(0,import_ag_charts_core29.clamp)(0,t.datumIndex,s.length-1),n=s[r];for(const l of o)if(l.datum===n)return{bounds:l.node,clipFocusBox:!0,datum:n,datumIndex:r,otherIndex:a}}var import_ag_charts_community92=require("ag-charts-community"),import_ag_charts_community91=require("ag-charts-community"),import_ag_charts_core30=require("ag-charts-core"),{BaseProperties:BaseProperties8,Property:Property24}=import_ag_charts_community91._ModuleSupport,GaugeSegmentationIntervalProperties=class extends BaseProperties8{getSegments(e,t){const{values:i,step:a,count:s}=this,o=Math.min(...e.domain),r=Math.max(...e.domain);let n;if(i!=null){const l=i.filter(c=>c>o&&c<r).sort((c,h)=>c-h);n=[o,...l,r]}else if(a!=null){const l=[];for(let c=o;c<r;c+=a)l.push(c);l.push(r),n=l}else if(s!=null){const l=s+1;n=Array.from({length:l+1},(c,h)=>h/l*(r-o)+o)}else{const l=e.ticks({nice:!0,interval:void 0,tickCount:void 0,minTickCount:0,maxTickCount:1/0})?.ticks?.filter(c=>c>o&&c<r);n=l!=null?[o,...l,r]:void 0}return n!=null&&n.length>t&&(import_ag_charts_core30.Logger.warnOnce("the configured segmentation results in more than 1 item per pixel, ignoring. Supply a segmentation configuration that results in larger segments or omit this configuration"),n=void 0),n??(n=[o,r]),n}};__decorateClass([Property24],GaugeSegmentationIntervalProperties.prototype,"values",2),__decorateClass([Property24],GaugeSegmentationIntervalProperties.prototype,"step",2),__decorateClass([Property24],GaugeSegmentationIntervalProperties.prototype,"count",2);var GaugeSegmentationProperties=class extends BaseProperties8{constructor(){super(...arguments),this.enabled=!1,this.interval=new GaugeSegmentationIntervalProperties,this.spacing=0}};__decorateClass([Property24],GaugeSegmentationProperties.prototype,"enabled",2),__decorateClass([Property24],GaugeSegmentationProperties.prototype,"interval",2),__decorateClass([Property24],GaugeSegmentationProperties.prototype,"spacing",2);var{BaseProperties:BaseProperties9,SeriesTooltip:SeriesTooltip11,SeriesProperties:SeriesProperties2,PropertiesArray:PropertiesArray2,Property:Property25,Label:Label7,AxisLabel:AxisLabel3}=import_ag_charts_community92._ModuleSupport,LinearGaugeDefaultTargetLabelProperties=class extends Label7{};__decorateClass([Property25],LinearGaugeDefaultTargetLabelProperties.prototype,"spacing",2);var LinearGaugeTargetProperties=class extends BaseProperties9{constructor(){super(...arguments),this.value=0,this.label=new LinearGaugeDefaultTargetLabelProperties}};__decorateClass([Property25],LinearGaugeTargetProperties.prototype,"text",2),__decorateClass([Property25],LinearGaugeTargetProperties.prototype,"value",2),__decorateClass([Property25],LinearGaugeTargetProperties.prototype,"shape",2),__decorateClass([Property25],LinearGaugeTargetProperties.prototype,"placement",2),__decorateClass([Property25],LinearGaugeTargetProperties.prototype,"spacing",2),__decorateClass([Property25],LinearGaugeTargetProperties.prototype,"size",2),__decorateClass([Property25],LinearGaugeTargetProperties.prototype,"rotation",2),__decorateClass([Property25],LinearGaugeTargetProperties.prototype,"fill",2),__decorateClass([Property25],LinearGaugeTargetProperties.prototype,"fillOpacity",2),__decorateClass([Property25],LinearGaugeTargetProperties.prototype,"stroke",2),__decorateClass([Property25],LinearGaugeTargetProperties.prototype,"strokeWidth",2),__decorateClass([Property25],LinearGaugeTargetProperties.prototype,"strokeOpacity",2),__decorateClass([Property25],LinearGaugeTargetProperties.prototype,"lineDash",2),__decorateClass([Property25],LinearGaugeTargetProperties.prototype,"lineDashOffset",2),__decorateClass([Property25],LinearGaugeTargetProperties.prototype,"label",2);var LinearGaugeBarProperties=class extends BaseProperties9{constructor(){super(...arguments),this.enabled=!0,this.thicknessRatio=1,this.fills=new PropertiesArray2(import_ag_charts_community92._ModuleSupport.StopProperties),this.fillMode="continuous",this.fillOpacity=1,this.stroke="black",this.strokeWidth=0,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0}};__decorateClass([Property25],LinearGaugeBarProperties.prototype,"enabled",2),__decorateClass([Property25],LinearGaugeBarProperties.prototype,"thickness",2),__decorateClass([Property25],LinearGaugeBarProperties.prototype,"thicknessRatio",2),__decorateClass([Property25],LinearGaugeBarProperties.prototype,"fills",2),__decorateClass([Property25],LinearGaugeBarProperties.prototype,"fillMode",2),__decorateClass([Property25],LinearGaugeBarProperties.prototype,"fill",2),__decorateClass([Property25],LinearGaugeBarProperties.prototype,"fillOpacity",2),__decorateClass([Property25],LinearGaugeBarProperties.prototype,"stroke",2),__decorateClass([Property25],LinearGaugeBarProperties.prototype,"strokeWidth",2),__decorateClass([Property25],LinearGaugeBarProperties.prototype,"strokeOpacity",2),__decorateClass([Property25],LinearGaugeBarProperties.prototype,"lineDash",2),__decorateClass([Property25],LinearGaugeBarProperties.prototype,"lineDashOffset",2);var LinearGaugeScaleIntervalProperties=class extends BaseProperties9{constructor(){super(...arguments),this.values=void 0,this.step=void 0,this.minSpacing=0,this.maxSpacing=1e3}};__decorateClass([Property25],LinearGaugeScaleIntervalProperties.prototype,"values",2),__decorateClass([Property25],LinearGaugeScaleIntervalProperties.prototype,"step",2),__decorateClass([Property25],LinearGaugeScaleIntervalProperties.prototype,"minSpacing",2),__decorateClass([Property25],LinearGaugeScaleIntervalProperties.prototype,"maxSpacing",2);var LinearGaugeScaleLabelProperties=class extends AxisLabel3{constructor(){super(...arguments),this.placement=void 0}};__decorateClass([Property25],LinearGaugeScaleLabelProperties.prototype,"placement",2);var LinearGaugeScaleProperties=class extends BaseProperties9{constructor(){super(...arguments),this.min=0,this.max=1,this.fills=new PropertiesArray2(import_ag_charts_community92._ModuleSupport.StopProperties),this.fillMode="continuous",this.fillOpacity=1,this.stroke="black",this.strokeWidth=0,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.defaultFill="black",this.interval=new LinearGaugeScaleIntervalProperties,this.label=new LinearGaugeScaleLabelProperties}};__decorateClass([Property25],LinearGaugeScaleProperties.prototype,"min",2),__decorateClass([Property25],LinearGaugeScaleProperties.prototype,"max",2),__decorateClass([Property25],LinearGaugeScaleProperties.prototype,"fills",2),__decorateClass([Property25],LinearGaugeScaleProperties.prototype,"fillMode",2),__decorateClass([Property25],LinearGaugeScaleProperties.prototype,"fill",2),__decorateClass([Property25],LinearGaugeScaleProperties.prototype,"fillOpacity",2),__decorateClass([Property25],LinearGaugeScaleProperties.prototype,"stroke",2),__decorateClass([Property25],LinearGaugeScaleProperties.prototype,"strokeWidth",2),__decorateClass([Property25],LinearGaugeScaleProperties.prototype,"strokeOpacity",2),__decorateClass([Property25],LinearGaugeScaleProperties.prototype,"lineDash",2),__decorateClass([Property25],LinearGaugeScaleProperties.prototype,"lineDashOffset",2),__decorateClass([Property25],LinearGaugeScaleProperties.prototype,"defaultFill",2),__decorateClass([Property25],LinearGaugeScaleProperties.prototype,"interval",2),__decorateClass([Property25],LinearGaugeScaleProperties.prototype,"label",2);var LinearGaugeLabelProperties=class extends AutoSizedLabel{constructor(){super(...arguments),this.placement="inside-center",this.avoidCollisions=!0}};__decorateClass([Property25],LinearGaugeLabelProperties.prototype,"text",2),__decorateClass([Property25],LinearGaugeLabelProperties.prototype,"placement",2),__decorateClass([Property25],LinearGaugeLabelProperties.prototype,"avoidCollisions",2);var LinearGaugeSeriesProperties=class extends SeriesProperties2{constructor(){super(...arguments),this.value=0,this.segmentation=new GaugeSegmentationProperties,this.defaultColorRange=[],this.targets=new PropertiesArray2(LinearGaugeTargetProperties),this.defaultTarget=new LinearGaugeTargetProperties,this.defaultScale=new LinearGaugeScaleProperties,this.direction="vertical",this.thickness=1,this.cornerRadius=0,this.cornerMode="container",this.margin=0,this.scale=new LinearGaugeScaleProperties,this.bar=new LinearGaugeBarProperties,this.label=new LinearGaugeLabelProperties,this.tooltip=new SeriesTooltip11}};__decorateClass([Property25],LinearGaugeSeriesProperties.prototype,"value",2),__decorateClass([Property25],LinearGaugeSeriesProperties.prototype,"segmentation",2),__decorateClass([Property25],LinearGaugeSeriesProperties.prototype,"defaultColorRange",2),__decorateClass([Property25],LinearGaugeSeriesProperties.prototype,"targets",2),__decorateClass([Property25],LinearGaugeSeriesProperties.prototype,"defaultTarget",2),__decorateClass([Property25],LinearGaugeSeriesProperties.prototype,"defaultScale",2),__decorateClass([Property25],LinearGaugeSeriesProperties.prototype,"direction",2),__decorateClass([Property25],LinearGaugeSeriesProperties.prototype,"thickness",2),__decorateClass([Property25],LinearGaugeSeriesProperties.prototype,"cornerRadius",2),__decorateClass([Property25],LinearGaugeSeriesProperties.prototype,"cornerMode",2),__decorateClass([Property25],LinearGaugeSeriesProperties.prototype,"margin",2),__decorateClass([Property25],LinearGaugeSeriesProperties.prototype,"scale",2),__decorateClass([Property25],LinearGaugeSeriesProperties.prototype,"bar",2),__decorateClass([Property25],LinearGaugeSeriesProperties.prototype,"label",2),__decorateClass([Property25],LinearGaugeSeriesProperties.prototype,"tooltip",2);var import_ag_charts_community93=require("ag-charts-community"),{CachedTextMeasurerPool:CachedTextMeasurerPool3,BBox:BBox8}=import_ag_charts_community93._ModuleSupport;function datumRect(e){const{x0:t,y0:i,x1:a,y1:s,horizontalInset:o,verticalInset:r}=e,n=Math.min(t,a)+o,l=Math.min(i,s)+r,c=Math.max(Math.abs(a-t)-2*o,0),h=Math.max(Math.abs(s-i)-2*r,0);return{x:n,y:l,width:c,height:h}}function clipBBoxVisibility(e,t){if(t==null)return!0;const i=datumRect(e),a=1e-6,s=i.x+a,o=i.y+a,r=i.x+i.width-a,n=i.y+i.height-a,l=t.x,c=t.x+t.width,h=t.y,p=t.y+t.height;return Math.max(s,l)<=Math.min(r,c)&&Math.max(o,h)<=Math.min(n,p)}function hasClipBBox(e){const{clipX0:t,clipX1:i,clipY0:a,clipY1:s}=e;return t!=null&&i!=null||a!=null&&s!=null}function computeClipBBox(e){if(!hasClipBBox(e))return;const{x0:t,y0:i,x1:a,y1:s}=e,{x:o,y:r,width:n,height:l}=datumRect(e);let{clipX0:c,clipX1:h,clipY0:p,clipY1:u}=e;(c==null||h==null)&&(c=t,h=a),(p==null||u==null)&&(p=i,u=s);const d=Math.min(c,h),f=Math.min(p,u),g=Math.abs(h-c),y=Math.abs(u-p);return c=Math.max(o,d),p=Math.max(r,f),h=Math.min(o+n,d+g),u=Math.min(r+l,f+y),new BBox8(Math.min(c,h),Math.min(p,u),Math.abs(h-c),Math.abs(u-p))}function prepareLinearGaugeSeriesAnimationFunctions(e,t){const i=e?"initial":"update";return{node:{fromFn(s,o){const r=s.previousDatum;let{x0:n,y0:l,x1:c,y1:h,clipX0:p,clipY0:u,clipX1:d,clipY1:f}=r??o;const{horizontalInset:g,verticalInset:y}=o,m=r!=null&&hasClipBBox(r),x=hasClipBBox(o);return m&&x||(!m&&x?({x0:n,y0:l,x1:c,y1:h,clipX0:p,clipY0:u,clipX1:d,clipY1:f}=o,e&&(t?d=o.clipX0:f=o.clipY0)):m&&!x?({x0:n,y0:l,x1:c,y1:h}=o,p=void 0,u=void 0,d=void 0,f=void 0):e&&(t?c=n:h=l)),{x0:n,y0:l,x1:c,y1:h,clipX0:p,clipY0:u,clipX1:d,clipY1:f,horizontalInset:g,verticalInset:y,phase:i}},toFn(s,o){const{x0:r,y0:n,x1:l,y1:c,clipX0:h,clipY0:p,clipX1:u,clipY1:d,horizontalInset:f,verticalInset:g}=o;return{x0:r,y0:n,x1:l,y1:c,clipX0:h,clipY0:p,clipX1:u,clipY1:d,horizontalInset:f,verticalInset:g}},applyFn(s,o){s.setProperties(resetLinearGaugeSeriesResetRectFunction(s,o))}}}}function resetLinearGaugeSeriesResetRectFunction(e,t){const{x:i,y:a,width:s,height:o}=datumRect(t),r=computeClipBBox(t),n=clipBBoxVisibility(t,r);return{x:i,y:a,width:s,height:o,clipBBox:r,visible:n}}var horizontalTextAligns={Before:"right",Center:"center",After:"left"},verticalTextBaselines={Before:"top",Center:"middle",After:"bottom"},horizontalAlignFactors={Before:-1,Center:-.5,After:0},verticalAlignFactors2={Before:0,Center:-.5,After:-1};function formatLinearGaugeLabels(e,t,i,a,s,o){const{seriesRect:r,gaugeRect:n,barRect:l}=s,{padding:c,horizontal:h}=a;i.each((p,u)=>{const d=getLabelText(e.id,t,u,o?.label);let f,g;u.placement==="outside-start"?h?(f=n.x,g=r.height):(f=r.width,g=r.height-(n.y+n.height)):u.placement==="outside-end"?h?(f=r.width-(n.x+n.width),g=r.height):(f=r.width,g=n.y):u.avoidCollisions&&(f=n.width,g=n.height);let y;if(d==null)return;if(f!=null&&g!=null)y=formatSingleLabel(d,u,{padding:c},()=>({width:f,height:g,meta:null}))?.[0];else{const C={fontSize:u.fontSize,fontStyle:u.fontStyle,fontWeight:u.fontWeight,fontFamily:u.fontFamily,lineHeight:u.lineHeight},{width:R,height:O}=CachedTextMeasurerPool3.measureText(d,{font:C});y={text:d,fontSize:u.fontSize,lineHeight:getLineHeight(u,u.fontSize),width:R,height:O}}if(y==null){p.visible=!1;return}const m=h?n.x:n.y+n.height,x=h?n.x+n.width:n.y,S=h?l.x:l.y+l.height,D=h?l.x+l.width:l.y,M=u.spacing*(h?1:-1);let N,v,b,I;switch(u.placement){case"outside-start":N=-1/0,v=1/0,b=m-M,I="Before";break;case"outside-end":N=-1/0,v=1/0,b=x+M,I="After";break;case"inside-start":N=m,v=D,b=m+M,I="After";break;case"inside-end":N=D,v=x,b=x-M,I="Before";break;case"inside-center":N=m,v=x,b=(m+x)/2,I="Center";break;case"bar-inside":N=S,v=D,b=(S+D)/2,I="Center";break;case"bar-inside-end":N=S,v=D,b=D-M,I="Before";break;case"bar-outside-end":N=D,v=x,b=D+M,I="After";break;case"bar-end":N=-1/0,v=1/0,b=D,I="Center";break}const k=h?b:n.x+n.width/2,P=h?n.y+n.height/2:b;let _,A;h?(_=k+horizontalAlignFactors[I]*y.width,A=_+y.width):(_=P+verticalAlignFactors2[I]*y.height,A=_+y.height);const L=Math.min(_,A)>=Math.min(N,v)&&Math.max(_,A)<=Math.max(N,v);if(u.avoidCollisions&&!L){p.visible=!1;return}p.visible=!0,p.text=y.text,p.fontSize=y.fontSize,p.lineHeight=y.lineHeight,p.textAlign=h?horizontalTextAligns[I]:"center",p.textBaseline=h?"middle":verticalTextBaselines[I],p.x=k,p.y=P})}var{fromToMotion:fromToMotion2,resetMotion:resetMotion3,SeriesNodePickMode:SeriesNodePickMode8,StateMachine,createDatumId:createDatumId12,CachedTextMeasurerPool:CachedTextMeasurerPool4,toRadians:toRadians3,BBox:BBox9,Group:Group8,PointerEvents:PointerEvents5,Selection:Selection6,Rect:Rect6,Text,TransformableText:TransformableText2,Marker,LinearScale:LinearScale3,AxisTickGenerator:AxisTickGenerator2,NiceMode,easing,getColorStops,findRangeExtent}=import_ag_charts_community94._ModuleSupport,horizontalTargetPlacementRotation={before:180,middle:0,after:0},verticalTargetPlacementRotation={before:90,middle:0,after:-90},LinearGaugeAxis=class{constructor(e,t){this.gauge=e,this.ctx=t}get defaultTickMinSpacing(){return 0}get range(){return this.gauge.range}get reverse(){return!1}get scale(){return this.gauge.scale}get label(){return this.gauge.properties.scale.label}get interval(){return this.gauge.properties.scale.interval}formatTick(e,t,i,a,s,o){const{label:r}=this;return this.formatWithContext(e,t,i)??(r.format!=null?o?.(e):void 0)??this.gauge.formatLabel(e)}formatWithContext(e,t,i){let a;return this.label.formatter&&(a=formatWithContext(this.ctx,this.label.formatter,{value:e,index:t,domain:i,boundSeries:void 0})),a}inRange(){return!0}},LinearGaugeSeries=class extends import_ag_charts_community94._ModuleSupport.Series{constructor(e){super({moduleCtx:e,useLabelLayer:!0,pickModes:[SeriesNodePickMode8.EXACT_SHAPE_MATCH,SeriesNodePickMode8.NEAREST_NODE]}),this.properties=new LinearGaugeSeriesProperties,this.seriesRect=BBox9.NaN,this.gaugeRect=BBox9.NaN,this.scale=new LinearScale3,this.originX=0,this.originY=0,this.scaleGroup=this.contentGroup.appendChild(new Group8({name:"scaleGroup"})),this.itemGroup=this.contentGroup.appendChild(new Group8({name:"itemGroup"})),this.itemTargetGroup=this.contentGroup.appendChild(new Group8({name:"itemTargetGroup"})),this.itemTargetLabelGroup=this.contentGroup.appendChild(new Group8({name:"itemTargetLabelGroup"})),this.itemLabelGroup=this.contentGroup.appendChild(new Group8({name:"itemLabelGroup"})),this.highlightTargetGroup=this.highlightGroup.appendChild(new Group8({name:"itemTargetLabelGroup"})),this.tickGroup=this.contentGroup.appendChild(new Group8({name:"tickGroup"})),this.scaleSelection=Selection6.select(this.scaleGroup,()=>this.nodeFactory()),this.datumSelection=Selection6.select(this.itemGroup,()=>this.nodeFactory()),this.targetSelection=Selection6.select(this.itemTargetGroup,()=>this.markerFactory()),this.targetLabelSelection=Selection6.select(this.itemTargetLabelGroup,Text),this.labelSelection=Selection6.select(this.itemLabelGroup,Text),this.highlightTargetSelection=Selection6.select(this.highlightTargetGroup,()=>this.markerFactory()),this.tickSelection=Selection6.select(this.tickGroup,TransformableText2),this.datumUnion=new DatumUnion,this.axis=new LinearGaugeAxis(this,e),this.tickGenerator=new AxisTickGenerator2(this.axis),this.animationState=new StateMachine("empty",{empty:{update:{target:"ready",action:()=>this.animateEmptyUpdateReady()},reset:"empty",skip:"ready"},ready:{updateData:"waiting",clear:"clearing",resize:()=>this.animateReadyResize(),reset:"empty",skip:"ready"},waiting:{update:{target:"ready",action:()=>this.animateWaitingUpdateReady()},reset:"empty",skip:"ready"},clearing:{update:{target:"empty"},reset:"empty",skip:"ready"}}),this.scaleGroup.pointerEvents=PointerEvents5.None,this.tickGroup.pointerEvents=PointerEvents5.None}get range(){return this.horizontal?[0,this.gaugeRect.width]:[0,this.gaugeRect.height]}get horizontal(){return this.properties.direction==="horizontal"}get hasData(){return!0}nodeFactory(){const e=new Rect6;return e.crisp=!0,e}markerFactory(){return new Marker}processData(){this.nodeDataRefresh=!0,this.animationState.transition("updateData")}formatLabel(e){return formatLabel(e,this.properties.scale)}createLinearGradient(e,t,i){const{properties:a,horizontal:s}=this,{defaultColorRange:o}=a;return{type:"gradient",gradient:"linear",colorSpace:"oklch",colorStops:getColorStops(t,o,e.domain,i),rotation:s?90:0}}getShapeFillBBox(){const{properties:e,originX:t,originY:i,horizontal:a,scale:s}=this,{thickness:o}=e,r=findRangeExtent(s.range);return new BBox9(t,i,a?r:o,a?o:r)}getTargets(){const{properties:e}=this,t=e.defaultTarget;return Array.from(e.targets).map(i=>{const{text:a=t.text,value:s=t.value??0,shape:o=t.shape??"triangle",rotation:r=t.rotation??0,strokeWidth:n=t.strokeWidth??0,placement:l=t.placement??"middle",spacing:c=t.spacing??0,size:h=t.size??0,fill:p=t.fill??"black",fillOpacity:u=t.fillOpacity??1,stroke:d=t.stroke??"black",strokeOpacity:f=t.strokeOpacity??1,lineDash:g=t.lineDash??[0],lineDashOffset:y=t.lineDashOffset??0}=i,{enabled:m=t.label.enabled,color:x=t.label.color??"black",fontStyle:S=t.label.fontStyle??"normal",fontWeight:D=t.label.fontWeight??"normal",fontSize:M=t.label.fontSize,fontFamily:N=t.label.fontFamily,spacing:v=t.label.spacing??0}=i.label;return{text:a,value:s,shape:o,placement:l,spacing:c,size:h,rotation:r,fill:p,fillOpacity:u,stroke:d,strokeWidth:n,strokeOpacity:f,lineDash:g,lineDashOffset:y,label:{enabled:m,color:x,fontStyle:S,fontWeight:D,fontSize:M,fontFamily:N,spacing:v}}})}getTargetPoint(e){const{properties:t,originX:i,originY:a,horizontal:s,scale:o,gaugeRect:r}=this,{thickness:n}=t,{value:l,placement:c,spacing:h,size:p}=e,u=o.convert(l);let d;switch(c){case"before":d=-(h+p/2);break;case"after":d=n+h+p/2;break;default:d=n/2;break}return{x:i+r.x+(s?u:d),y:a+r.y+(s?d:u)}}getTargetLabel(e){const{size:t,placement:i,label:a}=e,{spacing:s,color:o,fontStyle:r,fontWeight:n,fontSize:l,fontFamily:c}=a,h=void 0,p=t/2+s;let u,d,f=0,g=0;return this.horizontal?(u="center",i==="after"?(d="top",g=p):(d="bottom",g=-p)):(d="middle",i==="before"?(u="right",f=-p):(u="left",f=p)),{offsetX:f,offsetY:g,fill:o,textAlign:u,textBaseline:d,fontStyle:r,fontWeight:n,fontSize:l,fontFamily:c,lineHeight:h}}labelDatum(e,t){const{placement:i,avoidCollisions:a,spacing:s,text:o,color:r,fontSize:n,minimumFontSize:l,fontStyle:c,fontWeight:h,fontFamily:p,lineHeight:u,wrapping:d,overflowStrategy:f,formatter:g=y=>this.formatLabel(y.value)}=e;return{placement:i,avoidCollisions:a,spacing:s,text:o,value:t,fill:r,fontSize:n,minimumFontSize:l,fontStyle:c,fontWeight:h,fontFamily:p,lineHeight:u,wrapping:d,overflowStrategy:f,formatter:g}}verticalLabelInset(){const{properties:e}=this,{label:t}=e,i=t.text?.split(`
`),a=getLineHeight(t,t.fontSize)*(i?.length??1);return t.spacing+a}horizontalLabelInset(){const{scale:e,properties:t}=this,{scale:i,label:a}=t,s=a.text?.split(`
`),o=a.getFont(),r=i.interval.values??e.ticks({nice:!1,interval:i.interval.step,minTickCount:0,maxTickCount:6,tickCount:5})?.ticks??[],l=(s??r?.map(c=>getLabelText(this.id,this.ctx,this.labelDatum(a,c))??"")).reduce((c,h)=>{const{width:p}=CachedTextMeasurerPool4.measureText(h,{font:o});return Math.max(c,p)},0);return a.spacing+l}createNodeData(){const{id:e,properties:t,horizontal:i,scale:a,seriesRect:s}=this,{value:o,segmentation:r,thickness:n,cornerRadius:l,cornerMode:c,bar:h,scale:p,label:u}=t;a.domain=[p.min,p.max],a.range=i?[0,s.width]:[s.height,0];let d,f;i?(f=1,d=Math.PI/2):p.label.placement==="before"?(f=1,d=0):(f=-1,d=0);const g=d-Math.PI/2;let y,m,x,S;i?(y=0,m=s.width,x=(s.height-n)/2,S=x+n,u.placement==="outside-start"?y+=this.horizontalLabelInset():u.placement==="outside-end"&&(m-=this.horizontalLabelInset())):(y=(s.width-n)/2,m=y+n,S=0,x=s.height,u.placement==="outside-start"?x-=this.verticalLabelInset():u.placement==="outside-end"&&(S+=this.verticalLabelInset())),this.gaugeRect=new BBox9(Math.min(y,m),Math.min(x,S),Math.abs(m-y),Math.abs(S-x));const D=0,M=0;a.domain=[p.min,p.max],a.range=i?[y,m]:[x,S];const{ticks:N}=this.tickGenerator.generateTicks({domain:a.domain,primaryTickCount:void 0,visibleRange:[0,1],niceMode:NiceMode.Off,labelX:0,parallelFlipRotation:d,regularFlipRotation:g,sideFlag:f,removeOverflowLabels:!1}).tickData,v=!1,b=this.getTargets(),I=[],k=[],P=[],_=[],[A,L]=a.range,C=Math.abs(L-A),R=i?a.convert(o):m,O=i?S:a.convert(o),B=r.enabled?r.spacing/2:0,T=i?B:0,F=i?0:B,w=Math.min(h.thickness??Math.round(h.thicknessRatio*n),n),E=-(n-w)/2,G=i?0:E,W=i?E:0,V=c==="item",K=Math.ceil(C);let z=r.enabled?r.interval.getSegments(a,K):void 0;const X=h.fill??this.createLinearGradient(a,h.fills,h.fillMode),Y=p.fill??(h.enabled&&p.fills.length===0?p.defaultFill:void 0)??this.createLinearGradient(a,p.fills,p.fillMode);if(z==null&&V){const H=Math.min(...a.domain),$=Math.max(...a.domain),j={value:o,segmentStart:H,segmentEnd:$};if(h.enabled){const te=Math.min(l,w/2,C/2)*(v?-1:1),J=i?te:0,ee=i?0:te;I.push({series:this,itemId:"value",datum:j,datumIndex:{type:0},type:0,x0:D+y-J-G,y0:M+x-ee-W,x1:D+R+J+G,y1:M+O+ee+W,clipX0:void 0,clipY0:void 0,clipX1:void 0,clipY1:void 0,topLeftCornerRadius:l,topRightCornerRadius:l,bottomRightCornerRadius:l,bottomLeftCornerRadius:l,fill:X,horizontalInset:T,verticalInset:F})}const q=Math.min(l,n/2,C/2)*(v?-1:1),ae=i?q:0,se=i?0:q;_.push({series:this,itemId:"scale",datum:j,datumIndex:{type:0},type:0,x0:D+y-ae,y0:M+x-se,x1:D+m+ae,y1:M+S+se,clipX0:void 0,clipY0:void 0,clipX1:void 0,clipY1:void 0,topLeftCornerRadius:l,topRightCornerRadius:l,bottomRightCornerRadius:l,bottomLeftCornerRadius:l,fill:Y,horizontalInset:T,verticalInset:F})}else{z??(z=a.domain);const H=D+y-G,$=M+x-W,j=D+R+G,Z=M+O+W;for(let q=0;q<z.length-1;q+=1){const ae=z[q+0],se=z[q+1],Q={value:o,segmentStart:ae,segmentEnd:se},te=q===0,J=q===z.length-2,ee=a.convert(ae),ie=a.convert(se),oe=V||te?l:0,re=V||J?l:0,ne=i?oe:re,he=re,le=i?re:oe,ce=oe;h.enabled&&I.push({series:this,itemId:`value-${q}`,datum:Q,datumIndex:{type:0},type:0,x0:D+(i?ee:y),y0:M+(i?x:ee),x1:D+(i?ie:m),y1:M+(i?S:ie),clipX0:H,clipY0:$,clipX1:j,clipY1:Z,topLeftCornerRadius:ne,topRightCornerRadius:he,bottomRightCornerRadius:le,bottomLeftCornerRadius:ce,fill:X,horizontalInset:T,verticalInset:F}),_.push({series:this,itemId:`scale-${q}`,datum:Q,datumIndex:{type:0},type:0,x0:D+(i?ee:y),y0:M+(i?x:ee),x1:D+(i?ie:m),y1:M+(i?S:ie),clipX0:void 0,clipY0:void 0,clipX1:void 0,clipY1:void 0,topLeftCornerRadius:ne,topRightCornerRadius:he,bottomRightCornerRadius:le,bottomLeftCornerRadius:ce,fill:Y,horizontalInset:T,verticalInset:F})}}u.enabled&&P.push(this.labelDatum(u,o));const U=i?horizontalTargetPlacementRotation:verticalTargetPlacementRotation;for(let H=0;H<b.length;H+=1){const $=b[H],{value:j,text:Z,shape:q,size:ae,fill:se,fillOpacity:Q,stroke:te,strokeWidth:J,strokeOpacity:ee,lineDash:ie,lineDashOffset:oe}=$,re=this.getTargetPoint($),ne=toRadians3($.rotation+U[$.placement]);k.push({series:this,itemId:`target-${H}`,midPoint:re,datum:{value:j},datumIndex:{type:1,index:H},type:1,value:j,text:Z,x:re.x,y:re.y,shape:q,size:ae,rotation:ne,fill:se,fillOpacity:Q,stroke:te,strokeOpacity:ee,strokeWidth:J,lineDash:ie,lineDashOffset:oe,label:this.getTargetLabel($)})}return{itemId:e,nodeData:I,tickData:N,targetData:k,labelData:P,scaleData:_}}updateSelections(e){(this.nodeDataRefresh||e)&&(this.contextNodeData=this.createNodeData(),this.nodeDataRefresh=!1)}highlightDatum(e){if(e!=null&&e.series===this&&e.type===1)return e}update({seriesRect:e}){const{datumSelection:t,labelSelection:i,targetSelection:a,targetLabelSelection:s,scaleSelection:o,highlightTargetSelection:r,tickSelection:n}=this;this.seriesRect=e??BBox9.NaN;const l=this.checkResize(e);this.updateSelections(l),this.contentGroup.visible=this.visible,this.contentGroup.opacity=this.getOpacity();const c=this.contextNodeData?.nodeData??[],h=this.contextNodeData?.labelData??[],p=this.contextNodeData?.targetData??[],u=this.contextNodeData?.scaleData??[],d=this.contextNodeData?.tickData??[],f=this.highlightDatum(this.ctx.highlightManager.getActiveHighlight());this.scaleSelection=this.updateScaleSelection({scaleData:u,scaleSelection:o}),this.updateScaleNodes({scaleSelection:o}),this.targetSelection=this.updateTargetSelection({targetData:p,targetSelection:a}),this.updateTargetNodes({targetSelection:a,isHighlight:!1}),this.targetLabelSelection=this.updateTargetLabelSelection({targetData:p,targetLabelSelection:s}),this.updateTargetLabelNodes({targetLabelSelection:s}),this.datumSelection=this.updateDatumSelection({nodeData:c,datumSelection:t}),this.updateDatumNodes({datumSelection:t}),this.labelSelection=this.updateLabelSelection({labelData:h,labelSelection:i}),this.updateLabelNodes({labelSelection:i}),this.highlightTargetSelection=this.updateTargetSelection({targetData:f!=null?[f]:[],targetSelection:r}),this.updateTargetNodes({targetSelection:r,isHighlight:!0}),this.tickSelection=this.updateTickSelection({tickData:d,tickSelection:n}),this.updateTickNodes({tickSelection:n}),l&&this.animationState.transition("resize"),this.animationState.transition("update")}updateDatumSelection(e){return e.datumSelection.update(e.nodeData,void 0,t=>createDatumId12(e.nodeData.length,t.itemId))}updateDatumNodes(e){const{datumSelection:t}=e,{ctx:i,properties:a}=this,{bar:s}=a,{fillOpacity:o,stroke:r,strokeOpacity:n,lineDash:l,lineDashOffset:c}=s,h=this.getStrokeWidth(s.strokeWidth),p=i.animationManager.isSkipped(),u=this.getShapeFillBBox();t.each((d,f)=>{const{topLeftCornerRadius:g,topRightCornerRadius:y,bottomRightCornerRadius:m,bottomLeftCornerRadius:x,fill:S}=f;d.fill=S,d.fillBBox=u,d.fillOpacity=o,d.stroke=r,d.strokeOpacity=n,d.strokeWidth=h,d.lineDash=l,d.lineDashOffset=c,d.topLeftCornerRadius=g,d.topRightCornerRadius=y,d.bottomRightCornerRadius=m,d.bottomLeftCornerRadius=x,d.pointerEvents=this.properties.bar.enabled?import_ag_charts_community94._ModuleSupport.PointerEvents.All:import_ag_charts_community94._ModuleSupport.PointerEvents.None,(p||d.previousDatum==null)&&d.setProperties(resetLinearGaugeSeriesResetRectFunction(d,f))}),this.datumUnion.update(t,this.itemGroup,import_ag_charts_community94._ModuleSupport.Rect,(d,f,g)=>{d.pointerEvents=import_ag_charts_community94._ModuleSupport.PointerEvents.None,d.clipBBox??(d.clipBBox=new BBox9(NaN,NaN,NaN,NaN)),d.x=f.x,d.y=f.y,d.clipBBox.x=f.clipBBox?.x??f.x,d.clipBBox.y=f.clipBBox?.y??f.y,this.horizontal?(d.height=d.clipBBox.height=g.height,d.width=g===f?g.width:g.x+g.width,d.clipBBox.width=d.width-(g.width-(g.clipBBox?.width??g.width)),d.topLeftCornerRadius=f.topLeftCornerRadius,d.bottomLeftCornerRadius=f.bottomLeftCornerRadius,d.topRightCornerRadius=g.topRightCornerRadius,d.bottomRightCornerRadius=g.bottomRightCornerRadius):(d.width=d.clipBBox.width=g.width,d.height=g===f?g.height:g.x+g.height,d.clipBBox.height=d.height-(g.height-(g.clipBBox?.height??g.height)),d.topLeftCornerRadius=f.topLeftCornerRadius,d.topRightCornerRadius=f.topRightCornerRadius,d.bottomLeftCornerRadius=g.bottomLeftCornerRadius,d.bottomRightCornerRadius=g.bottomRightCornerRadius)})}updateScaleSelection(e){return e.scaleSelection.update(e.scaleData,void 0,t=>createDatumId12(e.scaleData.length,t.itemId))}updateScaleNodes(e){const{scaleSelection:t}=e,{scale:i}=this.properties,{fillOpacity:a,stroke:s,strokeOpacity:o,strokeWidth:r,lineDash:n,lineDashOffset:l}=i,c=this.getShapeFillBBox();t.each((h,p)=>{const{topLeftCornerRadius:u,topRightCornerRadius:d,bottomRightCornerRadius:f,bottomLeftCornerRadius:g,fill:y}=p;h.fill=y,h.fillBBox=c,h.fillOpacity=a,h.stroke=s,h.strokeOpacity=o,h.strokeWidth=r,h.lineDash=n,h.lineDashOffset=l,h.topLeftCornerRadius=u,h.topRightCornerRadius=d,h.bottomRightCornerRadius=f,h.bottomLeftCornerRadius=g,h.setProperties(resetLinearGaugeSeriesResetRectFunction(h,p))})}updateTargetSelection(e){return e.targetSelection.update(e.targetData,void 0,t=>t.itemId)}updateTargetNodes(e){const{targetSelection:t,isHighlight:i}=e,a=i?this.properties.highlightStyle.item:void 0;t.each((s,o)=>{const{x:r,y:n,shape:l,size:c,rotation:h,fill:p,fillOpacity:u,stroke:d,strokeOpacity:f,strokeWidth:g,lineDash:y,lineDashOffset:m}=o;s.size=c,s.shape=l==="line"?lineMarker:l,s.fill=a?.fill??p,s.fillOpacity=a?.fillOpacity??u,s.stroke=a?.stroke??d,s.strokeOpacity=a?.strokeOpacity??f,s.strokeWidth=a?.strokeWidth??g,s.lineDash=a?.lineDash??y,s.lineDashOffset=a?.lineDashOffset??m,s.translationX=r,s.translationY=n,s.rotation=h})}updateTargetLabelSelection(e){return e.targetLabelSelection.update(e.targetData)}updateTargetLabelNodes(e){const{targetLabelSelection:t}=e;t.each((i,a)=>{const{x:s,y:o,text:r}=a,{offsetX:n,offsetY:l,fill:c,fontStyle:h,fontWeight:p,fontSize:u,fontFamily:d,textAlign:f,textBaseline:g}=a.label;i.visible=!0,i.x=s+n,i.y=o+l,i.text=r,i.fill=c,i.fontStyle=h,i.fontWeight=p,i.fontSize=u,i.fontFamily=d,i.textAlign=f,i.textBaseline=g})}updateTickSelection(e){return e.tickSelection.update(e.tickData,void 0,t=>t.tickId)}updateTickNodes(e){const{gaugeRect:t,properties:i}=this,a=i.defaultScale,{enabled:s,color:o,fontFamily:r=a.label.fontFamily,fontSize:n=a.label.fontSize,fontStyle:l,fontWeight:c=a.label.fontWeight,spacing:h}=i.scale.label;let{placement:p}=i.scale.label;const u=toRadians3(i.scale.label.rotation??0);let d,f,g,y;this.horizontal?(p??(p="after"),d="center",f=p==="before"?"bottom":"top",y=this.originY+t.y+(p==="before"?-h:t.height+h)):(p??(p="before"),d=p==="before"?"end":"start",f="middle",g=this.originX+t.x+(p==="before"?-h:t.width+h)),e.tickSelection.each((m,x)=>{if(!s){m.visible=!1;return}const S=g??x.translationY,D=y??x.translationY;m.visible=!0,m.text=x.tickLabel,m.fill=o,m.fontFamily=r,m.fontSize=n,m.fontStyle=l,m.fontWeight=c,m.textBaseline=f,m.textAlign=d,m.x=S,m.y=D,m.rotationCenterX=S,m.rotationCenterY=D,m.rotation=u})}updateLabelSelection(e){return e.labelSelection.update(e.labelData,void 0,t=>"primary")}updateLabelNodes(e){const{labelSelection:t}=e,i=this.ctx.animationManager.isSkipped();t.each((a,s)=>{a.fill=s.fill,a.fontStyle=s.fontStyle,a.fontWeight=s.fontWeight,a.fontFamily=s.fontFamily}),(i||this.labelsHaveExplicitText())&&this.formatLabelText()}labelsHaveExplicitText(){for(const{datum:e}of this.labelSelection)if(e.text==null)return!1;return!0}formatLabelText(e){const{labelSelection:t,horizontal:i,scale:a,seriesRect:s,gaugeRect:o}=this,{x:r,y:n,width:l,height:c}=o,h=e?.label??this.properties.value;let p;if(i){const f=a.convert(h);p=new BBox9(r,n,f-r,c)}else{const f=a.convert(h);p=new BBox9(r,f,l,c-f)}const u={seriesRect:s,gaugeRect:o,barRect:p},{margin:d}=this.properties;formatLinearGaugeLabels(this,this.ctx,t,{padding:d,horizontal:i},u,e)}resetAllAnimation(){this.ctx.animationManager.stopByAnimationGroupId(this.id),resetMotion3([this.datumSelection],resetLinearGaugeSeriesResetRectFunction),this.formatLabelText()}resetAnimation(e){e==="initial"?this.animationState.transition("reset"):e==="ready"&&this.animationState.transition("skip")}animateLabelText(e={}){const{animationManager:t}=this.ctx;let i=0,a=0;if(this.labelSelection.each((s,o)=>{s.opacity=1,i=s.previousDatum?.value??e.from??o.value,a=o.value}),!this.labelsHaveExplicitText())if(i===a)this.formatLabelText({label:a});else{const s=`${this.id}_labels`;t.animate({id:s,groupId:"label",from:{label:i},to:{label:a},phase:e.phase??"update",ease:easing.easeOut,onUpdate:o=>this.formatLabelText(o)})}}animateEmptyUpdateReady(){const{animationManager:e}=this.ctx,{node:t}=prepareLinearGaugeSeriesAnimationFunctions(!0,this.horizontal);fromToMotion2(this.id,"node",e,[this.datumSelection],t,(i,a)=>a.itemId),fromToMotion2(this.id,"label",e,[this.labelSelection],fadeInFns,()=>"primary"),this.animateLabelText({from:0,phase:"initial"})}animateWaitingUpdateReady(){const{animationManager:e}=this.ctx,{node:t}=prepareLinearGaugeSeriesAnimationFunctions(!1,this.horizontal);fromToMotion2(this.id,"node",e,[this.datumSelection],t,(i,a)=>a.itemId),this.animateLabelText()}animateReadyResize(){this.resetAllAnimation()}getSeriesDomain(){return[0,1]}getSeriesRange(e,t){return[NaN,NaN]}getLegendData(){return[]}getTooltipContent(e){const{id:t,properties:i}=this,{tooltip:a}=i;let s,o;if(e.type===0?(s=i.value,o=i.label.text):{value:s,text:o}=i.targets[e.index],s!=null)return this.formatTooltipWithContext(a,{data:[{label:o,fallbackLabel:"Value",value:this.formatLabel(s)}]},{seriesId:t,title:void 0,datum:void 0,value:s})}pickNodeClosestDatum(e){return pickGaugeNearestDatum(this,e)}pickFocus(e){return pickGaugeFocus(this,e)}getCaptionText(){return this.formatLabel(this.properties.value)}getCategoryValue(e){}datumIndexForCategoryValue(e){}};LinearGaugeSeries.className="LinearGaugeSeries",LinearGaugeSeries.type="linear-gauge";var LinearGaugeModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["gauge"],identifier:"linear-gauge",moduleFactory:e=>new LinearGaugeSeries(e),tooltipDefaults:{range:10},themeTemplate:{minWidth:200,minHeight:200,tooltip:{enabled:!1},series:{thickness:50,defaultColorRange:{$if:[{$eq:[{$palette:"type"},"inbuilt"]},{$interpolate:[{$palette:"secondDivergingColors"},5]},import_ag_charts_community95._ModuleSupport.SAFE_RANGE2_OPERATION]},scale:{defaultFill:{$path:["./1",{$palette:"fill"},{$palette:"hierarchyColors"}]},stroke:{$path:["./2",import_ag_charts_community95._ModuleSupport.SAFE_STROKE_FILL_OPERATION,{$palette:"hierarchyColors"}]},label:{spacing:11}},bar:{strokeWidth:0},segmentation:{enabled:!1,interval:{},spacing:1},defaultTarget:{fill:{$ref:"foregroundColor"},stroke:{$ref:"foregroundColor"},size:10,shape:"triangle",placement:"after",spacing:5,label:{enabled:!0,fontWeight:{$ref:"fontWeight"},fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},color:{$ref:"textColor"},spacing:5}},defaultScale:{label:{fontWeight:{$ref:"fontWeight"},fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},color:{$ref:"textColor"}}},label:{enabled:!1,placement:"inside-start",fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},fontSize:{$rem:[2]},minimumFontSize:12,spacing:18,color:{$ref:"backgroundColor"}},margin:4}}},LinearGaugeSeriesModule={type:"series",name:"linear-gauge",chartType:"gauge",enterprise:!0,options:import_ag_charts_community95._ModuleSupport.linearGaugeSeriesOptionsDef,create:e=>new LinearGaugeSeries(e)},import_ag_charts_community102=require("ag-charts-community"),MAP_THEME_DEFAULTS={zoom:{axes:"xy",anchorPointX:"pointer",anchorPointY:"pointer",buttons:{anchorPointX:"middle",anchorPointY:"middle"}},legend:{enabled:!1},gradientLegend:{enabled:!1}},import_ag_charts_community100=require("ag-charts-community"),import_ag_charts_core31=require("ag-charts-core"),import_ag_charts_community97=require("ag-charts-community"),delta2=1e-9;function lineSegmentDistanceToPointSquared(e,t,i,a){const[s,o]=e,[r,n]=t,l=r-s,c=n-o,h=l*l+c*c;let p,u;if(Math.abs(h)<delta2)p=s,u=o;else{let g=((i-s)*l+(a-o)*c)/h;g=Math.max(0,Math.min(1,g)),p=s+g*(r-s),u=o+g*(n-o)}const d=i-p,f=a-u;return d*d+f*f}function lineStringDistance(e,t,i){let a=1/0,s=e[e.length-1];for(const o of e)a=Math.min(a,lineSegmentDistanceToPointSquared(s,o,t,i)),s=o;return Math.sqrt(a)}function lineStringLength(e){let[t,i]=e[0],a=0;for(let s=1;s<e.length;s+=1){const[o,r]=e[s],n=Math.hypot(o-t,r-i);a+=n,t=o,i=r}return a}function lineStringCenter(e){if(e.length===0)return;const t=lineStringLength(e)/2;let[i,a]=e[0],s=0;for(let o=1;o<e.length;o+=1){const[r,n]=e[o],l=Math.hypot(r-i,n-a),c=s+l;if(c>t){const h=(t-s)/l,p=[i+(r-i)*h,a+(n-a)*h],u=Math.atan2(n-a,r-i);return{point:p,angle:u}}s=c,i=r,a=n}}var import_ag_charts_community96=require("ag-charts-community"),{LonLatBBox}=import_ag_charts_community96._ModuleSupport;function extendBbox(e,t,i,a,s){return e==null?e=new LonLatBBox(t,i,a,s):(e.lon0=Math.min(e.lon0,t),e.lat0=Math.min(e.lat0,i),e.lon1=Math.max(e.lon1,a),e.lat1=Math.max(e.lat1,s)),e}function polygonBbox(e,t){return e.forEach(i=>{const[a,s]=i;t=extendBbox(t,a,s,a,s)}),t}function polygonCentroid(e){if(e.length===0)return;let t=0,i=0,a=0,[s,o]=e[e.length-1];for(const[r,n]of e){const l=s*n-r*o;a+=l,t+=(s+r)*l,i+=(o+n)*l,s=r,o=n}return a*=3,[t/a,i/a]}function polygonDistance(e,t,i){let a=!1,s=1/0;for(const o of e){let r=o[o.length-1],[n,l]=r;for(const c of o){const[h,p]=c;p>i!=l>i&&t<(n-h)*(i-p)/(l-p)+h&&(a=!a),s=Math.min(s,lineSegmentDistanceToPointSquared(r,c,t,i)),r=c,n=h,l=p}}return(a?-1:1)*Math.sqrt(s)}var{Path:Path8,ExtendedPath2D:ExtendedPath2D2,BBox:BBox10,SceneChangeDetection:SceneChangeDetection5,SceneObjectChangeDetection,objectsEqual}=import_ag_charts_community97._ModuleSupport,GeoGeometry=class extends Path8{constructor(){super(...arguments),this.projectedGeometry=void 0,this.renderMode=3,this.strokePath=new ExtendedPath2D2}computeBBox(){return(this.dirtyPath||this.isDirtyPath())&&(this.updatePath(),this.dirtyPath=!1),this.bbox?.clone()}updatePath(){const{projectedGeometry:e}=this;this.strokePath.clear(),this.path.clear(),this.bbox=e!=null?this.drawGeometry(e,void 0):void 0}drawPath(e){super.drawPath(e),this.renderStroke(e,this.strokePath.getPath2D())}containsPoint(e,t){const{projectedGeometry:i}=this;return i==null||!this.getBBox().containsPoint(e,t)?!1:this.geometryDistance(i,e,t)<=0}distanceSquared(e,t){const{projectedGeometry:i}=this;if(i==null)return 1/0;const a=this.geometryDistance(i,e,t);return a>0?a*a:0}geometryDistance(e,t,i){const{renderMode:a,strokeWidth:s}=this,o=(a&1)!==0,r=(a&2)!==0,n=Math.max(s/2,1)+1;switch(e.type){case"GeometryCollection":return e.geometries.reduce((l,c)=>Math.min(l,this.geometryDistance(c,t,i)),1/0);case"MultiPolygon":return o?e.coordinates.reduce((l,c)=>Math.min(l,Math.max(polygonDistance(c,t,i),0)),1/0):1/0;case"Polygon":return o?Math.max(polygonDistance(e.coordinates,t,i),0):1/0;case"MultiLineString":return r?e.coordinates.reduce((l,c)=>Math.min(l,Math.max(lineStringDistance(c,t,i)-n,0)),1/0):1/0;case"LineString":return r?Math.max(lineStringDistance(e.coordinates,t,i)-n,0):1/0;case"MultiPoint":case"Point":default:return 1/0}}drawGeometry(e,t){const{renderMode:i,path:a,strokePath:s}=this,o=(i&1)!==0,r=(i&2)!==0;switch(e.type){case"GeometryCollection":e.geometries.forEach(n=>{t=this.drawGeometry(n,t)});break;case"MultiPolygon":o&&e.coordinates.forEach(n=>{t=this.drawPolygon(a,n,t)});break;case"Polygon":o&&(t=this.drawPolygon(a,e.coordinates,t));break;case"LineString":r&&(t=this.drawLineString(s,e.coordinates,t,!1));break;case"MultiLineString":r&&e.coordinates.forEach(n=>{t=this.drawLineString(s,n,t,!1)});break;case"Point":case"MultiPoint":break}return t}drawPolygon(e,t,i){if(t.length<1)return i;i=this.drawLineString(e,t[0],i,!0);for(let a=1;a<t.length;a+=1){const s=t[a];this.drawLineString(e,s,void 0,!0)}return i}drawLineString(e,t,i,a){if(t.length<2)return i;const s=a?t.length-1:t.length;for(let o=0;o<s;o+=1){const[r,n]=t[o];if(o===0?e.moveTo(r,n):e.lineTo(r,n),i==null)i=new BBox10(r,n,0,0);else{const{x:l,y:c}=i,h=l+i.width,p=c+i.height;i.x=Math.min(l,r),i.y=Math.min(c,n),i.width=Math.max(h,r)-i.x,i.height=Math.max(p,n)-i.y}}return a&&e.closePath(),i}};__decorateClass([SceneObjectChangeDetection({equals:objectsEqual})],GeoGeometry.prototype,"projectedGeometry",2),__decorateClass([SceneChangeDetection5()],GeoGeometry.prototype,"renderMode",2);function geometryBbox(e,t){if(e.bbox!=null){const[i,a,s,o]=e.bbox;return t=extendBbox(t,i,a,s,o),t}switch(e.type){case"GeometryCollection":e.geometries.forEach(i=>{t=geometryBbox(i,t)});break;case"MultiPolygon":e.coordinates.forEach(i=>{i.length>0&&(t=polygonBbox(i[0],t))});break;case"Polygon":e.coordinates.length>0&&(t=polygonBbox(e.coordinates[0],t));break;case"MultiLineString":e.coordinates.forEach(i=>{t=polygonBbox(i,t)});break;case"LineString":t=polygonBbox(e.coordinates,t);break;case"MultiPoint":e.coordinates.forEach(i=>{const[a,s]=i;t=extendBbox(t,a,s,a,s)});break;case"Point":{const[i,a]=e.coordinates;t=extendBbox(t,i,a,i,a);break}}return t}function largestPolygon(e){switch(e.type){case"GeometryCollection":{let t,i;return e.geometries.forEach(a=>{const s=largestPolygon(a);if(s==null)return;const o=polygonBbox(s[0],void 0);if(o==null)return;const r=Math.abs(o.lat1-o.lat0)*Math.abs(o.lon1-o.lon0);(t==null||r>t)&&(t=r,i=s)}),i}case"MultiPolygon":{let t,i;return e.coordinates.forEach(a=>{const s=polygonBbox(a[0],void 0);if(s==null)return;const o=Math.abs(s.lat1-s.lat0)*Math.abs(s.lon1-s.lon0);(t==null||o>t)&&(t=o,i=a)}),i}case"Polygon":return e.coordinates;case"MultiLineString":case"LineString":case"MultiPoint":case"Point":return}}function largestLineString(e){switch(e.type){case"GeometryCollection":{let t,i;return e.geometries.forEach(a=>{const s=largestLineString(a);if(s==null)return;const o=lineStringLength(s);o!=null&&(t==null||o>t)&&(t=o,i=s)}),i}case"MultiLineString":{let t=0,i;return e.coordinates.forEach(a=>{const s=lineStringLength(a);s>t&&(t=s,i=a)}),i}case"LineString":return e.coordinates;case"MultiPolygon":case"Polygon":case"MultiPoint":case"Point":return}}function containsType(e,t){if(e==null)return!1;switch(e.type){case"GeometryCollection":return e.geometries.some(i=>containsType(i,t));case"MultiPolygon":case"Polygon":return(t&1)!==0;case"MultiLineString":case"LineString":return(t&2)!==0;case"MultiPoint":case"Point":return(t&4)!==0}}function projectGeometry(e,t){switch(e.type){case"GeometryCollection":return{type:"GeometryCollection",geometries:e.geometries.map(i=>projectGeometry(i,t))};case"Polygon":return{type:"Polygon",coordinates:projectPolygon(e.coordinates,t)};case"MultiPolygon":return{type:"MultiPolygon",coordinates:projectMultiPolygon(e.coordinates,t)};case"MultiLineString":return{type:"MultiLineString",coordinates:projectPolygon(e.coordinates,t)};case"LineString":return{type:"LineString",coordinates:projectLineString(e.coordinates,t)};case"MultiPoint":return{type:"MultiPoint",coordinates:projectLineString(e.coordinates,t)};case"Point":return{type:"Point",coordinates:t.convert(e.coordinates)}}}function projectMultiPolygon(e,t){return e.map(i=>projectPolygon(i,t))}function projectPolygon(e,t){return e.map(i=>projectLineString(i,t))}function projectLineString(e,t){return e.map(i=>t.convert(i))}function prepareMapMarkerAnimationFunctions(){return{fromFn:(i,a,s)=>s==="removed"?{scalingX:1,scalingY:1}:i.previousDatum==null?{scalingX:0,scalingY:0}:{scalingX:i.scalingX,scalingY:i.scalingY},toFn:(i,a,s)=>s==="removed"?{scalingX:0,scalingY:0}:{scalingX:1,scalingY:1}}}function findFocusedGeoGeometry(e,t){const i=e.contextNodeData?.nodeData[t.datumIndex];if(i!==void 0){for(const a of e.datumSelection.nodes())if(a.datum===i)return a}}var import_ag_charts_community98=require("ag-charts-community"),TopologySeriesProperties=class extends import_ag_charts_community98._ModuleSupport.SeriesProperties{},TopologySeries=class extends import_ag_charts_community98._ModuleSupport.DataModelSeries{addChartEventListeners(){this.destroyFns.push(this.ctx.chartEventManager.addListener("legend-item-click",e=>{this.onLegendItemClick(e)}),this.ctx.chartEventManager.addListener("legend-item-double-click",e=>{this.onLegendItemDoubleClick(e)}))}getSeriesDomain(){return[NaN,NaN]}getSeriesRange(e,t){return[NaN,NaN]}},import_ag_charts_community99=require("ag-charts-community"),{Property:Property26,SeriesProperties:SeriesProperties3,SeriesTooltip:SeriesTooltip12,Label:Label8}=import_ag_charts_community99._ModuleSupport,MapLineSeriesProperties=class extends SeriesProperties3{constructor(){super(...arguments),this.topology=void 0,this.idKey="",this.topologyIdKey="name",this.idName=void 0,this.labelKey=void 0,this.labelName=void 0,this.colorRange=void 0,this.maxStrokeWidth=void 0,this.stroke="black",this.strokeOpacity=1,this.strokeWidth=0,this.lineDash=[0],this.lineDashOffset=0,this.label=new Label8,this.tooltip=new SeriesTooltip12}};__decorateClass([Property26],MapLineSeriesProperties.prototype,"topology",2),__decorateClass([Property26],MapLineSeriesProperties.prototype,"title",2),__decorateClass([Property26],MapLineSeriesProperties.prototype,"legendItemName",2),__decorateClass([Property26],MapLineSeriesProperties.prototype,"idKey",2),__decorateClass([Property26],MapLineSeriesProperties.prototype,"topologyIdKey",2),__decorateClass([Property26],MapLineSeriesProperties.prototype,"idName",2),__decorateClass([Property26],MapLineSeriesProperties.prototype,"labelKey",2),__decorateClass([Property26],MapLineSeriesProperties.prototype,"labelName",2),__decorateClass([Property26],MapLineSeriesProperties.prototype,"sizeKey",2),__decorateClass([Property26],MapLineSeriesProperties.prototype,"sizeName",2),__decorateClass([Property26],MapLineSeriesProperties.prototype,"colorKey",2),__decorateClass([Property26],MapLineSeriesProperties.prototype,"colorName",2),__decorateClass([Property26],MapLineSeriesProperties.prototype,"sizeDomain",2),__decorateClass([Property26],MapLineSeriesProperties.prototype,"colorRange",2),__decorateClass([Property26],MapLineSeriesProperties.prototype,"maxStrokeWidth",2),__decorateClass([Property26],MapLineSeriesProperties.prototype,"stroke",2),__decorateClass([Property26],MapLineSeriesProperties.prototype,"strokeOpacity",2),__decorateClass([Property26],MapLineSeriesProperties.prototype,"strokeWidth",2),__decorateClass([Property26],MapLineSeriesProperties.prototype,"lineDash",2),__decorateClass([Property26],MapLineSeriesProperties.prototype,"lineDashOffset",2),__decorateClass([Property26],MapLineSeriesProperties.prototype,"itemStyler",2),__decorateClass([Property26],MapLineSeriesProperties.prototype,"label",2),__decorateClass([Property26],MapLineSeriesProperties.prototype,"tooltip",2);var{getMissCount:getMissCount2,createDatumId:createDatumId13,SeriesNodePickMode:SeriesNodePickMode9,valueProperty:valueProperty9,CachedTextMeasurerPool:CachedTextMeasurerPool5,ColorScale:ColorScale2,LinearScale:LinearScale4,Selection:Selection7,Text:Text2,Transformable:Transformable2}=import_ag_charts_community100._ModuleSupport,MapLineSeries=class extends TopologySeries{constructor(e){super({moduleCtx:e,categoryKey:void 0,useLabelLayer:!0,pickModes:[SeriesNodePickMode9.EXACT_SHAPE_MATCH,SeriesNodePickMode9.NEAREST_NODE],usesPlacedLabels:!0}),this.properties=new MapLineSeriesProperties,this._chartTopology=void 0,this.colorScale=new ColorScale2,this.sizeScale=new LinearScale4,this.datumSelection=Selection7.select(this.contentGroup,()=>this.nodeFactory()),this.labelSelection=Selection7.select(this.labelGroup,Text2),this.highlightDatumSelection=Selection7.select(this.highlightNode,()=>this.nodeFactory()),this._previousDatumMidPoint=void 0}getNodeData(){return this.contextNodeData?.nodeData}get topology(){return this.properties.topology??this._chartTopology}get hasData(){return super.hasData&&this.topology!=null}renderToOffscreenCanvas(){return!0}setSeriesIndex(e){return super.setSeriesIndex(e)?(this.contentGroup.zIndex=[1,e],this.highlightGroup.zIndex=[2,e],!0):!1}setChartTopology(e){this._chartTopology=e,this.topology===e&&(this.nodeDataRefresh=!0)}isLabelEnabled(){return this.properties.labelKey!=null&&this.properties.label.enabled}nodeFactory(){const e=new GeoGeometry;return e.renderMode=2,e.lineJoin="round",e.lineCap="round",e}async processData(e){if(this.data==null)return;const{data:t,topology:i,sizeScale:a,colorScale:s}=this,{topologyIdKey:o,idKey:r,sizeKey:n,colorKey:l,labelKey:c,sizeDomain:h,colorRange:p}=this.properties,u=new Map;i?.features.forEach(S=>{const D=S.properties?.[o];D==null||!containsType(S.geometry,2)||u.set(D,S)});const d=this.sizeScale.type,f=this.colorScale.type,g=this.scale?.type,{dataModel:y,processedData:m}=await this.requestDataModel(e,t,{props:[valueProperty9(r,g,{id:"idValue",includeProperty:!1}),valueProperty9(r,g,{id:"featureValue",includeProperty:!1,processor:()=>S=>u.get(S)}),...c!=null?[valueProperty9(c,"band",{id:"labelValue"})]:[],...n!=null?[valueProperty9(n,d,{id:"sizeValue"})]:[],...l!=null?[valueProperty9(l,f,{id:"colorValue"})]:[]]}),x=y.resolveColumnById(this,"featureValue",m);if(this.topologyBounds=x.reduce((S,D)=>{const M=D?.geometry;return M==null?S:geometryBbox(M,S)},void 0),n!=null){const S=y.resolveProcessedDataIndexById(this,"sizeValue"),D=m.domain.values[S]??[];a.domain=h??D}if(p!=null&&this.isColorScaleValid()){const S=y.resolveProcessedDataIndexById(this,"colorValue");s.domain=m.domain.values[S],s.range=p,s.update()}i==null&&import_ag_charts_core31.Logger.warnOnce("no topology was provided for [MapLineSeries]; nothing will be rendered.")}isColorScaleValid(){const{colorKey:e}=this.properties;if(!e)return!1;const{dataModel:t,processedData:i}=this;if(!t||!i)return!1;const a=t.resolveProcessedDataIndexById(this,"colorValue"),s=i.input.count,o=getMissCount2(this,i.defs.values[a].missing);return!(s===0||s===o)}getLabelDatum(e,t,i,a){if(t==null||i==null)return;const s=largestLineString(i);if(s==null)return;const{idKey:o,idName:r,sizeKey:n,sizeName:l,colorKey:c,colorName:h,labelKey:p,labelName:u,label:d}=this.properties,f=this.getLabelText(d,{value:t,datum:e,idKey:o,idName:r,sizeKey:n,sizeName:l,colorKey:c,colorName:h,labelKey:p,labelName:u});if(f==null)return;const g=CachedTextMeasurerPool5.measureText(String(f),{font:a}),y=lineStringCenter(s);if(y==null)return;const[m,x]=y.point,{width:S,height:D}=g;return{point:{x:m,y:x,size:0},label:{width:S,height:D,text:f},anchor:void 0,placement:void 0}}createNodeData(){const{id:e,dataModel:t,processedData:i,sizeScale:a,properties:s,scale:o}=this,{idKey:r,sizeKey:n,colorKey:l,labelKey:c,label:h}=s;if(t==null||i==null)return;const p=t.resolveColumnById(this,"idValue",i),u=t.resolveColumnById(this,"featureValue",i),d=c!=null?t.resolveColumnById(this,"labelValue",i):void 0,f=n!=null?t.resolveColumnById(this,"sizeValue",i):void 0,g=l!=null?t.resolveColumnById(this,"colorValue",i):void 0,y=s.maxStrokeWidth??s.strokeWidth;a.range=[Math.min(s.strokeWidth,y),y];const m=h.getFont(),x=new Map;i.dataSources.get(this.id)?.forEach((b,I)=>{const k=p[I],P=u[I]?.geometry??void 0,_=P!=null&&o!=null?projectGeometry(P,o):void 0;k!=null&&_!=null&&x.set(k,_)});const S=[],D=[],M=[];(i.dataSources.get(this.id)??[]).forEach((b,I)=>{const k=p[I],P=g?.[I],_=f?.[I],A=d?.[I],L=x.get(k);L==null&&M.push(k);const C=this.getLabelDatum(b,A,L,m);C!=null&&D.push(C),S.push({series:this,itemId:r,datum:b,datumIndex:I,idValue:k,labelValue:A,colorValue:P,sizeValue:_,projectedGeometry:L})});const v=10;if(M.length>v){const b=M.length-v;M.length=v,M.push(`(+${b} more)`)}return M.length>0&&import_ag_charts_core31.Logger.warnOnce("some data items do not have matches in the provided topology",M),{itemId:e,nodeData:S,labelData:D}}updateSelections(){this.nodeDataRefresh&&(this.contextNodeData=this.createNodeData(),this.nodeDataRefresh=!1)}update(){const{datumSelection:e,highlightDatumSelection:t}=this;this.updateSelections(),this.contentGroup.visible=this.visible,this.contentGroup.opacity=this.getOpacity();let i=this.ctx.highlightManager?.getActiveHighlight();i!=null&&(i.series!==this||i.datum==null)&&(i=void 0);const a=this.contextNodeData?.nodeData??[];this.datumSelection=this.updateDatumSelection({nodeData:a,datumSelection:e}),this.updateDatumNodes({datumSelection:e,isHighlight:!1}),this.highlightDatumSelection=this.updateDatumSelection({nodeData:i!=null?[i]:[],datumSelection:t}),this.updateDatumNodes({datumSelection:t,isHighlight:!0})}updateDatumSelection(e){return e.datumSelection.update(e.nodeData,void 0,t=>createDatumId13(t.idValue))}getItemBaseStyle(e){const{properties:t}=this,i=e?t.highlightStyle.item:void 0;return{stroke:i?.stroke??t.stroke,strokeWidth:i?.strokeWidth??this.getStrokeWidth(t.strokeWidth),strokeOpacity:i?.strokeOpacity??t.strokeOpacity,lineDash:i?.lineDash??t.lineDash,lineDashOffset:i?.lineDashOffset??t.lineDashOffset}}getItemStyleOverrides(e,t,i,a,s,o){const{id:r,properties:n,colorScale:l,sizeScale:c}=this,{colorRange:h,itemStyler:p}=n;let u;if(!o&&i!=null&&(u??(u={}),u.stroke=this.isColorScaleValid()?l.convert(i):h?.[0]??n.stroke),a!=null&&(u??(u={}),u.strokeWidth=c.convert(a,{clamp:!0})),p!=null){const d=this.cachedDatumCallback(createDatumId13(e,o?"highlight":"node"),()=>this.callWithContext(p,{seriesId:r,datum:t,highlighted:o,...s,...u}));u??(u={}),Object.assign(u,d)}return u}updateDatumNodes(e){const{datumSelection:t,isHighlight:i}=e,a=this.getItemBaseStyle(i);t.each((s,o)=>{const{datum:r,datumIndex:n,colorValue:l,sizeValue:c,projectedGeometry:h}=o;if(h==null){s.visible=!1,s.projectedGeometry=void 0;return}const p=this.getItemStyleOverrides(String(n),r,l,c,a,i);s.visible=!0,s.projectedGeometry=h,s.stroke=p?.stroke??a.stroke,s.strokeWidth=p?.strokeWidth??a.strokeWidth,s.strokeOpacity=p?.strokeOpacity??a.strokeOpacity,s.lineDash=p?.lineDash??a.lineDash,s.lineDashOffset=p?.lineDashOffset??a.lineDashOffset})}updatePlacedLabelData(e){this.labelSelection=this.labelSelection.update(e,t=>{t.pointerEvents=import_ag_charts_community100._ModuleSupport.PointerEvents.None}),this.updateLabelNodes({labelSelection:this.labelSelection})}updateLabelNodes(e){const{labelSelection:t}=e,{color:i,fontStyle:a,fontWeight:s,fontSize:o,fontFamily:r}=this.properties.label;t.each((n,{x:l,y:c,width:h,height:p,text:u})=>{n.visible=!0,n.x=l+h/2,n.y=c+p/2,n.text=u,n.fill=i,n.fontStyle=a,n.fontWeight=s,n.fontSize=o,n.fontFamily=r,n.textAlign="center",n.textBaseline="middle"})}resetAnimation(){}getLabelData(){return this.isLabelEnabled()?this.contextNodeData?.labelData??[]:[]}pickNodeClosestDatum({x:e,y:t}){let i=1/0,a;return this.datumSelection.each((s,o)=>{const r=s.distanceSquared(e,t);r<i&&(i=r,a=o)}),a!=null?{datum:a,distance:Math.sqrt(i)}:void 0}datumMidPoint(e){const{_previousDatumMidPoint:t}=this;if(t?.datum===e)return t.point;const i=e.projectedGeometry,a=i!=null?largestLineString(i):void 0,s=a!=null?lineStringCenter(a)?.point:void 0,o=s!=null?{x:s[0],y:s[1]}:void 0;return this._previousDatumMidPoint={datum:e,point:o},o}legendItemSymbol(e){const{dataModel:t,processedData:i,properties:a}=this,{strokeWidth:s,strokeOpacity:o,lineDash:r}=a;let{stroke:n}=a;if(e!=null&&this.isColorScaleValid()){const c=t.resolveColumnById(this,"colorValue",i)[e];n=this.colorScale.convert(c)}return{marker:{fill:void 0,fillOpacity:0,stroke:void 0,strokeWidth:0,strokeOpacity:0,lineDash:[0],lineDashOffset:0,enabled:!1},line:{stroke:n,strokeWidth:s,strokeOpacity:o,lineDash:r}}}getLegendData(e){const{processedData:t,dataModel:i}=this;if(t==null||i==null)return[];const{id:a,visible:s}=this,{title:o,legendItemName:r,idKey:n,idName:l,colorKey:c,colorName:h,colorRange:p,showInLegend:u}=this.properties;if(e==="gradient"&&c!=null&&p!=null){const d=t.domain.values[i.resolveProcessedDataIndexById(this,"colorValue")];return[{legendType:"gradient",enabled:s,seriesId:a,colorName:h,colorRange:p,colorDomain:d}]}else return e==="category"?[{legendType:"category",id:a,itemId:a,seriesId:a,enabled:s,label:{text:r??o??l??n},symbol:this.legendItemSymbol(),legendItemName:r,hideInLegend:!u}]:[]}getTooltipContent(e){const{id:t,dataModel:i,processedData:a,properties:s}=this,{idKey:o,idName:r,colorKey:n,colorName:l,sizeKey:c,sizeName:h,labelKey:p,labelName:u,title:d,legendItemName:f,tooltip:g}=s;if(!i||!a)return;const y=a.dataSources.get(this.id)?.[e],m=i.resolveColumnById(this,"idValue",a),x=[],S=c!=null?i.resolveColumnById(this,"sizeValue",a)[e]:void 0,D=n!=null?i.resolveColumnById(this,"colorValue",a)[e]:void 0;if(c!=null&&x.push({label:h,fallbackLabel:c,value:String(S)}),n!=null&&x.push({label:l,fallbackLabel:n,value:String(D)}),p!=null&&p!==o){const N=i.resolveColumnById(this,"labelValue",a)[e];x.push({label:u,fallbackLabel:p,value:N})}const M=this.getItemBaseStyle(!1);return Object.assign(M,this.getItemStyleOverrides(String(e),e,D,S,M,!1)),this.formatTooltipWithContext(g,{heading:m[e],title:d??f,symbol:this.legendItemSymbol(e),data:x},{seriesId:t,datum:y,title:d,idKey:o,idName:r,colorKey:n,colorName:l,sizeKey:c,sizeName:h,labelKey:p,labelName:u,...M})}computeFocusBounds(e){const t=findFocusedGeoGeometry(this,e);return t?Transformable2.toCanvas(this.contentGroup,t.getBBox()):void 0}};MapLineSeries.className="MapLineSeries",MapLineSeries.type="map-line";var import_ag_charts_community101=require("ag-charts-community"),import_ag_charts_core32=require("ag-charts-core"),{commonSeriesOptionsDefs:commonSeriesOptionsDefs11,mapLineSeriesThemeableOptionsDef,without:without2}=import_ag_charts_community101._ModuleSupport,mapLineSeriesOptionsDef={...mapLineSeriesThemeableOptionsDef,...without2(commonSeriesOptionsDefs11,["highlightStyle"]),type:(0,import_ag_charts_core32.required)((0,import_ag_charts_core32.constant)("map-line")),idKey:(0,import_ag_charts_core32.required)(import_ag_charts_core32.string),sizeKey:import_ag_charts_core32.string,colorKey:import_ag_charts_core32.string,labelKey:import_ag_charts_core32.string,idName:import_ag_charts_core32.string,sizeName:import_ag_charts_core32.string,colorName:import_ag_charts_core32.string,labelName:import_ag_charts_core32.string,topology:import_ag_charts_core32.geoJson,topologyIdKey:import_ag_charts_core32.string,legendItemName:import_ag_charts_core32.string,title:import_ag_charts_core32.string};mapLineSeriesOptionsDef.colorRange=(0,import_ag_charts_core32.undocumented)((0,import_ag_charts_core32.and)((0,import_ag_charts_core32.arrayOf)(import_ag_charts_core32.color),(0,import_ag_charts_core32.arrayLength)(1)));var MapLineModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["topology"],identifier:"map-line",moduleFactory:e=>new MapLineSeries(e),tooltipDefaults:{range:"exact"},themeTemplate:{...MAP_THEME_DEFAULTS,series:{stroke:import_ag_charts_community102._ModuleSupport.SAFE_STROKE_FILL_OPERATION,colorRange:{$if:[{$eq:[{$palette:"type"},"inbuilt"]},{$palette:"divergingColors"},import_ag_charts_community102._ModuleSupport.SAFE_RANGE2_OPERATION]},strokeWidth:1,maxStrokeWidth:3,lineDash:[0],lineDashOffset:0,label:{enabled:!0,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"}}},tooltip:{range:"exact"}}},MapLineSeriesModule={type:"series",name:"map-line",chartType:"topology",enterprise:!0,options:mapLineSeriesOptionsDef,create:e=>new MapLineSeries(e)},import_ag_charts_community106=require("ag-charts-community"),import_ag_charts_community104=require("ag-charts-community"),import_ag_charts_core33=require("ag-charts-core"),import_ag_charts_community103=require("ag-charts-community"),{Property:Property27,SeriesProperties:SeriesProperties4,SeriesTooltip:SeriesTooltip13}=import_ag_charts_community103._ModuleSupport,MapLineBackgroundSeriesProperties=class extends SeriesProperties4{constructor(){super(...arguments),this.topology=void 0,this.stroke="black",this.strokeOpacity=1,this.strokeWidth=0,this.lineDash=[0],this.lineDashOffset=0,this.tooltip=new SeriesTooltip13}};__decorateClass([Property27],MapLineBackgroundSeriesProperties.prototype,"topology",2),__decorateClass([Property27],MapLineBackgroundSeriesProperties.prototype,"stroke",2),__decorateClass([Property27],MapLineBackgroundSeriesProperties.prototype,"strokeOpacity",2),__decorateClass([Property27],MapLineBackgroundSeriesProperties.prototype,"strokeWidth",2),__decorateClass([Property27],MapLineBackgroundSeriesProperties.prototype,"lineDash",2),__decorateClass([Property27],MapLineBackgroundSeriesProperties.prototype,"lineDashOffset",2),__decorateClass([Property27],MapLineBackgroundSeriesProperties.prototype,"tooltip",2);var{createDatumId:createDatumId14,SeriesNodePickMode:SeriesNodePickMode10,Group:Group9,Selection:Selection8,PointerEvents:PointerEvents6}=import_ag_charts_community104._ModuleSupport,MapLineBackgroundSeries=class extends TopologySeries{constructor(e){super({moduleCtx:e,categoryKey:void 0,useLabelLayer:!0,pickModes:[SeriesNodePickMode10.EXACT_SHAPE_MATCH]}),this.properties=new MapLineBackgroundSeriesProperties,this._chartTopology=void 0,this.itemGroup=this.contentGroup.appendChild(new Group9({name:"itemGroup"})),this.datumSelection=Selection8.select(this.itemGroup,()=>this.nodeFactory())}getNodeData(){return this.contextNodeData?.nodeData}get topology(){return this.properties.topology??this._chartTopology}get focusable(){return!1}setOptionsData(){}setChartData(){}get hasData(){return!1}renderToOffscreenCanvas(){return!0}setChartTopology(e){this._chartTopology=e,this.topology===e&&(this.nodeDataRefresh=!0)}setSeriesIndex(e){return super.setSeriesIndex(e)?(this.contentGroup.zIndex=[0,e,0],this.highlightGroup.zIndex=[0,e,1],!0):!1}nodeFactory(){const e=new GeoGeometry;return e.renderMode=2,e.lineJoin="round",e.lineCap="round",e.pointerEvents=PointerEvents6.None,e}processData(){const{topology:e}=this;this.topologyBounds=e?.features.reduce((t,i)=>{const a=i.geometry;return a==null?t:geometryBbox(a,t)},void 0),e==null&&import_ag_charts_core33.Logger.warnOnce("no topology was provided for [MapShapeBackgroundSeries]; nothing will be rendered.")}createNodeData(){const{id:e,topology:t,scale:i}=this;if(t==null)return;const a=[],s=[];return t.features.forEach((o,r)=>{const{geometry:n}=o,l=n!=null&&i!=null?projectGeometry(n,i):void 0;l!=null&&a.push({series:this,itemId:r,datum:o,datumIndex:0,index:r,projectedGeometry:l})}),{itemId:e,nodeData:a,labelData:s}}updateSelections(){this.nodeDataRefresh&&(this.contextNodeData=this.createNodeData(),this.nodeDataRefresh=!1)}update(){const{datumSelection:e}=this;this.updateSelections(),this.contentGroup.visible=this.visible;const{nodeData:t=[]}=this.contextNodeData??{};this.datumSelection=this.updateDatumSelection({nodeData:t,datumSelection:e}),this.updateDatumNodes({datumSelection:e})}updateDatumSelection(e){return e.datumSelection.update(e.nodeData,void 0,t=>createDatumId14(t.index))}updateDatumNodes(e){const{properties:t}=this,{datumSelection:i}=e,{stroke:a,strokeOpacity:s,lineDash:o,lineDashOffset:r}=t,n=this.getStrokeWidth(t.strokeWidth);i.each((l,c)=>{const{projectedGeometry:h}=c;if(h==null){l.visible=!1,l.projectedGeometry=void 0;return}l.visible=!0,l.projectedGeometry=h,l.stroke=a,l.strokeWidth=n,l.strokeOpacity=s,l.lineDash=o,l.lineDashOffset=r})}resetAnimation(){}getLegendData(){return[]}getTooltipContent(e){}computeFocusBounds(e){}};MapLineBackgroundSeries.className="MapLineBackgroundSeries",MapLineBackgroundSeries.type="map-line-background";var import_ag_charts_community105=require("ag-charts-community"),import_ag_charts_core34=require("ag-charts-core"),{mapLineBackgroundSeriesThemeableOptionsDef}=import_ag_charts_community105._ModuleSupport,mapLineBackgroundSeriesOptionsDef={...mapLineBackgroundSeriesThemeableOptionsDef,type:(0,import_ag_charts_core34.required)((0,import_ag_charts_core34.constant)("map-line-background")),topology:import_ag_charts_core34.geoJson},MapLineBackgroundModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["topology"],identifier:"map-line-background",moduleFactory:e=>new MapLineBackgroundSeries(e),tooltipDefaults:{range:"exact"},themeTemplate:{...MAP_THEME_DEFAULTS,series:{stroke:{$path:["./1",{$palette:"stroke"},{$palette:"secondHierarchyColors"}]},strokeWidth:1,lineDash:[0],lineDashOffset:0}}},MapLineBackgroundSeriesModule={type:"series",name:"map-line-background",chartType:"topology",enterprise:!0,options:mapLineBackgroundSeriesOptionsDef,create:e=>new MapLineBackgroundSeries(e)},import_ag_charts_community111=require("ag-charts-community"),import_ag_charts_core37=require("ag-charts-core"),import_ag_charts_community109=require("ag-charts-community"),import_ag_charts_core35=require("ag-charts-core"),insertManySorted=(e,t,i)=>{let a=e,s=a;for(const o of t)if(a==null||i(a.value,o)>0)a={value:o,next:a},s=a;else{for(s=s;s.next!=null&&i(s.next.value,o)<=0;)s=s.next;s.next={value:o,next:s.next}}return a};function polygonPointSearch(e,t,i){const a=polygonBbox(e[0],void 0);if(a==null)return;const s=(a.lon0+a.lon1)/2,o=(a.lat0+a.lat1)/2,r=Math.abs(a.lon1-a.lon0),n=Math.abs(a.lat1-a.lat0),l=polygonCentroid(e[0]),[c,h]=l,p=-polygonDistance(e,c,h);let u;const d=(M,N)=>{const b=Math.max(N-p,0);return M-.5*b},f=(M,N,v)=>{const{distance:b,maxDistance:I}=i(e,M,N,v),k=Math.hypot(c-M,h-N),P=Math.min(Math.max(c,M-v/2),M+v/2),_=Math.min(Math.max(h,N-v/2),N+v/2),A=Math.hypot(c-P,h-_),L=d(b,k),C=d(I,A);return{distance:b,maxDistance:I,value:L,maxValue:C,x:M,y:N,stride:v}},g=(M,N,v,b)=>{const I=f(N,v,b);I.maxDistance>=0&&M.push(I)},y=Math.min(r,n)/2;let m={value:f(s,o,y),next:null};for(;m!=null;){const M=m.value,{distance:N,value:v,maxValue:b,x:I,y:k,stride:P}=M;if(m=m.next,N>0&&(u==null||v>u.value)&&(u=M),u!=null&&b-u.value<=t)continue;const _=P/2,A=[];g(A,I-_,k-_,_),g(A,I+_,k-_,_),g(A,I-_,k+_,_),g(A,I+_,k+_,_),A.sort(labelPlacementCmp),m=insertManySorted(m,A,labelPlacementCmp)}if(u==null)return;const{distance:x,x:S,y:D}=u;return{x:S,y:D,distance:x}}var labelPlacementCmp=(e,t)=>t.maxValue-e.maxValue;function polygonMarkerCenter(e,t){const i=polygonPointSearch(e,t,(o,r,n,l)=>{const c=-polygonDistance(o,r,n),h=c+l*Math.SQRT2;return{distance:c,maxDistance:h}});if(i==null)return;const{x:a,y:s}=i;return[a,s]}function markerPositions(e,t){let i;switch(e.type){case"GeometryCollection":return e.geometries.flatMap(a=>markerPositions(a,t));case"MultiPoint":return e.coordinates;case"Point":return[e.coordinates];case"MultiPolygon":{const a=largestPolygon(e);i=a!=null?polygonMarkerCenter(a,t):void 0;break}case"Polygon":{const a=e.coordinates;i=a!=null?polygonMarkerCenter(a,t):void 0;break}case"MultiLineString":{const a=largestLineString(e);i=a!=null?lineStringCenter(a)?.point:void 0;break}case"LineString":{const a=e.coordinates;i=lineStringCenter(a)?.point;break}}return i!=null?[i]:[]}var import_ag_charts_community107=require("ag-charts-community"),{BBox:BBox11}=import_ag_charts_community107._ModuleSupport;function getTopologyShapeFillBBox(e){if(!e)return;const{range:t}=e,i=t[0][0],a=t[0][1],s=t[1][0]-i,o=t[1][1]-a,r=new BBox11(i,a,s,o);return{series:r,axis:r}}var import_ag_charts_community108=require("ag-charts-community"),{FillGradientDefaults:FillGradientDefaults9,FillPatternDefaults:FillPatternDefaults9,FillImageDefaults:FillImageDefaults9,Property:Property28,SeriesProperties:SeriesProperties5,SeriesTooltip:SeriesTooltip14,Label:Label9}=import_ag_charts_community108._ModuleSupport,MapMarkerSeriesLabel=class extends Label9{constructor(){super(...arguments),this.placement="bottom"}};__decorateClass([Property28],MapMarkerSeriesLabel.prototype,"placement",2);var MapMarkerSeriesProperties=class extends SeriesProperties5{constructor(){super(...arguments),this.topology=void 0,this.idKey=void 0,this.topologyIdKey="name",this.idName=void 0,this.latitudeKey=void 0,this.latitudeName=void 0,this.longitudeKey=void 0,this.longitudeName=void 0,this.labelKey=void 0,this.labelName=void 0,this.colorRange=void 0,this.shape="circle",this.size=6,this.fill="black",this.fillGradientDefaults=new FillGradientDefaults9,this.fillPatternDefaults=new FillPatternDefaults9,this.fillImageDefaults=new FillImageDefaults9,this.fillOpacity=1,this.stroke="black",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.label=new MapMarkerSeriesLabel,this.tooltip=new SeriesTooltip14}};__decorateClass([Property28],MapMarkerSeriesProperties.prototype,"topology",2),__decorateClass([Property28],MapMarkerSeriesProperties.prototype,"title",2),__decorateClass([Property28],MapMarkerSeriesProperties.prototype,"legendItemName",2),__decorateClass([Property28],MapMarkerSeriesProperties.prototype,"idKey",2),__decorateClass([Property28],MapMarkerSeriesProperties.prototype,"topologyIdKey",2),__decorateClass([Property28],MapMarkerSeriesProperties.prototype,"idName",2),__decorateClass([Property28],MapMarkerSeriesProperties.prototype,"latitudeKey",2),__decorateClass([Property28],MapMarkerSeriesProperties.prototype,"latitudeName",2),__decorateClass([Property28],MapMarkerSeriesProperties.prototype,"longitudeKey",2),__decorateClass([Property28],MapMarkerSeriesProperties.prototype,"longitudeName",2),__decorateClass([Property28],MapMarkerSeriesProperties.prototype,"labelKey",2),__decorateClass([Property28],MapMarkerSeriesProperties.prototype,"labelName",2),__decorateClass([Property28],MapMarkerSeriesProperties.prototype,"sizeKey",2),__decorateClass([Property28],MapMarkerSeriesProperties.prototype,"sizeName",2),__decorateClass([Property28],MapMarkerSeriesProperties.prototype,"colorKey",2),__decorateClass([Property28],MapMarkerSeriesProperties.prototype,"colorName",2),__decorateClass([Property28],MapMarkerSeriesProperties.prototype,"colorRange",2),__decorateClass([Property28],MapMarkerSeriesProperties.prototype,"shape",2),__decorateClass([Property28],MapMarkerSeriesProperties.prototype,"size",2),__decorateClass([Property28],MapMarkerSeriesProperties.prototype,"maxSize",2),__decorateClass([Property28],MapMarkerSeriesProperties.prototype,"sizeDomain",2),__decorateClass([Property28],MapMarkerSeriesProperties.prototype,"fill",2),__decorateClass([Property28],MapMarkerSeriesProperties.prototype,"fillGradientDefaults",2),__decorateClass([Property28],MapMarkerSeriesProperties.prototype,"fillPatternDefaults",2),__decorateClass([Property28],MapMarkerSeriesProperties.prototype,"fillImageDefaults",2),__decorateClass([Property28],MapMarkerSeriesProperties.prototype,"fillOpacity",2),__decorateClass([Property28],MapMarkerSeriesProperties.prototype,"stroke",2),__decorateClass([Property28],MapMarkerSeriesProperties.prototype,"strokeWidth",2),__decorateClass([Property28],MapMarkerSeriesProperties.prototype,"strokeOpacity",2),__decorateClass([Property28],MapMarkerSeriesProperties.prototype,"lineDash",2),__decorateClass([Property28],MapMarkerSeriesProperties.prototype,"lineDashOffset",2),__decorateClass([Property28],MapMarkerSeriesProperties.prototype,"itemStyler",2),__decorateClass([Property28],MapMarkerSeriesProperties.prototype,"label",2),__decorateClass([Property28],MapMarkerSeriesProperties.prototype,"tooltip",2);var{CachedTextMeasurerPool:CachedTextMeasurerPool6,fromToMotion:fromToMotion3,StateMachine:StateMachine2,getMissCount:getMissCount3,createDatumId:createDatumId15,SeriesNodePickMode:SeriesNodePickMode11,valueProperty:valueProperty10,computeMarkerFocusBounds:computeMarkerFocusBounds2,ColorScale:ColorScale3,LinearScale:LinearScale5,Group:Group10,Selection:Selection9,Text:Text3,Marker:Marker2,applyShapeStyle:applyShapeStyle9,getShapeStyle:getShapeStyle10}=import_ag_charts_community109._ModuleSupport,MapMarkerSeries=class extends TopologySeries{constructor(e){super({moduleCtx:e,categoryKey:void 0,useLabelLayer:!0,pickModes:[SeriesNodePickMode11.EXACT_SHAPE_MATCH,SeriesNodePickMode11.NEAREST_NODE],usesPlacedLabels:!0}),this.properties=new MapMarkerSeriesProperties,this._chartTopology=void 0,this.colorScale=new ColorScale3,this.sizeScale=new LinearScale5,this.markerGroup=this.contentGroup.appendChild(new Group10({name:"markerGroup"})),this.labelSelection=Selection9.select(this.labelGroup,Text3,!1),this.markerSelection=Selection9.select(this.markerGroup,Marker2,!1),this.highlightMarkerSelection=Selection9.select(this.highlightNode,Marker2),this.animationState=new StateMachine2("empty",{empty:{update:{target:"ready",action:()=>this.animateMarkers()},reset:"empty",skip:"ready"},ready:{updateData:"waiting",clear:"clearing",resize:()=>this.resetAllAnimation(),reset:"empty",skip:"ready"},waiting:{update:{target:"ready",action:()=>this.animateMarkers()},resize:{target:"ready",action:()=>this.resetAllAnimation()},reset:"empty",skip:"ready"},clearing:{update:{target:"empty",action:()=>this.resetAllAnimation()},reset:"empty",skip:"ready"}},()=>this.checkProcessedDataAnimatable())}getNodeData(){return this.contextNodeData?.nodeData}get topology(){return this.properties.topology??this._chartTopology}get hasData(){const e=this.properties.latitudeKey!=null&&this.properties.longitudeKey!=null;return super.hasData&&(this.topology!=null||e)}renderToOffscreenCanvas(){return!0}setChartTopology(e){this._chartTopology=e,this.topology===e&&(this.nodeDataRefresh=!0)}setSeriesIndex(e){return super.setSeriesIndex(e)?(this.contentGroup.zIndex=[3,e],this.highlightGroup.zIndex=[4,e],!0):!1}isLabelEnabled(){return this.properties.labelKey!=null&&this.properties.label.enabled}async processData(e){if(this.data==null)return;const{data:t,topology:i,sizeScale:a,colorScale:s}=this,{topologyIdKey:o,idKey:r,latitudeKey:n,longitudeKey:l,sizeKey:c,colorKey:h,labelKey:p,sizeDomain:u,colorRange:d}=this.properties,f=new Map;i?.features.forEach(b=>{const I=b.properties?.[o];I!=null&&f.set(I,b)});const g=this.sizeScale.type,y=this.colorScale.type,m=this.scale?.type,x=n!=null&&l!=null,{dataModel:S,processedData:D}=await this.requestDataModel(e,t,{props:[...r!=null?[valueProperty10(r,m,{id:"idValue",includeProperty:!1}),valueProperty10(r,m,{id:"featureValue",includeProperty:!1,processor:()=>b=>f.get(b)})]:[],...x?[valueProperty10(n,m,{id:"latValue"}),valueProperty10(l,m,{id:"lonValue"})]:[],...p?[valueProperty10(p,"band",{id:"labelValue"})]:[],...c?[valueProperty10(c,g,{id:"sizeValue"})]:[],...h?[valueProperty10(h,y,{id:"colorValue"})]:[]]}),M=r!=null?S.resolveColumnById(this,"featureValue",D):void 0,N=x?S.resolveColumnById(this,"latValue",D):void 0,v=x?S.resolveColumnById(this,"lonValue",D):void 0;if(this.topologyBounds=D.dataSources.get(this.id)?.reduce((b,I,k)=>{const _=M?.[k]?.geometry;if(_!=null&&(b=geometryBbox(_,b)),N!=null&&v!=null){const A=v[k],L=N[k];b=extendBbox(b,A,L,A,L)}return b},void 0),c!=null){const b=S.resolveProcessedDataIndexById(this,"sizeValue"),I=D.domain.values[b]??[];a.domain=u??I}if(d!=null&&this.isColorScaleValid()){const b=S.resolveProcessedDataIndexById(this,"colorValue");s.domain=D.domain.values[b],s.range=d,s.update()}this.animationState.transition("updateData")}isColorScaleValid(){const{colorKey:e}=this.properties;if(!e)return!1;const{dataModel:t,processedData:i}=this;if(!t||!i)return!1;const a=t.resolveProcessedDataIndexById(this,"colorValue"),s=i.input.count,o=getMissCount3(this,i.defs.values[a].missing);return!(s===0||s===o)}getLabelDatum(e,t,i,a,s,o){if(t==null)return;const{idKey:r,idName:n,latitudeKey:l,latitudeName:c,longitudeKey:h,longitudeName:p,sizeKey:u,sizeName:d,colorKey:f,colorName:g,labelKey:y,labelName:m,label:x,shape:S}=this.properties,{placement:D}=x,M=this.getLabelText(x,{value:t,datum:e,idKey:r,idName:n,latitudeKey:l,latitudeName:c,longitudeKey:h,longitudeName:p,sizeKey:u,sizeName:d,colorKey:f,colorName:g,labelKey:y,labelName:m});if(M==null)return;const{width:N,height:v}=CachedTextMeasurerPool6.measureText(String(M),{font:o}),b=Marker2.anchor(S);return{point:{x:i,y:a,size:s},label:{width:N,height:v,text:M},anchor:b,placement:D}}createNodeData(){const{id:e,dataModel:t,processedData:i,sizeScale:a,properties:s,scale:o}=this,{idKey:r,latitudeKey:n,longitudeKey:l,sizeKey:c,colorKey:h,labelKey:p,label:u}=s;if(t==null||i==null||o==null)return;const d=n!=null&&l!=null,f=r!=null?t.resolveColumnById(this,"idValue",i):void 0,g=r!=null?t.resolveColumnById(this,"featureValue",i):void 0,y=d?t.resolveColumnById(this,"latValue",i):void 0,m=d?t.resolveColumnById(this,"lonValue",i):void 0,x=p!=null?t.resolveColumnById(this,"labelValue",i):void 0,S=c!=null?t.resolveColumnById(this,"sizeValue",i):void 0,D=h!=null?t.resolveColumnById(this,"colorValue",i):void 0,M=s.maxSize??s.size;a.range=[Math.min(s.size,M),M];const N=u.getFont();let v;f!=null&&g!=null&&(v=new Map,i.dataSources.get(this.id)?.forEach((A,L)=>{const C=f[L],R=g[L]?.geometry??void 0,O=R!=null&&o!=null?projectGeometry(R,o):void 0;C!=null&&O!=null&&v.set(C,O)}));const b=[],I=[],k=[];(i.dataSources.get(this.id)??[]).forEach((A,L)=>{const C=f?.[L],R=m?.[L],O=y?.[L],B=D?.[L],T=S?.[L],F=x?.[L],w=T!=null?a.convert(T,{clamp:!0}):s.size,E=C!=null?v?.get(C):void 0;if(C!=null&&projectGeometry==null&&k.push(C),R!=null&&O!=null){const[G,W]=o.convert([R,O]),V=this.getLabelDatum(A,F,G,W,w,N);V&&I.push(V),b.push({series:this,itemId:n,datum:A,datumIndex:L,index:-1,idValue:C,lonValue:R,latValue:O,labelValue:F,sizeValue:T,colorValue:B,point:{x:G,y:W,size:w},midPoint:{x:G,y:W}})}else E!=null&&markerPositions(E,1).forEach(([G,W],V)=>{const K=this.getLabelDatum(A,F,G,W,w,N);K&&I.push(K),b.push({series:this,itemId:n,datum:A,datumIndex:L,index:V,idValue:C,lonValue:R,latValue:O,labelValue:F,sizeValue:T,colorValue:B,point:{x:G,y:W,size:w},midPoint:{x:G,y:W}})})});const _=10;if(k.length>_){const A=k.length-_;k.length=_,k.push(`(+${A} more)`)}return k.length>0&&import_ag_charts_core35.Logger.warnOnce("some data items do not have matches in the provided topology",k),{itemId:e,nodeData:b,labelData:I}}updateSelections(){this.nodeDataRefresh&&(this.contextNodeData=this.createNodeData(),this.nodeDataRefresh=!1)}checkScaleChange(){return this.previousScale===this.scale?!1:(this.previousScale=this.scale,!0)}update({seriesRect:e}){const t=this.checkResize(e),i=this.checkScaleChange(),{markerSelection:a,highlightMarkerSelection:s}=this;this.updateSelections(),this.contentGroup.visible=this.visible,this.contentGroup.opacity=this.getOpacity();let o=this.ctx.highlightManager?.getActiveHighlight();o!=null&&(o.series!==this||o.datum==null)&&(o=void 0);const r=this.contextNodeData?.nodeData??[];this.markerSelection=this.updateMarkerSelection({markerData:r,markerSelection:a}),this.updateMarkerNodes({markerSelection:a,isHighlight:!1,highlightedDatum:o}),this.highlightMarkerSelection=this.updateMarkerSelection({markerData:o!=null?[o]:[],markerSelection:s}),this.updateMarkerNodes({markerSelection:s,isHighlight:!0,highlightedDatum:o}),(i||t)&&this.animationState.transition("resize"),this.animationState.transition("update")}updatePlacedLabelData(e){this.labelSelection=this.labelSelection.update(e,t=>{t.pointerEvents=import_ag_charts_community109._ModuleSupport.PointerEvents.None}),this.updateLabelNodes({labelSelection:this.labelSelection})}updateLabelNodes(e){const{labelSelection:t}=e,{color:i,fontStyle:a,fontWeight:s,fontSize:o,fontFamily:r}=this.properties.label;t.each((n,{x:l,y:c,width:h,height:p,text:u})=>{n.visible=!0,n.x=l+h/2,n.y=c+p/2,n.text=u,n.fill=i,n.fontStyle=a,n.fontWeight=s,n.fontSize=o,n.fontFamily=r,n.textAlign="center",n.textBaseline="middle"})}updateMarkerSelection(e){const{markerData:t,markerSelection:i}=e;return i.update(t,void 0,a=>createDatumId15([a.index,a.idValue,a.lonValue,a.latValue]))}getMarkerItemBaseStyle(e){const{properties:t}=this,i=e?t.highlightStyle.item:void 0;return getShapeStyle10({shape:t.shape,size:t.size,fill:i?.fill??t.fill,fillOpacity:i?.fillOpacity??t.fillOpacity,stroke:i?.stroke??t.stroke,strokeWidth:i?.strokeWidth??this.getStrokeWidth(t.strokeWidth),strokeOpacity:i?.strokeOpacity??t.strokeOpacity,lineDash:i?.lineDash??t.lineDash,lineDashOffset:i?.lineDashOffset??t.lineDashOffset},this.properties.fillGradientDefaults,this.properties.fillPatternDefaults,this.properties.fillImageDefaults)}getMarkerItemStyleOverrides(e,t,i,a,s,o){const{id:r,properties:n,colorScale:l,sizeScale:c}=this,{colorRange:h,itemStyler:p}=n;let u;if(u??(u={}),!o&&i!=null&&(u.fill=this.isColorScaleValid()?l.convert(i):h?.[0]??n.fill),a!=null&&(u.size=c.convert(a,{clamp:!0})),p!=null){const d=this.cachedDatumCallback(createDatumId15(e,o?"highlight":"node"),()=>this.callWithContext(p,{seriesId:r,datum:t,highlighted:o,...s,...u}));u??(u={}),Object.assign(u,d)}return u}updateMarkerNodes(e){const{markerSelection:t,isHighlight:i,highlightedDatum:a}=e,s=this.getMarkerItemBaseStyle(i),o=getTopologyShapeFillBBox(this.scale);t.each((r,n)=>{const{datumIndex:l,datum:c,point:h,colorValue:p,sizeValue:u}=n,d=this.getMarkerItemStyleOverrides(String(l),c,p,u,s,i);r.shape=d?.shape??s.shape,r.size=d?.size??s.size,applyShapeStyle9(r,s,d,o),r.x=h.x,r.y=h.y,r.scalingCenterX=h.x,r.scalingCenterY=h.y,r.zIndex=!i&&a!=null&&c===a.datum?1:0})}isProcessedDataAnimatable(){return!0}resetAnimation(e){e==="initial"?this.animationState.transition("reset"):e==="ready"&&this.animationState.transition("skip")}resetAllAnimation(){this.ctx.animationManager.stopByAnimationGroupId(this.id),this.ctx.animationManager.skipCurrentBatch(),this.labelSelection.cleanup(),this.markerSelection.cleanup(),this.highlightMarkerSelection.cleanup()}animateMarkers(){const{animationManager:e}=this.ctx,t=prepareMapMarkerAnimationFunctions();fromToMotion3(this.id,"markers",e,[this.markerSelection,this.highlightMarkerSelection],t)}getLabelData(){return this.isLabelEnabled()?this.contextNodeData?.labelData??[]:[]}pickNodeClosestDatum(e){const{x:t,y:i}=e;let a=1/0,s;return this.contextNodeData?.nodeData.forEach(o=>{const{x:r,y:n,size:l}=o.point,c=Math.max(Math.abs(r-t)-l,0),h=Math.max(Math.abs(n-i)-l,0),p=c*c+h*h;p<a&&(a=p,s=o)}),s!=null?{datum:s,distance:Math.sqrt(a)}:void 0}legendItemSymbol(e){const{dataModel:t,processedData:i,properties:a}=this,{shape:s,fillOpacity:o,stroke:r,strokeWidth:n,strokeOpacity:l,lineDash:c,lineDashOffset:h}=a;let{fill:p}=a;if(e!=null&&this.isColorScaleValid()){const d=t.resolveColumnById(this,"colorValue",i)[e];p=this.colorScale.convert(d)}return{marker:getShapeStyle10({shape:s,fill:p,fillOpacity:o,stroke:r,strokeWidth:n,strokeOpacity:l,lineDash:c,lineDashOffset:h},this.properties.fillGradientDefaults,this.properties.fillPatternDefaults,this.properties.fillImageDefaults)}}getLegendData(e){const{processedData:t,dataModel:i}=this;if(t==null||i==null)return[];const{id:a,visible:s}=this,{title:o,legendItemName:r,idName:n,idKey:l,colorKey:c,colorName:h,colorRange:p,showInLegend:u}=this.properties;if(e==="gradient"&&c!=null&&p!=null){const d=t.domain.values[i.resolveProcessedDataIndexById(this,"colorValue")];return[{legendType:"gradient",enabled:s,seriesId:a,colorName:h,colorRange:p,colorDomain:d}]}else return e==="category"?[{legendType:"category",id:a,itemId:a,seriesId:a,enabled:s,label:{text:r??o??n??l??a},symbol:this.legendItemSymbol(),legendItemName:r,hideInLegend:!u}]:[]}getTooltipContent(e){const{id:t,dataModel:i,processedData:a,properties:s}=this,{idKey:o,idName:r,latitudeKey:n,latitudeName:l,longitudeKey:c,longitudeName:h,colorKey:p,colorName:u,sizeKey:d,sizeName:f,labelKey:g,labelName:y,title:m,legendItemName:x,tooltip:S}=s;if(!i||!a)return;const D=a.dataSources.get(this.id)?.[e],M=d!=null?i.resolveColumnById(this,"sizeValue",a)[e]:void 0,N=p!=null?i.resolveColumnById(this,"colorValue",a)[e]:void 0,v=[];if(M!=null&&v.push({label:f,fallbackLabel:d,value:String(M)}),N!=null&&v.push({label:u,fallbackLabel:p,value:String(N)}),g!=null&&g!==o){const k=i.resolveColumnById(this,"labelValue",a)[e];v.push({label:y,fallbackLabel:g,value:k})}let b;if(o!=null)b=i.resolveColumnById(this,"idValue",a)[e];else if(n!=null&&c!=null){const k=i.resolveColumnById(this,"latValue",a)[e],P=i.resolveColumnById(this,"lonValue",a)[e];b=`${Math.abs(k).toFixed(4)}\xB0 ${k>=0?"N":"S"}, ${Math.abs(P).toFixed(4)}\xB0 ${P>=0?"W":"E"}`}const I=this.getMarkerItemBaseStyle(!1);return Object.assign(I,this.getMarkerItemStyleOverrides(String(e),e,N,M,I,!1)),this.formatTooltipWithContext(S,{heading:b,title:m??x,symbol:this.legendItemSymbol(e),data:v},{seriesId:t,datum:D,title:m,idKey:o,idName:r,latitudeKey:n,latitudeName:l,longitudeKey:c,longitudeName:h,colorKey:p,colorName:u,sizeKey:d,sizeName:f,labelKey:g,labelName:y,...I})}getFormattedMarkerStyle(e){const{datumIndex:t,colorValue:i,sizeValue:a}=e,s=this.getMarkerItemBaseStyle(!1);return Object.assign(s,this.getMarkerItemStyleOverrides(String(t),t,i,a,s,!1)),{size:s.size}}computeFocusBounds(e){return computeMarkerFocusBounds2(this,e)}};MapMarkerSeries.className="MapMarkerSeries",MapMarkerSeries.type="map-marker";var import_ag_charts_community110=require("ag-charts-community"),import_ag_charts_core36=require("ag-charts-core"),{commonSeriesOptionsDefs:commonSeriesOptionsDefs12,mapMarkerSeriesThemeableOptionsDef,without:without3}=import_ag_charts_community110._ModuleSupport,mapMarkerSeriesOptionsDef={...mapMarkerSeriesThemeableOptionsDef,...without3(commonSeriesOptionsDefs12,["highlightStyle"]),type:(0,import_ag_charts_core36.required)((0,import_ag_charts_core36.constant)("map-marker")),idKey:import_ag_charts_core36.string,latitudeKey:import_ag_charts_core36.string,longitudeKey:import_ag_charts_core36.string,sizeKey:import_ag_charts_core36.string,colorKey:import_ag_charts_core36.string,labelKey:import_ag_charts_core36.string,idName:import_ag_charts_core36.string,latitudeName:import_ag_charts_core36.string,longitudeName:import_ag_charts_core36.string,sizeName:import_ag_charts_core36.string,colorName:import_ag_charts_core36.string,labelName:import_ag_charts_core36.string,topology:import_ag_charts_core36.geoJson,topologyIdKey:import_ag_charts_core36.string,legendItemName:import_ag_charts_core36.string,title:import_ag_charts_core36.string},MapMarkerModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["topology"],identifier:"map-marker",moduleFactory:e=>new MapMarkerSeries(e),tooltipDefaults:{range:"exact"},themeTemplate:{...MAP_THEME_DEFAULTS,series:{shape:"circle",maxSize:30,fill:{$palette:"fill"},stroke:{$palette:"stroke"},colorRange:{$if:[{$eq:[{$palette:"type"},"inbuilt"]},{$palette:"divergingColors"},import_ag_charts_community111._ModuleSupport.SAFE_RANGE2_OPERATION]},fillGradientDefaults:{type:"gradient",gradient:"radial",bounds:"item",colorStops:{$palette:"gradient"},rotation:0,reverse:!0},fillPatternDefaults:import_ag_charts_community111._ModuleSupport.FILL_PATTERN_DEFAULTS,fillImageDefaults:import_ag_charts_community111._ModuleSupport.FILL_IMAGE_DEFAULTS,fillOpacity:.5,label:{enabled:!1,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"}}},tooltip:{range:"exact"}}},MapMarkerSeriesModule={type:"series",name:"map-marker",chartType:"topology",enterprise:!0,options:mapMarkerSeriesOptionsDef,create:e=>new MapMarkerSeries(e),validate(e,t,i){const a=(0,import_ag_charts_core37.validate)(e,t,i),{cleared:s,invalid:o}=a;if(s?.idKey==null&&(s?.latitudeKey==null||s?.longitudeKey==null)){const r=l=>i?`${i}.${l}`:l,n=`Either \`${r("idKey")}\` or both \`${r("latitudeKey")}\` and \`${r("longitudeKey")}\` are required.`;o.push(new import_ag_charts_core37.ValidationError("required",n,null,i))}return a}},import_ag_charts_community115=require("ag-charts-community"),import_ag_charts_community113=require("ag-charts-community"),import_ag_charts_core38=require("ag-charts-core");function preferredLabelCenter(e,{aspectRatio:t,precision:i}){const a=polygonPointSearch(e,i,(l,c,h,p)=>{const u=maxWidthOfRectConstrainedByCenterAndAspectRatioToPolygon(l,c,h,t),d=u+2*p*t,f=u*Math.SQRT2,g=d*Math.SQRT2;return{distance:f,maxDistance:g}});if(a==null)return;const{x:s,y:o,distance:r}=a,n=r/Math.SQRT2;return{x:s,y:o,maxWidth:n}}function maxWidthOfRectConstrainedByCenterAndAspectRatioToLineSegment(e,t,i,a,s){const[o,r]=e,[n,l]=t,c=1/s,h=n-o,p=l-r,[u,d]=r<=l?e:t,[f,g]=o<=n?e:t,[y,m]=r<=l?t:e,[x,S]=o<=n?t:e;let D=1/0;if(h!==0){const k=p/h;for(let P=0;P<=1;P+=1){const _=P===0?c:-c,A=(k*o-r-_*i+a)/(k-_);if(A>=f&&A<=x){const L=Math.abs(i-A)*2;D=Math.min(D,L)}}}else for(let k=0;k<=1;k+=1){const _=(k===0?c:-c)*(o-i)+a;if(_>=d&&_<=m){const L=Math.abs(a-_)*2*s;D=Math.min(D,L)}}const M=s,N=Math.abs((u-i)/(d-a)),v=Math.abs((y-i)/(m-a));if(m<a&&v<M){const P=Math.abs(a-m)*2*s;D=Math.min(D,P)}else if(d>a&&N<M){const P=Math.abs(a-d)*2*s;D=Math.min(D,P)}const b=Math.abs((g-a)/(f-i)),I=Math.abs((S-a)/(x-i));if(x<i&&I<c){const k=Math.abs(i-x)*2;D=Math.min(D,k)}else if(f>i&&b<c){const k=Math.abs(i-f)*2;D=Math.min(D,k)}return D}function maxWidthOfRectConstrainedByCenterAndAspectRatioToPolygon(e,t,i,a){let s=!1,o=1/0;for(const r of e){let n=r[r.length-1],[l,c]=n;for(const h of r){const[p,u]=h;u>i!=c>i&&t<(l-p)*(i-u)/(c-u)+p&&(s=!s);const d=maxWidthOfRectConstrainedByCenterAndAspectRatioToLineSegment(n,h,t,i,a);o=Math.min(o,d),n=h,l=p,c=u}}return(s?1:-1)*o}function applyX(e,t,i){i>=t&&(e.maxX=Math.min(e.maxX,i-t)),i<=t&&(e.minX=Math.max(e.minX,i-t))}function xExtentsOfRectConstrainedByCenterAndHeightToLineSegment(e,t,i,a,s,o){const r=s-o/2,n=s+o/2,[l,c]=t,[h,p]=i,u=h-l,d=p-c,[f,g]=l<=h?t:i,[y,m]=l<=h?i:t;if(u!==0){const x=d/u;for(let S=0;S<=1;S+=1){const M=((S===0?r:n)-c)/x+l;M>=f&&M<=y&&applyX(e,a,M)}}else Math.max(r,Math.min(c,p))<=Math.min(n,Math.max(c,p))&&applyX(e,a,l);return y<a&&m>=r&&m<=n?applyX(e,a,y):f>a&&g>=r&&g<=n&&applyX(e,a,f),e}function maxWidthInPolygonForRectOfHeight(e,t,i,a){const s={minX:-1/0,maxX:1/0};for(const n of e){let l=n[n.length-1];for(const c of n)xExtentsOfRectConstrainedByCenterAndHeightToLineSegment(s,l,c,t,i,a),l=c}const{minX:o,maxX:r}=s;return Number.isFinite(o)&&Number.isFinite(r)?{x:t+(o+r)/2,width:r-o}:{x:t,width:0}}var import_ag_charts_community112=require("ag-charts-community"),{Property:Property29,SeriesProperties:SeriesProperties6,SeriesTooltip:SeriesTooltip15,FillGradientDefaults:FillGradientDefaults10,FillPatternDefaults:FillPatternDefaults10,FillImageDefaults:FillImageDefaults10}=import_ag_charts_community112._ModuleSupport,MapShapeSeriesProperties=class extends SeriesProperties6{constructor(){super(...arguments),this.topology=void 0,this.idKey="",this.idName=void 0,this.topologyIdKey="name",this.labelKey=void 0,this.labelName=void 0,this.colorRange=void 0,this.fill="black",this.fillGradientDefaults=new FillGradientDefaults10,this.fillPatternDefaults=new FillPatternDefaults10,this.fillImageDefaults=new FillImageDefaults10,this.fillOpacity=1,this.stroke="black",this.strokeOpacity=1,this.strokeWidth=0,this.lineDash=[0],this.lineDashOffset=0,this.padding=0,this.label=new AutoSizedSecondaryLabel,this.tooltip=new SeriesTooltip15}};__decorateClass([Property29],MapShapeSeriesProperties.prototype,"topology",2),__decorateClass([Property29],MapShapeSeriesProperties.prototype,"title",2),__decorateClass([Property29],MapShapeSeriesProperties.prototype,"legendItemName",2),__decorateClass([Property29],MapShapeSeriesProperties.prototype,"idKey",2),__decorateClass([Property29],MapShapeSeriesProperties.prototype,"idName",2),__decorateClass([Property29],MapShapeSeriesProperties.prototype,"topologyIdKey",2),__decorateClass([Property29],MapShapeSeriesProperties.prototype,"labelKey",2),__decorateClass([Property29],MapShapeSeriesProperties.prototype,"labelName",2),__decorateClass([Property29],MapShapeSeriesProperties.prototype,"colorKey",2),__decorateClass([Property29],MapShapeSeriesProperties.prototype,"colorName",2),__decorateClass([Property29],MapShapeSeriesProperties.prototype,"colorRange",2),__decorateClass([Property29],MapShapeSeriesProperties.prototype,"fill",2),__decorateClass([Property29],MapShapeSeriesProperties.prototype,"fillGradientDefaults",2),__decorateClass([Property29],MapShapeSeriesProperties.prototype,"fillPatternDefaults",2),__decorateClass([Property29],MapShapeSeriesProperties.prototype,"fillImageDefaults",2),__decorateClass([Property29],MapShapeSeriesProperties.prototype,"fillOpacity",2),__decorateClass([Property29],MapShapeSeriesProperties.prototype,"stroke",2),__decorateClass([Property29],MapShapeSeriesProperties.prototype,"strokeOpacity",2),__decorateClass([Property29],MapShapeSeriesProperties.prototype,"strokeWidth",2),__decorateClass([Property29],MapShapeSeriesProperties.prototype,"lineDash",2),__decorateClass([Property29],MapShapeSeriesProperties.prototype,"lineDashOffset",2),__decorateClass([Property29],MapShapeSeriesProperties.prototype,"padding",2),__decorateClass([Property29],MapShapeSeriesProperties.prototype,"itemStyler",2),__decorateClass([Property29],MapShapeSeriesProperties.prototype,"label",2),__decorateClass([Property29],MapShapeSeriesProperties.prototype,"tooltip",2);var{getMissCount:getMissCount4,createDatumId:createDatumId16,SeriesNodePickMode:SeriesNodePickMode12,valueProperty:valueProperty11,CachedTextMeasurerPool:CachedTextMeasurerPool7,TextUtils:TextUtils4,ColorScale:ColorScale4,Group:Group11,Selection:Selection10,Text:Text4,PointerEvents:PointerEvents7,applyShapeStyle:applyShapeStyle10,getShapeStyle:getShapeStyle11}=import_ag_charts_community113._ModuleSupport,fixedScale=import_ag_charts_community113._ModuleSupport.MercatorScale.fixedScale(),MapShapeSeries=class extends TopologySeries{constructor(e){super({moduleCtx:e,categoryKey:void 0,useLabelLayer:!0,pickModes:[SeriesNodePickMode12.EXACT_SHAPE_MATCH,SeriesNodePickMode12.NEAREST_NODE]}),this.properties=new MapShapeSeriesProperties,this._chartTopology=void 0,this.colorScale=new ColorScale4,this.itemGroup=this.contentGroup.appendChild(new Group11({name:"itemGroup"})),this.itemLabelGroup=this.contentGroup.appendChild(new Group11({name:"itemLabelGroup"})),this.datumSelection=Selection10.select(this.itemGroup,()=>this.nodeFactory()),this.labelSelection=Selection10.select(this.itemLabelGroup,Text4),this.highlightDatumSelection=Selection10.select(this.highlightNode,()=>this.nodeFactory()),this.previousLabelLayouts=void 0,this._previousDatumMidPoint=void 0,this.itemLabelGroup.pointerEvents=PointerEvents7.None}getNodeData(){return this.contextNodeData?.nodeData}get topology(){return this.properties.topology??this._chartTopology}get hasData(){return super.hasData&&this.topology!=null}renderToOffscreenCanvas(){return!0}setChartTopology(e){this._chartTopology=e,this.topology===e&&(this.nodeDataRefresh=!0)}setSeriesIndex(e){return super.setSeriesIndex(e)?(this.contentGroup.zIndex=[1,e],this.highlightGroup.zIndex=[2,e],!0):!1}isLabelEnabled(){return this.properties.labelKey!=null&&this.properties.label.enabled}nodeFactory(){const e=new GeoGeometry;return e.renderMode=1,e.lineJoin="round",e}async processData(e){if(this.data==null)return;const{data:t,topology:i,colorScale:a}=this,{topologyIdKey:s,idKey:o,colorKey:r,labelKey:n,colorRange:l}=this.properties,c=new Map;i?.features.forEach(g=>{const y=g.properties?.[s];y==null||!containsType(g.geometry,1)||c.set(y,g)});const h=this.colorScale.type,p=this.scale?.type,{dataModel:u,processedData:d}=await this.requestDataModel(e,t,{props:[valueProperty11(o,p,{id:"idValue",includeProperty:!1}),valueProperty11(o,p,{id:"featureValue",includeProperty:!1,processor:()=>g=>c.get(g)}),...n?[valueProperty11(n,"band",{id:"labelValue"})]:[],...r?[valueProperty11(r,h,{id:"colorValue"})]:[]]}),f=u.resolveColumnById(this,"featureValue",d);if(this.topologyBounds=f.reduce((g,y)=>{const m=y?.geometry;return m==null?g:geometryBbox(m,g)},void 0),l!=null&&this.isColorScaleValid()){const g=u.resolveProcessedDataIndexById(this,"colorValue");a.domain=d.domain.values[g],a.range=l,a.update()}i==null&&import_ag_charts_core38.Logger.warnOnce("no topology was provided for [MapShapeSeries]; nothing will be rendered.")}isColorScaleValid(){const{colorKey:e}=this.properties;if(!e)return!1;const{dataModel:t,processedData:i}=this;if(!t||!i)return!1;const a=t.resolveProcessedDataIndexById(this,"colorValue"),s=i.input.count,o=getMissCount4(this,i.defs.values[a].missing);return!(s===0||s===o)}getLabelLayout(e,t,i,a,s){if(t==null||a==null)return;const{idKey:o,idName:r,colorKey:n,colorName:l,labelKey:c,labelName:h,padding:p,label:u}=this.properties,d=this.getLabelText(u,{value:t,datum:e,idKey:o,idName:r,colorKey:n,colorName:l,labelKey:c,labelName:h});if(d==null)return;const f=CachedTextMeasurerPool7.measureText(String(d),{font:i}),g=d.split(`
`).length,y=(f.width+2*p)/(g*TextUtils4.getLineHeight(u.fontSize)+2*p);if(s?.geometry===a&&s?.labelText===d&&s?.aspectRatio===y)return s;const m=projectGeometry(a,fixedScale),x=largestPolygon(m);if(x==null)return;const S=preferredLabelCenter(x,{aspectRatio:y,precision:.001});if(S==null)return;const{x:D,y:M,maxWidth:N}=S;return{geometry:a,labelText:d,aspectRatio:y,x:D,y:M,maxWidth:N,fixedPolygon:x}}getLabelDatum(e,t){const{scale:i}=this;if(i==null)return;const{padding:a,label:s}=this.properties,{labelText:o,aspectRatio:r,x:n,y:l,maxWidth:c,fixedPolygon:h}=e,p={width:Math.ceil(c*t),height:Math.ceil(c*t/r),meta:n},u=formatSingleLabel(o,s,{padding:a},(D,M)=>{if(!M)return p;const N=maxWidthInPolygonForRectOfHeight(h,n,l,D/t);return{width:N.width*t,height:D,meta:N.x}});if(u==null)return;const[{text:d,fontSize:f,lineHeight:g,width:y},m]=u;if(d===TextUtils4.EllipsisChar)return;const x=y<p.width?n:m,S=this.scale.convert(fixedScale.invert([x,l]));return{x:S[0],y:S[1],text:d,fontSize:f,lineHeight:g}}createNodeData(){const{id:e,dataModel:t,processedData:i,properties:a,scale:s,previousLabelLayouts:o}=this,{idKey:r,colorKey:n,labelKey:l,label:c}=a;if(t==null||i==null)return;const h=s!=null?(s.range[1][0]-s.range[0][0])/s.bounds.width:NaN,p=t.resolveColumnById(this,"idValue",i),u=t.resolveColumnById(this,"featureValue",i),d=l!=null?t.resolveColumnById(this,"labelValue",i):void 0,f=n!=null?t.resolveColumnById(this,"colorValue",i):void 0,g=c.getFont(),y=new Map;this.previousLabelLayouts=y;const m=[],x=[],S=[];(i.dataSources.get(this.id)??[]).forEach((N,v)=>{const b=p[v],I=f?.[v],k=d?.[v],P=u[v]?.geometry??void 0;P==null&&S.push(b);const _=this.getLabelLayout(N,k,g,P,o?.get(b));_!=null&&y.set(b,_);const A=_!=null&&s!=null?this.getLabelDatum(_,h):void 0;A!=null&&x.push(A);const L=P!=null&&s!=null?projectGeometry(P,s):void 0;m.push({series:this,itemId:r,datum:N,datumIndex:v,idValue:b,colorValue:I,labelValue:k,projectedGeometry:L})});const M=10;if(S.length>M){const N=S.length-M;S.length=M,S.push(`(+${N} more)`)}return S.length>0&&import_ag_charts_core38.Logger.warnOnce("some data items do not have matches in the provided topology",S),{itemId:e,nodeData:m,labelData:x}}updateSelections(){this.nodeDataRefresh&&(this.contextNodeData=this.createNodeData(),this.nodeDataRefresh=!1)}update(){const{datumSelection:e,labelSelection:t,highlightDatumSelection:i}=this;this.updateSelections(),this.contentGroup.visible=this.visible,this.contentGroup.opacity=this.getOpacity();let a=this.ctx.highlightManager?.getActiveHighlight();a!=null&&(a.series!==this||a.datum==null)&&(a=void 0);const s=this.contextNodeData?.nodeData??[],o=this.contextNodeData?.labelData??[];this.datumSelection=this.updateDatumSelection({nodeData:s,datumSelection:e}),this.updateDatumNodes({datumSelection:e,isHighlight:!1}),this.labelSelection=this.updateLabelSelection({labelData:o,labelSelection:t}),this.updateLabelNodes({labelSelection:t}),this.highlightDatumSelection=this.updateDatumSelection({nodeData:a!=null?[a]:[],datumSelection:i}),this.updateDatumNodes({datumSelection:i,isHighlight:!0})}updateDatumSelection(e){return e.datumSelection.update(e.nodeData,void 0,t=>createDatumId16(t.idValue))}getItemBaseStyle(e){const{properties:t}=this,i=e?t.highlightStyle.item:void 0;return getShapeStyle11({fill:i?.fill??t.fill,fillOpacity:i?.fillOpacity??t.fillOpacity,stroke:i?.stroke??t.stroke,strokeWidth:i?.strokeWidth??this.getStrokeWidth(t.strokeWidth),strokeOpacity:i?.strokeOpacity??t.strokeOpacity,lineDash:i?.lineDash??t.lineDash,lineDashOffset:i?.lineDashOffset??t.lineDashOffset},this.properties.fillGradientDefaults,this.properties.fillPatternDefaults,this.properties.fillImageDefaults)}getItemStyleOverrides(e,t,i,a,s){const{id:o,properties:r,colorScale:n}=this,{colorRange:l,itemStyler:c}=r;let h;if(!s&&i!=null&&(h??(h={}),h.fill=this.isColorScaleValid()?n.convert(i):l?.[0]??r.fill),c!=null){const p=this.cachedDatumCallback(createDatumId16(e,s?"highlight":"node"),()=>this.callWithContext(c,{seriesId:o,datum:t,highlighted:s,...a,...h}));h??(h={}),Object.assign(h,p)}return getShapeStyle11(h,this.properties.fillGradientDefaults,this.properties.fillPatternDefaults,this.properties.fillImageDefaults)}updateDatumNodes(e){const{datumSelection:t,isHighlight:i}=e,a=this.getItemBaseStyle(i),s=getTopologyShapeFillBBox(this.scale);t.each((o,r)=>{const{datum:n,datumIndex:l,colorValue:c,projectedGeometry:h}=r;if(h==null){o.visible=!1,o.projectedGeometry=void 0;return}const p=this.getItemStyleOverrides(String(l),n,c,a,i);o.visible=!0,o.projectedGeometry=h,applyShapeStyle10(o,a,p,s)})}updateLabelSelection(e){const t=this.isLabelEnabled()?e.labelData:[];return e.labelSelection.update(t)}updateLabelNodes(e){const{labelSelection:t}=e,{color:i,fontStyle:a,fontWeight:s,fontFamily:o}=this.properties.label;t.each((r,{x:n,y:l,text:c,fontSize:h,lineHeight:p})=>{r.visible=!0,r.x=n,r.y=l,r.text=c,r.fill=i,r.fontStyle=a,r.fontWeight=s,r.fontSize=h,r.lineHeight=p,r.fontFamily=o,r.textAlign="center",r.textBaseline="middle"})}resetAnimation(){}pickNodeClosestDatum({x:e,y:t}){let i=1/0,a;return this.datumSelection.each((s,o)=>{const r=s.distanceSquared(e,t);r<i&&(i=r,a=o)}),a!=null?{datum:a,distance:Math.sqrt(i)}:void 0}datumMidPoint(e){const{_previousDatumMidPoint:t}=this;if(t?.datum===e)return t.point;const i=e.projectedGeometry,a=i!=null?largestPolygon(i):void 0,s=a!=null?polygonMarkerCenter(a,2):void 0,o=s!=null?{x:s[0],y:s[1]}:void 0;return this._previousDatumMidPoint={datum:e,point:o},o}legendItemSymbol(e){const{dataModel:t,processedData:i,properties:a}=this,{fillOpacity:s,stroke:o,strokeWidth:r,strokeOpacity:n,lineDash:l,lineDashOffset:c}=a;let{fill:h}=a;if(e!=null&&this.isColorScaleValid()){const u=t.resolveColumnById(this,"colorValue",i)[e];h=this.colorScale.convert(u)}return{marker:getShapeStyle11({fill:h,fillOpacity:s,stroke:o,strokeWidth:r,strokeOpacity:n,lineDash:l,lineDashOffset:c},this.properties.fillGradientDefaults,this.properties.fillPatternDefaults,this.properties.fillImageDefaults)}}getLegendData(e){const{processedData:t,dataModel:i}=this;if(t==null||i==null)return[];const{id:a,visible:s}=this,{title:o,legendItemName:r,idKey:n,idName:l,colorKey:c,colorName:h,colorRange:p,showInLegend:u}=this.properties;if(e==="gradient"&&c!=null&&p!=null){const d=t.domain.values[i.resolveProcessedDataIndexById(this,"colorValue")];return[{legendType:"gradient",enabled:s,seriesId:a,colorName:h,colorRange:p,colorDomain:d}]}else return e==="category"?[{legendType:"category",id:a,itemId:a,seriesId:a,enabled:s,label:{text:r??o??l??n},symbol:this.legendItemSymbol(),legendItemName:r,hideInLegend:!u}]:[]}getTooltipContent(e){const{id:t,dataModel:i,processedData:a,properties:s}=this,{idKey:o,idName:r,colorKey:n,colorName:l,labelKey:c,labelName:h,legendItemName:p,title:u,tooltip:d}=s;if(!i||!a)return;const f=a.dataSources.get(this.id)?.[e],g=i.resolveColumnById(this,"idValue",a)[e],y=n!=null?i.resolveColumnById(this,"colorValue",a)[e]:void 0,m=[];if(y!=null&&m.push({label:l,fallbackLabel:n,value:String(y)}),c!=null&&c!==o){const S=i.resolveColumnById(this,"labelValue",a)[e];m.push({label:h,fallbackLabel:c,value:S})}const x=this.getItemBaseStyle(!1);return Object.assign(x,this.getItemStyleOverrides(String(e),e,y,x,!1)),this.formatTooltipWithContext(d,{heading:g,title:u??p,symbol:this.legendItemSymbol(e),data:m},{seriesId:t,datum:f,title:u,idKey:o,idName:r,colorKey:n,colorName:l,labelKey:c,labelName:h,...x})}computeFocusBounds(e){return findFocusedGeoGeometry(this,e)}};MapShapeSeries.className="MapShapeSeries",MapShapeSeries.type="map-shape";var import_ag_charts_community114=require("ag-charts-community"),import_ag_charts_core39=require("ag-charts-core"),{commonSeriesOptionsDefs:commonSeriesOptionsDefs13,mapShapeSeriesThemeableOptionsDef,without:without4}=import_ag_charts_community114._ModuleSupport,mapShapeSeriesOptionsDef={...mapShapeSeriesThemeableOptionsDef,...without4(commonSeriesOptionsDefs13,["highlightStyle"]),type:(0,import_ag_charts_core39.required)((0,import_ag_charts_core39.constant)("map-shape")),idKey:(0,import_ag_charts_core39.required)(import_ag_charts_core39.string),colorKey:import_ag_charts_core39.string,labelKey:import_ag_charts_core39.string,idName:import_ag_charts_core39.string,colorName:import_ag_charts_core39.string,labelName:import_ag_charts_core39.string,topology:import_ag_charts_core39.geoJson,topologyIdKey:import_ag_charts_core39.string,legendItemName:import_ag_charts_core39.string,title:import_ag_charts_core39.string},MapShapeModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["topology"],identifier:"map-shape",moduleFactory:e=>new MapShapeSeries(e),tooltipDefaults:{range:"exact"},themeTemplate:{...MAP_THEME_DEFAULTS,series:{fill:{$palette:"fill"},stroke:{$ref:"backgroundColor"},colorRange:{$if:[{$eq:[{$palette:"type"},"inbuilt"]},{$palette:"divergingColors"},import_ag_charts_community115._ModuleSupport.SAFE_RANGE2_OPERATION]},fillGradientDefaults:{type:"gradient",gradient:"linear",bounds:"item",colorStops:{$palette:"gradient"},rotation:0,reverse:!1},fillPatternDefaults:import_ag_charts_community115._ModuleSupport.FILL_PATTERN_DEFAULTS,fillImageDefaults:import_ag_charts_community115._ModuleSupport.FILL_IMAGE_DEFAULTS,fillOpacity:1,strokeWidth:1,lineDash:[0],lineDashOffset:0,padding:2,label:{color:{$ref:"backgroundColor"},fontFamily:{$ref:"fontFamily"},fontSize:{$ref:"fontSize"},fontWeight:"bold",overflowStrategy:"hide"}},tooltip:{range:"exact"}}},MapShapeSeriesModule={type:"series",name:"map-shape",chartType:"topology",enterprise:!0,options:mapShapeSeriesOptionsDef,create:e=>new MapShapeSeries(e)},import_ag_charts_community119=require("ag-charts-community"),import_ag_charts_community117=require("ag-charts-community"),import_ag_charts_core40=require("ag-charts-core"),import_ag_charts_community116=require("ag-charts-community"),{FillGradientDefaults:FillGradientDefaults11,FillPatternDefaults:FillPatternDefaults11,FillImageDefaults:FillImageDefaults11,Property:Property30,SeriesProperties:SeriesProperties7,SeriesTooltip:SeriesTooltip16}=import_ag_charts_community116._ModuleSupport,MapShapeBackgroundSeriesProperties=class extends SeriesProperties7{constructor(){super(...arguments),this.topology=void 0,this.fill="black",this.fillGradientDefaults=new FillGradientDefaults11,this.fillPatternDefaults=new FillPatternDefaults11,this.fillImageDefaults=new FillImageDefaults11,this.fillOpacity=1,this.stroke="black",this.strokeOpacity=1,this.strokeWidth=0,this.lineDash=[0],this.lineDashOffset=0,this.tooltip=new SeriesTooltip16}};__decorateClass([Property30],MapShapeBackgroundSeriesProperties.prototype,"topology",2),__decorateClass([Property30],MapShapeBackgroundSeriesProperties.prototype,"fill",2),__decorateClass([Property30],MapShapeBackgroundSeriesProperties.prototype,"fillGradientDefaults",2),__decorateClass([Property30],MapShapeBackgroundSeriesProperties.prototype,"fillPatternDefaults",2),__decorateClass([Property30],MapShapeBackgroundSeriesProperties.prototype,"fillImageDefaults",2),__decorateClass([Property30],MapShapeBackgroundSeriesProperties.prototype,"fillOpacity",2),__decorateClass([Property30],MapShapeBackgroundSeriesProperties.prototype,"stroke",2),__decorateClass([Property30],MapShapeBackgroundSeriesProperties.prototype,"strokeOpacity",2),__decorateClass([Property30],MapShapeBackgroundSeriesProperties.prototype,"strokeWidth",2),__decorateClass([Property30],MapShapeBackgroundSeriesProperties.prototype,"lineDash",2),__decorateClass([Property30],MapShapeBackgroundSeriesProperties.prototype,"lineDashOffset",2),__decorateClass([Property30],MapShapeBackgroundSeriesProperties.prototype,"tooltip",2);var{createDatumId:createDatumId17,SeriesNodePickMode:SeriesNodePickMode13,Selection:Selection11,Group:Group12,PointerEvents:PointerEvents8,getShapeStyle:getShapeStyle12}=import_ag_charts_community117._ModuleSupport,MapShapeBackgroundSeries=class extends TopologySeries{constructor(e){super({moduleCtx:e,categoryKey:void 0,useLabelLayer:!0,pickModes:[SeriesNodePickMode13.EXACT_SHAPE_MATCH]}),this.properties=new MapShapeBackgroundSeriesProperties,this._chartTopology=void 0,this.itemGroup=this.contentGroup.appendChild(new Group12({name:"itemGroup"})),this.datumSelection=Selection11.select(this.itemGroup,()=>this.nodeFactory())}get topology(){return this.properties.topology??this._chartTopology}get focusable(){return!1}setOptionsData(){}setChartData(){}getNodeData(){}get hasData(){return!1}renderToOffscreenCanvas(){return!0}setChartTopology(e){this._chartTopology=e,this.topology===e&&(this.nodeDataRefresh=!0)}setSeriesIndex(e){return super.setSeriesIndex(e)?(this.contentGroup.zIndex=[0,e,0],this.highlightGroup.zIndex=[0,e,1],!0):!1}nodeFactory(){const e=new GeoGeometry;return e.renderMode=1,e.lineJoin="round",e.pointerEvents=PointerEvents8.None,e}processData(){const{topology:e}=this;this.topologyBounds=e?.features.reduce((t,i)=>{const a=i.geometry;return a==null?t:geometryBbox(a,t)},void 0),e==null&&import_ag_charts_core40.Logger.warnOnce("no topology was provided for [MapShapeBackgroundSeries]; nothing will be rendered.")}createNodeData(){const{id:e,topology:t,scale:i}=this;if(t==null)return;const a=[],s=[];return t.features.forEach((o,r)=>{const{geometry:n}=o,l=n!=null&&i!=null?projectGeometry(n,i):void 0;l!=null&&a.push({series:this,itemId:r,datum:o,datumIndex:0,index:r,projectedGeometry:l})}),{itemId:e,nodeData:a,labelData:s}}updateSelections(){this.nodeDataRefresh&&(this.contextNodeData=this.createNodeData(),this.nodeDataRefresh=!1)}update(){const{datumSelection:e}=this;this.updateSelections(),this.contentGroup.visible=this.visible;const{nodeData:t=[]}=this.contextNodeData??{};this.datumSelection=this.updateDatumSelection({nodeData:t,datumSelection:e}),this.updateDatumNodes({datumSelection:e})}updateDatumSelection(e){return e.datumSelection.update(e.nodeData,void 0,t=>createDatumId17(t.index))}updateDatumNodes(e){const{properties:t}=this,{datumSelection:i}=e,{fill:a,fillOpacity:s,stroke:o,strokeOpacity:r,lineDash:n,lineDashOffset:l}=t,c=this.getStrokeWidth(t.strokeWidth);i.each((h,p)=>{const{projectedGeometry:u}=p;if(u==null){h.visible=!1,h.projectedGeometry=void 0;return}h.visible=!0,h.projectedGeometry=u;const d=getShapeStyle12({fill:a,fillOpacity:s,stroke:o,strokeWidth:c,strokeOpacity:r,lineDash:n,lineDashOffset:l},this.properties.fillGradientDefaults,this.properties.fillPatternDefaults,this.properties.fillImageDefaults);h.setProperties(d)})}resetAnimation(){}getLegendData(){return[]}getTooltipContent(e){}pickFocus(){}computeFocusBounds(e){}};MapShapeBackgroundSeries.className="MapShapeBackgroundSeries",MapShapeBackgroundSeries.type="map-shape-background";var import_ag_charts_community118=require("ag-charts-community"),import_ag_charts_core41=require("ag-charts-core"),{commonSeriesOptionsDefs:commonSeriesOptionsDefs14,mapShapeBackgroundSeriesThemeableOptionsDef}=import_ag_charts_community118._ModuleSupport,mapShapeBackgroundSeriesOptionsDef={...mapShapeBackgroundSeriesThemeableOptionsDef,...commonSeriesOptionsDefs14,type:(0,import_ag_charts_core41.required)((0,import_ag_charts_core41.constant)("map-shape-background")),topology:import_ag_charts_core41.geoJson},MapShapeBackgroundModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["topology"],identifier:"map-shape-background",moduleFactory:e=>new MapShapeBackgroundSeries(e),tooltipDefaults:{range:"exact"},themeTemplate:{...MAP_THEME_DEFAULTS,series:{fill:{$path:["./1",{$palette:"fill"},{$palette:"hierarchyColors"}]},stroke:{$ref:"backgroundColor"},strokeWidth:1,fillGradientDefaults:{type:"gradient",gradient:"linear",bounds:"item",colorStops:[{$mix:[{$path:["./1",{$palette:"fill"},{$palette:"hierarchyColors"}]},"black",.15]},{$mix:[{$path:["./1",{$palette:"fill"},{$palette:"hierarchyColors"}]},"white",.15]}],rotation:0,reverse:!1},fillPatternDefaults:{...import_ag_charts_community119._ModuleSupport.FILL_PATTERN_DEFAULTS,fill:{$path:["./1",{$palette:"fill"},{$palette:"hierarchyColors"}]},stroke:{$path:["./1",{$palette:"fill"},{$palette:"hierarchyColors"}]}},fillImageDefaults:import_ag_charts_community119._ModuleSupport.FILL_IMAGE_DEFAULTS}}},MapShapeBackgroundSeriesModule={type:"series",name:"map-shape-background",chartType:"topology",enterprise:!0,options:mapShapeBackgroundSeriesOptionsDef,create:e=>new MapShapeBackgroundSeries(e)},import_ag_charts_community127=require("ag-charts-community"),import_ag_charts_community124=require("ag-charts-community"),import_ag_charts_community120=require("ag-charts-community"),import_ag_charts_core42=require("ag-charts-core"),{ChartAxisDirection:ChartAxisDirection14,PolarAxis,diff:diff6,fixNumericExtent:fixNumericExtent7,groupAccumulativeValueProperty,keyProperty:keyProperty8,normaliseGroupTo,resetLabelFn:resetLabelFn5,seriesLabelFadeInAnimation:seriesLabelFadeInAnimation5,seriesLabelFadeOutAnimation,valueProperty:valueProperty12,animationValidation:animationValidation7,createDatumId:createDatumId18,SeriesNodePickMode:SeriesNodePickMode14,normalizeAngle360:normalizeAngle3605,CategoryScale:CategoryScale3,motion:motion6,applyShapeStyle:applyShapeStyle11,isGradientFill:isGradientFill3,getShapeStyle:getShapeStyle13}=import_ag_charts_community120._ModuleSupport,RadialColumnSeriesNodeEvent=class extends import_ag_charts_community120._ModuleSupport.SeriesNodeEvent{constructor(e,t,i,a){super(e,t,i,a),this.angleKey=a.properties.angleKey,this.radiusKey=a.properties.radiusKey}},RadialColumnSeriesBase=class extends import_ag_charts_community120._ModuleSupport.PolarSeries{constructor(e,{animationResetFns:t}){super({moduleCtx:e,categoryKey:"angleValue",useLabelLayer:!0,canHaveAxes:!0,pickModes:[SeriesNodePickMode14.NEAREST_NODE,SeriesNodePickMode14.EXACT_SHAPE_MATCH],animationResetFns:{...t,label:resetLabelFn5}}),this.NodeEvent=RadialColumnSeriesNodeEvent,this.groupScale=new CategoryScale3,this.circleCache={r:0,cx:0,cy:0}}getSeriesDomain(e){const{dataModel:t,processedData:i}=this;if(!i||!t)return[];if(e===ChartAxisDirection14.Angle)return t.getDomain(this,"angleValue","key",i);{const a=t.getDomain(this,"radiusValue-end","value",i),s=Number.isFinite(a[1]-a[0])?[a[0]>0?0:a[0],a[1]<0?0:a[1]]:[];return fixNumericExtent7(s)}}async processData(e){const{angleKey:t,radiusKey:i,normalizedTo:a}=this.properties,s=!this.ctx.animationManager.isSkipped(),o=this.getStackId(),r=`${o}-trailing`,n=[];(0,import_ag_charts_core42.isDefined)(a)&&n.push(normaliseGroupTo([o,r],Math.abs(a))),s&&this.processedData&&n.push(diff6(this.id,this.processedData)),s&&n.push(animationValidation7());const l=this.visible?{}:{forceValue:0},c=this.axes[ChartAxisDirection14.Radius]?.scale.type,h=this.axes[ChartAxisDirection14.Angle]?.scale.type;await this.requestDataModel(e,this.data,{props:[keyProperty8(t,h,{id:"angleValue"}),valueProperty12(i,c,{id:"radiusValue-raw",invalidValue:null,...l}),...groupAccumulativeValueProperty(i,"normal","current",{id:"radiusValue-end",rangeId:"radiusValue-range",invalidValue:null,groupId:o,separateNegative:!0,...l},c),...groupAccumulativeValueProperty(i,"trailing","current",{id:"radiusValue-start",invalidValue:null,groupId:r,separateNegative:!0,...l},c),...n],groupByKeys:!0,groupByData:!1}),this.animationState.transition("updateData")}didCircleChange(){const e=this.radius,t=this.centerX,i=this.centerY,a=this.circleCache;return e!==a.r||t!==a.cx||i!==a.cy?(this.circleCache={r:e,cx:t,cy:i},!0):!1}isRadiusAxisReversed(){return this.axes[ChartAxisDirection14.Radius]?.isReversed()}maybeRefreshNodeData(){if(!this.didCircleChange()&&!this.nodeDataRefresh)return;const{nodeData:t=[]}=this.createNodeData()??{};this.nodeData=t,this.nodeDataRefresh=!1}getAxisInnerRadius(){const e=this.axes[ChartAxisDirection14.Radius];return e instanceof PolarAxis?this.radius*e.innerRadiusRatio:0}createNodeData(){const{processedData:e,dataModel:t,groupScale:i}=this;if(!t||!e||e.type!=="grouped")return;const a=this.axes[ChartAxisDirection14.Angle],s=this.axes[ChartAxisDirection14.Radius],o=a?.scale,r=s?.scale;if(!o||!r)return;const n=t.resolveKeysById(this,"angleValue",e),l=t.resolveColumnById(this,"radiusValue-start",e),c=t.resolveColumnById(this,"radiusValue-end",e),h=t.resolveColumnById(this,"radiusValue-raw",e),p=t.resolveProcessedDataIndexById(this,"radiusValue-range");let u=0,d=0;a instanceof AngleCategoryAxis&&(u=a.groupPaddingInner,d=a.paddingInner);const g=(o.bandwidth??0)*(1-d),{index:y,visibleGroupCount:m}=this.ctx.seriesStateManager.getVisiblePeerGroupIndex(this);i.domain=Array.from({length:m}).map((R,O)=>String(O)),i.range=[-g/2,g/2],i.paddingInner=m>1?u:0;const x=this.isRadiusAxisReversed(),S=x?this.radius:this.getAxisInnerRadius(),D=x?this.getAxisInnerRadius():this.radius,M=D+S,{angleKey:N,radiusKey:v,angleName:b,radiusName:I,label:k}=this.properties,P=(R,O,B,T)=>{const F=this.getLabelText(k,{value:O,datum:R,angleKey:N,radiusKey:v,angleName:b,radiusName:I});if(F)return{x:B,y:T,text:F,textAlign:"center",textBaseline:"middle"}},_=[],A={itemId:v,nodeData:_,labelData:_};if(!this.visible)return A;const{dataSources:L}=e,C=L.get(this.id)??[];for(const{datumIndex:R,group:O}of t.forEachGroupDatum(this,e)){const B=C[R],T=n[R];if(T==null)return;const F=h[R],w=F>=0&&!Object.is(F,-0),E=l[R],G=c[R],W=O.aggregation[p][w?1:0]??0,V=w===x;if(E===void 0||G===void 0)return;let K,z;if(C.length===1)K=-.5*Math.PI,z=1.5*Math.PI;else{const Q=o.convert(T);K=normalizeAngle3605(Q+i.convert(String(y))),z=normalizeAngle3605(K+i.bandwidth)}const X=K+i.bandwidth/2,Y=M-r.convert(E),U=M-r.convert(G),H=(Y+U)/2,$=M-r.convert(0),j=M-r.convert(W),Z=Math.cos(X)*H,q=Math.sin(X)*H,ae=this.properties.label.enabled?P(B,F,Z,q):void 0,se=this.getColumnWidth(K,z);_.push({series:this,datum:B,datumIndex:R,point:{x:Z,y:q,size:0},midPoint:{x:Z,y:q},label:ae,angleValue:T,radiusValue:F,negative:V,innerRadius:Y,outerRadius:U,stackInnerRadius:$,stackOuterRadius:j,startAngle:K,endAngle:z,midAngle:X,axisInnerRadius:S,axisOuterRadius:D,columnWidth:se,index:R})}return{itemId:v,nodeData:_,labelData:_}}getColumnWidth(e,t){return NaN}update({seriesRect:e}){const t=this.checkResize(e);this.maybeRefreshNodeData(),this.contentGroup.translationX=this.centerX,this.contentGroup.translationY=this.centerY,this.highlightGroup.translationX=this.centerX,this.highlightGroup.translationY=this.centerY,this.labelGroup&&(this.labelGroup.translationX=this.centerX,this.labelGroup.translationY=this.centerY),this.updateSectorSelection(this.itemSelection,!1),this.updateSectorSelection(this.highlightSelection,!0),this.updateLabels(),t&&this.animationState.transition("resize"),this.animationState.transition("update")}getItemBaseStyle(e){const{properties:t}=this,i=e?t.highlightStyle.item:void 0;return getShapeStyle13({fill:i?.fill??t.fill,fillOpacity:i?.fillOpacity??t.fillOpacity,stroke:i?.stroke??t.stroke,strokeWidth:i?.strokeWidth??this.getStrokeWidth(t.strokeWidth),strokeOpacity:i?.strokeOpacity??t.strokeOpacity,lineDash:i?.lineDash??t.lineDash,lineDashOffset:i?.lineDashOffset??t.lineDashOffset,cornerRadius:t.cornerRadius},t.fillGradientDefaults,t.fillPatternDefaults,t.fillImageDefaults)}getItemStyleOverrides(e,t,i,a){const{id:s,properties:o}=this,{angleKey:r,radiusKey:n,itemStyler:l,fillGradientDefaults:c,fillPatternDefaults:h,fillImageDefaults:p}=o;if(l==null)return;const u=this.cachedDatumCallback(createDatumId18(e,a?"highlight":"node"),()=>this.callWithContext(l,{seriesId:s,datum:t,highlighted:a,angleKey:r,radiusKey:n,...i}));return getShapeStyle13(u,c,h,p)}updateSectorSelection(e,t){let i=[];if(t){const l=this.ctx.highlightManager?.getActiveHighlight();l?.datum&&l.series===this&&i.push(l)}else i=this.nodeData;const a=this.isRadiusAxisReversed(),s=a?this.radius:this.getAxisInnerRadius(),o=a?this.getAxisInnerRadius():this.radius,r=this.getShapeFillBBox(),n=this.getItemBaseStyle(t);e.update(i,void 0,l=>this.getDatumId(l)).each((l,c)=>{const{datum:h,datumIndex:p,midPoint:u}=c,d=this.getItemStyleOverrides(String(p),h,n,t),f=d?.fill??n.fill,y=isGradientFill3(f)&&f.bounds==="item"?{centerX:u?.x??0,centerY:u?.y??0}:{centerX:0,centerY:0,innerRadius:s,outerRadius:o};this.updateItemPath(l,c,t),applyShapeStyle11(l,n,d,r,y),l.cornerRadius=d?.cornerRadius??n.cornerRadius,l.lineJoin="round"})}updateLabels(){const{label:e}=this.properties;this.labelSelection.update(this.nodeData).each((t,i)=>{e.enabled&&i.label?(t.x=i.label.x,t.y=i.label.y,t.fill=e.color,t.fontFamily=e.fontFamily,t.fontSize=e.fontSize,t.fontStyle=e.fontStyle,t.fontWeight=e.fontWeight,t.text=i.label.text,t.textAlign=i.label.textAlign,t.textBaseline=i.label.textBaseline,t.visible=!0):t.visible=!1})}animateEmptyUpdateReady(){const{labelSelection:e}=this,t=this.getColumnTransitionFunctions();motion6.fromToMotion(this.id,"datums",this.ctx.animationManager,[this.itemSelection],t),seriesLabelFadeInAnimation5(this,"labels",this.ctx.animationManager,e)}animateClearingUpdateEmpty(){const{itemSelection:e}=this,{animationManager:t}=this.ctx,i=this.getColumnTransitionFunctions();motion6.fromToMotion(this.id,"datums",t,[e],i),seriesLabelFadeOutAnimation(this,"labels",t,this.labelSelection)}getTooltipContent(e){const{id:t,dataModel:i,processedData:a,axes:s,properties:o}=this,{angleKey:r,angleName:n,radiusKey:l,radiusName:c,tooltip:h}=o,p=s[ChartAxisDirection14.Angle],u=s[ChartAxisDirection14.Radius];if(!i||!a||!p||!u)return;const d=a.dataSources.get(this.id)?.[e],f=i.resolveKeysById(this,"angleValue",a)[e],g=i.resolveColumnById(this,"radiusValue-raw",a)[e];if(f==null)return;const y=this.getItemBaseStyle(!1);return Object.assign(y,this.getItemStyleOverrides(String(e),e,y,!1)),this.formatTooltipWithContext(h,{heading:p.formatDatum(f),symbol:this.legendItemSymbol(),data:[{label:c,fallbackLabel:l,value:u.formatDatum(g)}]},{seriesId:t,datum:d,title:n,angleKey:r,angleName:n,radiusKey:l,radiusName:c,...y})}pickNodeClosestDatum(e){return this.pickNodeNearestDistantObject(e,this.itemSelection.nodes())}legendItemSymbol(){const{fill:e,stroke:t,fillOpacity:i,strokeOpacity:a,strokeWidth:s,lineDash:o,lineDashOffset:r,fillGradientDefaults:n,fillPatternDefaults:l,fillImageDefaults:c}=this.properties,h=getShapeStyle13({fill:e??"rgba(0, 0, 0, 0)",stroke:t??"rgba(0, 0, 0, 0)",fillOpacity:i,strokeOpacity:a,strokeWidth:s,lineDash:o,lineDashOffset:r},n,l,c);return import_ag_charts_community120._ModuleSupport.isGradientFill(h.fill)&&(h.fill={...h.fill,gradient:"linear",rotation:0,reverse:!1}),{marker:h}}getLegendData(e){if(e!=="category")return[];const{id:t,visible:i}=this,{radiusKey:a,radiusName:s,showInLegend:o}=this.properties;return[{legendType:"category",id:t,itemId:a,seriesId:t,enabled:i,label:{text:s??a},symbol:this.legendItemSymbol(),hideInLegend:!o}]}getDatumId(e){return createDatumId18(e.angleValue)}computeLabelsBBox(){return null}},import_ag_charts_community121=require("ag-charts-community"),{SeriesProperties:SeriesProperties8,FillGradientDefaults:FillGradientDefaults12,FillPatternDefaults:FillPatternDefaults12,FillImageDefaults:FillImageDefaults12,SeriesTooltip:SeriesTooltip17,Property:Property31,Label:Label10}=import_ag_charts_community121._ModuleSupport,RadialColumnSeriesBaseProperties=class extends SeriesProperties8{constructor(){super(...arguments),this.fill="black",this.fillGradientDefaults=new FillGradientDefaults12,this.fillPatternDefaults=new FillPatternDefaults12,this.fillImageDefaults=new FillImageDefaults12,this.fillOpacity=1,this.stroke="black",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.rotation=0,this.label=new Label10,this.tooltip=new SeriesTooltip17}};__decorateClass([Property31],RadialColumnSeriesBaseProperties.prototype,"angleKey",2),__decorateClass([Property31],RadialColumnSeriesBaseProperties.prototype,"angleName",2),__decorateClass([Property31],RadialColumnSeriesBaseProperties.prototype,"radiusKey",2),__decorateClass([Property31],RadialColumnSeriesBaseProperties.prototype,"radiusName",2),__decorateClass([Property31],RadialColumnSeriesBaseProperties.prototype,"fill",2),__decorateClass([Property31],RadialColumnSeriesBaseProperties.prototype,"fillGradientDefaults",2),__decorateClass([Property31],RadialColumnSeriesBaseProperties.prototype,"fillPatternDefaults",2),__decorateClass([Property31],RadialColumnSeriesBaseProperties.prototype,"fillImageDefaults",2),__decorateClass([Property31],RadialColumnSeriesBaseProperties.prototype,"fillOpacity",2),__decorateClass([Property31],RadialColumnSeriesBaseProperties.prototype,"stroke",2),__decorateClass([Property31],RadialColumnSeriesBaseProperties.prototype,"strokeWidth",2),__decorateClass([Property31],RadialColumnSeriesBaseProperties.prototype,"strokeOpacity",2),__decorateClass([Property31],RadialColumnSeriesBaseProperties.prototype,"lineDash",2),__decorateClass([Property31],RadialColumnSeriesBaseProperties.prototype,"lineDashOffset",2),__decorateClass([Property31],RadialColumnSeriesBaseProperties.prototype,"cornerRadius",2),__decorateClass([Property31],RadialColumnSeriesBaseProperties.prototype,"itemStyler",2),__decorateClass([Property31],RadialColumnSeriesBaseProperties.prototype,"rotation",2),__decorateClass([Property31],RadialColumnSeriesBaseProperties.prototype,"stackGroup",2),__decorateClass([Property31],RadialColumnSeriesBaseProperties.prototype,"normalizedTo",2),__decorateClass([Property31],RadialColumnSeriesBaseProperties.prototype,"label",2),__decorateClass([Property31],RadialColumnSeriesBaseProperties.prototype,"tooltip",2);var import_ag_charts_community123=require("ag-charts-community"),import_ag_charts_community122=require("ag-charts-community"),{motion:motion7}=import_ag_charts_community122._ModuleSupport;function createAngleMotionCalculator(){const e={startAngle:new Map,endAngle:new Map},t=["startAngle","endAngle"],i=(r,n,l)=>{t.forEach(c=>{const h=e[c];let p=(l==="removed"||l==="updated"?r:n)[c],u=(l==="removed"?r:n)[c];isNaN(u)&&(u=r.previousDatum?.[c]??NaN);const d=p-u;Math.abs(d)>Math.PI&&(p-=Math.sign(d)*2*Math.PI),h.set(n,{from:p,to:u})})},a=(r,n)=>({startAngle:e.startAngle.get(r)[n],endAngle:e.endAngle.get(r)[n]});return{calculate:i,from:r=>a(r,"from"),to:r=>a(r,"to")}}function fixRadialColumnAnimationStatus(e,t,i){if(i==="updated"){if(e.previousDatum==null||isNaN(e.previousDatum.startAngle)||isNaN(e.previousDatum.endAngle))return"added";if(isNaN(t.startAngle)||isNaN(t.endAngle))return"removed"}return i==="added"&&e.previousDatum!=null?"updated":i}function prepareRadialColumnAnimationFunctions(e){const t=createAngleMotionCalculator();return{toFn:(s,o,r)=>{const{startAngle:n,endAngle:l}=t.to(o);let c,h,p,u,d;return r==="removed"?(c=s.innerRadius,h=s.innerRadius,p=s.columnWidth,u=s.axisInnerRadius,d=s.axisOuterRadius):(c=isNaN(o.innerRadius)?e:o.innerRadius,h=isNaN(o.outerRadius)?e:o.outerRadius,p=isNaN(o.columnWidth)?s.columnWidth:o.columnWidth,u=o.axisInnerRadius,d=o.axisOuterRadius),{innerRadius:c,outerRadius:h,columnWidth:p,axisInnerRadius:u,axisOuterRadius:d,startAngle:n,endAngle:l}},fromFn:(s,o,r)=>{r=fixRadialColumnAnimationStatus(s,o,r),t.calculate(s,o,r);const{startAngle:n,endAngle:l}=t.from(o);let c,h,p,u,d;r==="removed"||r==="updated"?(c=s.innerRadius,h=s.outerRadius,p=s.columnWidth,u=s.axisInnerRadius,d=s.axisOuterRadius):(c=e,h=e,p=o.columnWidth,u=o.axisInnerRadius,d=o.axisOuterRadius);const f=motion7.NODE_UPDATE_STATE_TO_PHASE_MAPPING[r];return{innerRadius:c,outerRadius:h,columnWidth:p,axisInnerRadius:u,axisOuterRadius:d,startAngle:n,endAngle:l,phase:f}}}}function resetRadialColumnSelectionFn(e,{innerRadius:t,outerRadius:i,columnWidth:a,axisInnerRadius:s,axisOuterRadius:o,startAngle:r,endAngle:n}){return{innerRadius:t,outerRadius:i,columnWidth:a,axisInnerRadius:s,axisOuterRadius:o,startAngle:r,endAngle:n}}var{SectorBox,motion:motion8}=import_ag_charts_community123._ModuleSupport;function getRadii(e){const{negative:t,innerRadius:i,outerRadius:a,stackInnerRadius:s,stackOuterRadius:o}=e;return{innerRadius:t?o:s,outerRadius:t?s:o,clipInnerRadius:t?a:i,clipOuterRadius:t?i:a}}function prepareNightingaleAnimationFunctions(e){const t=createAngleMotionCalculator();return{toFn:(s,o,r)=>{const{startAngle:n,endAngle:l}=t.to(o);let c,h,p;if(r==="removed")c=e,h=e,p=new SectorBox(n,l,c,h);else{let u,d;({innerRadius:c,outerRadius:h,clipInnerRadius:u,clipOuterRadius:d}=getRadii(o)),isNaN(c)&&(c=e),isNaN(h)&&(h=e),isNaN(u)&&(u=e),isNaN(d)&&(d=e),p=new SectorBox(n,l,u,d)}return{innerRadius:c,outerRadius:h,startAngle:n,endAngle:l,clipSector:p}},fromFn:(s,o,r)=>{r=fixRadialColumnAnimationStatus(s,o,r),t.calculate(s,o,r);const{startAngle:n,endAngle:l}=t.from(o);let c,h,p;r==="removed"||r==="updated"?(c=s.innerRadius,h=s.outerRadius,p=s.clipSector):(c=e,h=e),p??(p=new SectorBox(n,l,c,h));const u=motion8.NODE_UPDATE_STATE_TO_PHASE_MAPPING[r];return{innerRadius:c,outerRadius:h,startAngle:n,endAngle:l,clipSector:p,phase:u}}}}function resetNightingaleSelectionFn(e,t){const{startAngle:i,endAngle:a}=t,{innerRadius:s,outerRadius:o,clipInnerRadius:r,clipOuterRadius:n}=getRadii(t),l=new SectorBox(i,a,r,n);return{innerRadius:s,outerRadius:o,startAngle:i,endAngle:a,clipSector:l}}var{Sector:Sector4,SectorBox:SectorBox2,PolarZIndexMap}=import_ag_charts_community124._ModuleSupport,NightingaleSeries=class extends RadialColumnSeriesBase{constructor(e){super(e,{animationResetFns:{item:resetNightingaleSelectionFn}}),this.properties=new RadialColumnSeriesBaseProperties}setSeriesIndex(e){return super.setSeriesIndex(e)?(this.contentGroup.zIndex=[0,PolarZIndexMap.FOREGROUND,e],this.highlightGroup.zIndex=[0,PolarZIndexMap.HIGHLIGHT,e],this.labelGroup.zIndex=[0,PolarZIndexMap.LABEL,e],!0):!1}getStackId(){return`nightingale-stack-${this.seriesGrouping?.groupIndex??this.id}-yValues`}nodeFactory(){return new Sector4}updateItemPath(e,t,i){const{negative:a}=t;if(e.centerX=0,e.centerY=0,e.startOuterCornerRadius=a?0:this.properties.cornerRadius,e.endOuterCornerRadius=a?0:this.properties.cornerRadius,e.startInnerCornerRadius=a?this.properties.cornerRadius:0,e.endInnerCornerRadius=a?this.properties.cornerRadius:0,i){const{startAngle:s,endAngle:o}=t,{innerRadius:r,outerRadius:n,clipInnerRadius:l,clipOuterRadius:c}=getRadii(t);e.innerRadius=r,e.outerRadius=n,e.startAngle=s,e.endAngle=o,e.clipSector=new SectorBox2(s,o,l,c)}}getColumnTransitionFunctions(){const e=this.isRadiusAxisReversed()?this.radius:this.getAxisInnerRadius();return prepareNightingaleAnimationFunctions(e)}};NightingaleSeries.className="NightingaleSeries",NightingaleSeries.type="nightingale";var import_ag_charts_community125=require("ag-charts-community"),import_ag_charts_core43=require("ag-charts-core"),{commonSeriesOptionsDefs:commonSeriesOptionsDefs15,nightingaleSeriesThemeableOptionsDef}=import_ag_charts_community125._ModuleSupport,nightingaleSeriesOptionsDef={...nightingaleSeriesThemeableOptionsDef,...commonSeriesOptionsDefs15,type:(0,import_ag_charts_core43.required)((0,import_ag_charts_core43.constant)("nightingale")),angleKey:(0,import_ag_charts_core43.required)(import_ag_charts_core43.string),radiusKey:(0,import_ag_charts_core43.required)(import_ag_charts_core43.string),angleName:import_ag_charts_core43.string,radiusName:import_ag_charts_core43.string,grouped:import_ag_charts_core43.boolean,stacked:import_ag_charts_core43.boolean,stackGroup:import_ag_charts_core43.string,normalizedTo:import_ag_charts_core43.number},import_ag_charts_community126=require("ag-charts-community"),{ThemeConstants:{POLAR_AXIS_TYPE,POLAR_AXIS_SHAPE}}=import_ag_charts_community126._ModuleSupport,axisShape={$path:["./shape",POLAR_AXIS_SHAPE.CIRCLE,{$find:[{$not:[{$isOperation:"./shape"}]},{$path:".."}]}]},NIGHTINGALE_SERIES_THEME={series:{fill:{$palette:"fill"},stroke:{$if:[{$eq:[{$palette:"type"},"inbuilt"]},{$ref:"backgroundColor"},{$palette:"stroke"}]},fillGradientDefaults:{type:"gradient",gradient:"radial",bounds:"series",colorStops:{$palette:"gradient"},rotation:0,reverse:!1},fillPatternDefaults:import_ag_charts_community126._ModuleSupport.FILL_PATTERN_DEFAULTS,fillImageDefaults:import_ag_charts_community126._ModuleSupport.FILL_IMAGE_DEFAULTS,strokeWidth:1,label:{enabled:!1,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"}}},axes:{[POLAR_AXIS_TYPE.ANGLE_CATEGORY]:{shape:axisShape,groupPaddingInner:0,paddingInner:0,label:{spacing:10}},[POLAR_AXIS_TYPE.RADIUS_NUMBER]:{shape:axisShape}}},{ThemeConstants:{POLAR_AXIS_TYPE:POLAR_AXIS_TYPE2}}=import_ag_charts_community127._ModuleSupport,NightingaleModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["polar"],identifier:"nightingale",moduleFactory:e=>new NightingaleSeries(e),tooltipDefaults:{range:"exact"},defaultAxes:[{type:POLAR_AXIS_TYPE2.ANGLE_CATEGORY},{type:POLAR_AXIS_TYPE2.RADIUS_NUMBER}],themeTemplate:NIGHTINGALE_SERIES_THEME,stackable:!0,groupable:!0,stackedByDefault:!0},NightingaleSeriesModule={type:"series",name:"nightingale",chartType:"polar",enterprise:!0,options:nightingaleSeriesOptionsDef,create:e=>new NightingaleSeries(e)},import_ag_charts_community132=require("ag-charts-community"),import_ag_charts_community129=require("ag-charts-community"),import_ag_charts_community128=require("ag-charts-community"),{SeriesProperties:SeriesProperties9,FillGradientDefaults:FillGradientDefaults13,FillPatternDefaults:FillPatternDefaults13,FillImageDefaults:FillImageDefaults13,SeriesTooltip:SeriesTooltip18,Property:Property32,Label:Label11,DropShadow:DropShadow5}=import_ag_charts_community128._ModuleSupport,PyramidSeriesLabel=class extends Label11{},PyramidSeriesStageLabel=class extends Label11{constructor(){super(...arguments),this.spacing=0}};__decorateClass([Property32],PyramidSeriesStageLabel.prototype,"spacing",2),__decorateClass([Property32],PyramidSeriesStageLabel.prototype,"placement",2);var PyramidProperties=class extends SeriesProperties9{constructor(){super(...arguments),this.fills=[],this.fillGradientDefaults=new FillGradientDefaults13,this.fillPatternDefaults=new FillPatternDefaults13,this.fillImageDefaults=new FillImageDefaults13,this.fillOpacity=1,this.strokes=[],this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.direction="vertical",this.reverse=void 0,this.spacing=0,this.aspectRatio=void 0,this.shadow=new DropShadow5().set({enabled:!1}),this.label=new PyramidSeriesLabel,this.stageLabel=new PyramidSeriesStageLabel,this.tooltip=new SeriesTooltip18}};__decorateClass([Property32],PyramidProperties.prototype,"stageKey",2),__decorateClass([Property32],PyramidProperties.prototype,"valueKey",2),__decorateClass([Property32],PyramidProperties.prototype,"fills",2),__decorateClass([Property32],PyramidProperties.prototype,"fillGradientDefaults",2),__decorateClass([Property32],PyramidProperties.prototype,"fillPatternDefaults",2),__decorateClass([Property32],PyramidProperties.prototype,"fillImageDefaults",2),__decorateClass([Property32],PyramidProperties.prototype,"fillOpacity",2),__decorateClass([Property32],PyramidProperties.prototype,"strokes",2),__decorateClass([Property32],PyramidProperties.prototype,"strokeWidth",2),__decorateClass([Property32],PyramidProperties.prototype,"strokeOpacity",2),__decorateClass([Property32],PyramidProperties.prototype,"lineDash",2),__decorateClass([Property32],PyramidProperties.prototype,"lineDashOffset",2),__decorateClass([Property32],PyramidProperties.prototype,"direction",2),__decorateClass([Property32],PyramidProperties.prototype,"reverse",2),__decorateClass([Property32],PyramidProperties.prototype,"spacing",2),__decorateClass([Property32],PyramidProperties.prototype,"aspectRatio",2),__decorateClass([Property32],PyramidProperties.prototype,"itemStyler",2),__decorateClass([Property32],PyramidProperties.prototype,"shadow",2),__decorateClass([Property32],PyramidProperties.prototype,"label",2),__decorateClass([Property32],PyramidProperties.prototype,"stageLabel",2),__decorateClass([Property32],PyramidProperties.prototype,"tooltip",2);function applyPyramidDatum(e,{x:t,y:i,top:a,right:s,bottom:o,left:r}){e.x0=t-a/2,e.x1=t+a/2,e.x2=t+o/2,e.x3=t-o/2,e.y0=i-r/2,e.y1=i-s/2,e.y2=i+s/2,e.y3=i+r/2}function preparePyramidAnimationFunctions(e){return{fromFn:(s,o)=>{const{x:r,y:n}=o;let{top:l,right:c,bottom:h,left:p}=o;return e==="vertical"?(l=0,h=0):(p=0,c=0),{x:r,y:n,top:l,right:c,bottom:h,left:p}},toFn:(s,o)=>{const{x:r,y:n,top:l,right:c,bottom:h,left:p}=o;return{x:r,y:n,top:l,right:c,bottom:h,left:p}},applyFn:applyPyramidDatum}}var{StateMachine:StateMachine3,valueProperty:valueProperty13,SeriesNodePickMode:SeriesNodePickMode15,CachedTextMeasurerPool:CachedTextMeasurerPool8,TextUtils:TextUtils5,createDatumId:createDatumId19,BBox:BBox12,Group:Group13,Selection:Selection12,Text:Text5,PointerEvents:PointerEvents9,applyShapeStyle:applyShapeStyle12,fromToMotion:fromToMotion4,seriesLabelFadeInAnimation:seriesLabelFadeInAnimation6,getShapeStyle:getShapeStyle14}=import_ag_charts_community129._ModuleSupport,PyramidSeries=class extends import_ag_charts_community129._ModuleSupport.DataModelSeries{constructor(e){super({moduleCtx:e,categoryKey:void 0,pickModes:[SeriesNodePickMode15.EXACT_SHAPE_MATCH,SeriesNodePickMode15.NEAREST_NODE]}),this.properties=new PyramidProperties,this.itemGroup=this.contentGroup.appendChild(new Group13({name:"itemGroup"})),this.itemLabelGroup=this.contentGroup.appendChild(new Group13({name:"itemLabelGroup"})),this.stageLabelGroup=this.contentGroup.appendChild(new Group13({name:"stageLabelGroup"})),this.datumSelection=Selection12.select(this.itemGroup,()=>this.nodeFactory()),this.labelSelection=Selection12.select(this.itemLabelGroup,Text5),this.stageLabelSelection=Selection12.select(this.stageLabelGroup,Text5),this.highlightDatumSelection=Selection12.select(this.highlightNode,()=>this.nodeFactory()),this.animationState=new StateMachine3("empty",{empty:{update:{target:"ready",action:()=>this.animateEmptyUpdateReady()},reset:"empty",skip:"ready"},ready:{clear:"empty",reset:"empty",skip:"ready"}},()=>this.checkProcessedDataAnimatable()),this.itemLabelGroup.pointerEvents=PointerEvents9.None,this.stageLabelGroup.pointerEvents=PointerEvents9.None}addChartEventListeners(){this.destroyFns.push(this.ctx.chartEventManager?.addListener("legend-item-click",e=>this.onLegendItemClick(e)))}nodeFactory(){return new FunnelConnector}getNodeData(){return this.contextNodeData?.nodeData}resetAnimation(e){e==="initial"?this.animationState.transition("reset"):e==="ready"&&this.animationState.transition("skip")}async processData(e){if(this.data==null)return;const{id:t,visible:i,ctx:{legendManager:a}}=this,{stageKey:s,valueKey:o}=this.properties,r="band",n="number",l=(h,p,u)=>i&&a.getItemEnabled({seriesId:t,itemId:u}),c=this.visible?{}:{forceValue:0};await this.requestDataModel(e,this.data,{props:[valueProperty13(s,r,{id:"xValue"}),valueProperty13(o,n,{id:"yValue",...c,validation:l,invalidValue:0})]})}createNodeData(){const{id:e,dataModel:t,processedData:i,properties:a,visible:s,ctx:{legendManager:o}}=this,{stageKey:r,valueKey:n,direction:l,reverse:c=l==="horizontal",spacing:h,aspectRatio:p,label:u,stageLabel:d}=a;if(t==null||i==null)return;const f=l==="horizontal",g=t.resolveColumnById(this,"xValue",i),y=t.resolveColumnById(this,"yValue",i),m=CachedTextMeasurerPool8.getMeasurer({font:d.getFont()});let x,S;f?(x="center",S=d.placement==="before"?"bottom":"top"):(x=d.placement==="after"?"left":"right",S="middle");const D=d.enabled?[]:void 0;let M=0,N=0,v=0;const b=i.dataSources.get(this.id)??[];b.forEach((F,w)=>{const E=g[w],G=y[w],W=s&&o.getItemEnabled({seriesId:e,itemId:w});if(v+=G,D==null)return;const V=this.getLabelText(this.properties.stageLabel,{datum:F,value:E,stageKey:r,valueKey:n}),{width:K}=m.measureText(V),z=V.split(`
`).length*TextUtils5.getLineHeight(u.fontSize);M=Math.max(M,K),N=Math.max(N,z),D.push({x:NaN,y:NaN,text:V,textAlign:x,textBaseline:S,visible:W})});const I=this._nodeDataDependencies?.seriesRectWidth??0,k=this._nodeDataDependencies?.seriesRectHeight??0,P=h*(i.input.count-1);let _;if(f){const F=N+d.spacing;_=new BBox12(0,d.placement==="before"?F:0,I,k-F)}else{const F=M+d.spacing;_=new BBox12(d.placement==="after"?0:F,0,I-F,k)}if(p!=null&&p!==0){const F=l==="horizontal"?1/p:p,w=Math.min(_.width,_.height*F),E=w/F;_=new BBox12(_.x+(_.width-w)/2,_.y+(_.height-E)/2,w,E)}let A,L;f?L=d.placement==="before"?_.y-d.spacing:_.y+_.height+d.spacing:A=d.placement==="after"?_.x+_.width+d.spacing:_.x-d.spacing;const C=_.width-(f?P:0),R=_.height-(f?0:P);if(C<0||R<0)return;const O=[],B=[];let T=0;return b.forEach((F,w)=>{const E=g[w],G=y[w],W=s&&o.getItemEnabled({seriesId:e,itemId:w}),V=T+G,K=(T+V)/(2*v),z=(V-T)/v,X=f?C*K+h*w:C*.5,Y=f?R*.5:R*K+h*w,U=_.x+X,H=_.y+Y;if(D!=null){const Q=D[w];Q.x=A??U,Q.y=L??H}let $,j,Z,q;if(f){const Q=C*z;$=Q,Z=Q;const te=(X+Q/2)*(R/_.width),J=(X-Q/2)*(R/_.width);j=c?_.height-te:te,q=c?_.height-J:J}else{const Q=R*z;j=Q,q=Q;const te=(Y-Q/2)*(C/_.height),J=(Y+Q/2)*(C/_.height);$=c?_.width-te:te,Z=c?_.width-J:J}const ae=this.getLabelText(u,{datum:F,value:G,stageKey:r,valueKey:n}),se={x:U,y:H,text:ae,textAlign:"center",textBaseline:"middle",visible:W};B.push(se),O.push({series:this,itemId:n,datum:F,datumIndex:w,index:w,xValue:E,yValue:G,x:U,y:H,top:$,right:j,bottom:Z,left:q,label:se,enabled:W,midPoint:{x:U,y:H}}),T=V}),{itemId:e,nodeData:O,labelData:B,stageLabelData:D,bounds:_}}updateSelections(){this.nodeDataRefresh&&(this.contextNodeData=this.createNodeData(),this.nodeDataRefresh=!1)}update({seriesRect:e}){this.checkResize(e);const{datumSelection:t,labelSelection:i,stageLabelSelection:a,highlightDatumSelection:s}=this;this.updateSelections(),this.contentGroup.visible=this.visible,this.contentGroup.opacity=this.getOpacity();let o=this.ctx.highlightManager?.getActiveHighlight();o!=null&&(o.series!==this||o.datum==null)&&(o=void 0);const r=this.contextNodeData?.nodeData??[],n=this.contextNodeData?.labelData??[],l=this.contextNodeData?.stageLabelData??[];this.datumSelection=this.updateDatumSelection({nodeData:r,datumSelection:t}),this.updateDatumNodes({datumSelection:t,isHighlight:!1}),this.labelSelection=this.updateLabelSelection({labelData:n,labelSelection:i}),this.updateLabelNodes({labelSelection:i,labelProperties:this.properties.label}),this.stageLabelSelection=this.updateStageLabelSelection({stageLabelData:l,stageLabelSelection:a}),this.updateLabelNodes({labelSelection:a,labelProperties:this.properties.stageLabel}),this.highlightDatumSelection=this.updateDatumSelection({nodeData:o!=null?[o]:[],datumSelection:s}),this.updateDatumNodes({datumSelection:s,isHighlight:!0}),this.animationState.transition("update")}updateDatumSelection(e){return e.datumSelection.update(e.nodeData)}getItemBaseStyle(e){const{properties:t}=this,i=e?t.highlightStyle.item:void 0;return getShapeStyle14({fill:i?.fill,fillOpacity:i?.fillOpacity??t.fillOpacity,stroke:i?.stroke,strokeWidth:i?.strokeWidth??this.getStrokeWidth(t.strokeWidth),strokeOpacity:i?.strokeOpacity??t.strokeOpacity,lineDash:i?.lineDash??t.lineDash,lineDashOffset:i?.lineDashOffset??t.lineDashOffset},this.properties.fillGradientDefaults,this.properties.fillPatternDefaults,this.properties.fillImageDefaults)}getItemStyleOverrides(e,t,i,a,s){const{id:o,properties:r}=this,{fills:n,strokes:l,stageKey:c,valueKey:h,itemStyler:p}=r,u=a.fill??n[i%n.length],d=a.stroke??l[i%l.length],f={};if(s||(f.fill=u,f.stroke=d),p!=null){const g=this.cachedDatumCallback(createDatumId19(e,s?"highlight":"node"),()=>this.callWithContext(p,{seriesId:o,datum:t,stageKey:c,valueKey:h,highlighted:s,fill:u,stroke:d,...a}));Object.assign(f,g)}return getShapeStyle14(f,this.properties.fillGradientDefaults,this.properties.fillPatternDefaults,this.properties.fillImageDefaults)}updateDatumNodes(e){const{datumSelection:t,isHighlight:i}=e,{properties:a}=this,{shadow:s}=a,o=this.getItemBaseStyle(i),r=this.contextNodeData?.bounds,n=r?{series:r,axis:r}:void 0;t.each((l,c)=>{const{datumIndex:h,datum:p}=c,u=this.getItemStyleOverrides(String(h),p,h,o,i);applyShapeStyle12(l,o,u,n),applyPyramidDatum(l,c),l.fillShadow=s})}updateLabelSelection(e){return e.labelSelection.update(this.properties.label.enabled?e.labelData:[])}updateStageLabelSelection(e){return e.stageLabelSelection.update(e.stageLabelData)}updateLabelNodes(e){const{labelSelection:t,labelProperties:i}=e,{color:a,fontSize:s,fontStyle:o,fontWeight:r,fontFamily:n}=i;t.each((l,{visible:c,x:h,y:p,text:u,textAlign:d,textBaseline:f})=>{l.visible=c,l.x=h,l.y=p,l.text=u,l.fill=a,l.fontStyle=o,l.fontWeight=r,l.fontSize=s,l.fontFamily=n,l.textAlign=d,l.textBaseline=f})}computeFocusBounds(e){const t=this.getNodeData()?.[e.datumIndex];if(t!==void 0){for(const i of this.datumSelection)if(i.datum===t)return i.node}}getTooltipContent(e){const{id:t,dataModel:i,processedData:a,properties:s}=this,{stageKey:o,valueKey:r,tooltip:n}=s;if(!i||!a)return;const l=a.dataSources.get(this.id)?.[e],c=i.resolveColumnById(this,"xValue",a)[e],h=i.resolveColumnById(this,"yValue",a)[e];if(c==null)return;const p=this.getLabelText(this.properties.stageLabel,{datum:a.dataSources.get(this.id)?.[e],value:h,stageKey:o,valueKey:r}),u=this.getItemBaseStyle(!1);return Object.assign(u,this.getItemStyleOverrides(String(e),e,e,u,!1)),this.formatTooltipWithContext(n,{symbol:this.legendItemSymbol(e),data:[{label:String(c),value:p}]},{seriesId:t,datum:l,title:void 0,stageKey:o,valueKey:r,...u})}getSeriesDomain(){return[NaN,NaN]}getSeriesRange(e,t){return[NaN,NaN]}pickNodeClosestDatum({x:e,y:t}){let i=1/0,a;return this.datumSelection.each((s,o)=>{const r=s.distanceSquared(e,t);r<i&&(i=r,a=o)}),a!=null?{datum:a,distance:Math.sqrt(i)}:void 0}legendItemSymbol(e){const{fills:t,strokes:i,strokeWidth:a,fillOpacity:s,strokeOpacity:o,lineDash:r,lineDashOffset:n}=this.properties,l=t[e%t.length]??"black",c=i[e%i.length]??"black";return{marker:getShapeStyle14({fill:l,fillOpacity:s,stroke:c,strokeWidth:a,strokeOpacity:o,lineDash:r,lineDashOffset:n},this.properties.fillGradientDefaults,this.properties.fillPatternDefaults,this.properties.fillImageDefaults)}}getLegendData(e){const{processedData:t,dataModel:i,id:a,ctx:{legendManager:s},visible:o}=this;if(!i||!t||e!=="category")return[];const{showInLegend:r}=this.properties,n=[],l=i.resolveColumnById(this,"xValue",t);return(t.dataSources.get(this.id)??[]).forEach((h,p)=>{const u=l[p];n.push({legendType:"category",id:a,itemId:p,seriesId:a,enabled:o&&s.getItemEnabled({seriesId:a,itemId:p}),label:{text:u},symbol:this.legendItemSymbol(p),hideInLegend:!r})}),n}animateReset(){this.ctx.animationManager.skipCurrentBatch(),this.ctx.animationManager.stopByAnimationGroupId(this.id)}animateEmptyUpdateReady(){const{datumSelection:e,labelSelection:t,properties:i}=this,a=preparePyramidAnimationFunctions(i.direction);fromToMotion4(this.id,"nodes",this.ctx.animationManager,[e],a),seriesLabelFadeInAnimation6(this,"labels",this.ctx.animationManager,t)}};PyramidSeries.className="PyramidSeries",PyramidSeries.type="pyramid";var import_ag_charts_community130=require("ag-charts-community"),import_ag_charts_core44=require("ag-charts-core"),{commonSeriesOptionsDefs:commonSeriesOptionsDefs16,pyramidSeriesThemeableOptionsDef}=import_ag_charts_community130._ModuleSupport,pyramidSeriesOptionsDef={...pyramidSeriesThemeableOptionsDef,...commonSeriesOptionsDefs16,type:(0,import_ag_charts_core44.required)((0,import_ag_charts_core44.constant)("pyramid")),stageKey:(0,import_ag_charts_core44.required)(import_ag_charts_core44.string),valueKey:(0,import_ag_charts_core44.required)(import_ag_charts_core44.string)},import_ag_charts_community131=require("ag-charts-community"),{ThemeSymbols:{DEFAULT_SHADOW_COLOUR:DEFAULT_SHADOW_COLOUR2}}=import_ag_charts_community131._ModuleSupport,PYRAMID_SERIES_THEME={series:{direction:"vertical",strokeWidth:0,spacing:2,fills:{$palette:"fills"},strokes:{$palette:"strokes"},fillGradientDefaults:{type:"gradient",gradient:"linear",bounds:"item",colorStops:{$palette:"gradient"},rotation:0,reverse:!1},fillPatternDefaults:import_ag_charts_community131._ModuleSupport.FILL_PATTERN_DEFAULTS,fillImageDefaults:import_ag_charts_community131._ModuleSupport.FILL_IMAGE_DEFAULTS,label:{enabled:!0,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"backgroundColor"}},stageLabel:{enabled:!0,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"},spacing:12},shadow:{enabled:!1,color:DEFAULT_SHADOW_COLOUR2,xOffset:3,yOffset:3,blur:5}}},PyramidSeriesModule={type:"series",name:"pyramid",chartType:"standalone",enterprise:!0,options:pyramidSeriesOptionsDef,create:e=>new PyramidSeries(e)},import_ag_charts_community139=require("ag-charts-community"),import_ag_charts_community133=require("ag-charts-community"),{ThemeConstants:{POLAR_AXIS_TYPE:POLAR_AXIS_TYPE3}}=import_ag_charts_community133._ModuleSupport,BASE_RADAR_SERIES_THEME={series:{stroke:{$palette:"stroke"},label:{enabled:!1,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"}},marker:{enabled:!0,fill:{$palette:"fill"},stroke:{$palette:"stroke"},fillGradientDefaults:{type:"gradient",gradient:"radial",bounds:"item",colorStops:{$palette:"gradient"},rotation:0,reverse:!0},fillPatternDefaults:import_ag_charts_community133._ModuleSupport.FILL_PATTERN_DEFAULTS,fillImageDefaults:import_ag_charts_community133._ModuleSupport.FILL_IMAGE_DEFAULTS,fillOpacity:1,shape:"circle",size:6,strokeOpacity:1,strokeWidth:0}},axes:{[POLAR_AXIS_TYPE3.ANGLE_CATEGORY]:{label:{spacing:10}}}},RADAR_LINE_SERIES_THEME=import_ag_charts_community133._ModuleSupport.mergeDefaults({series:{stroke:import_ag_charts_community133._ModuleSupport.SAFE_STROKE_FILL_OPERATION,strokeWidth:2}},BASE_RADAR_SERIES_THEME),RADAR_AREA_SERIES_THEME=import_ag_charts_community133._ModuleSupport.mergeDefaults({series:{fill:{$palette:"fill"},fillGradientDefaults:{type:"gradient",gradient:"linear",bounds:"item",colorStops:{$palette:"gradient"},rotation:0,reverse:!1},fillPatternDefaults:import_ag_charts_community133._ModuleSupport.FILL_PATTERN_DEFAULTS,fillImageDefaults:import_ag_charts_community133._ModuleSupport.FILL_IMAGE_DEFAULTS,fillOpacity:.8,strokeWidth:2,marker:{enabled:!1,fillGradientDefaults:{type:"gradient",gradient:"radial",bounds:"item",colorStops:{$palette:"gradient"},rotation:0,reverse:!0},fillPatternDefaults:import_ag_charts_community133._ModuleSupport.FILL_PATTERN_DEFAULTS,fillImageDefaults:import_ag_charts_community133._ModuleSupport.FILL_IMAGE_DEFAULTS}}},BASE_RADAR_SERIES_THEME),import_ag_charts_community137=require("ag-charts-community"),import_ag_charts_community135=require("ag-charts-community"),import_ag_charts_core45=require("ag-charts-core"),import_ag_charts_community134=require("ag-charts-community"),{Label:Label12,SeriesMarker:SeriesMarker2,SeriesProperties:SeriesProperties10,SeriesTooltip:SeriesTooltip19,Property:Property33}=import_ag_charts_community134._ModuleSupport,RadarSeriesProperties=class extends SeriesProperties10{constructor(){super(...arguments),this.stroke="black",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.rotation=0,this.marker=new SeriesMarker2,this.label=new Label12,this.tooltip=new SeriesTooltip19,this.connectMissingData=!1}};__decorateClass([Property33],RadarSeriesProperties.prototype,"angleKey",2),__decorateClass([Property33],RadarSeriesProperties.prototype,"radiusKey",2),__decorateClass([Property33],RadarSeriesProperties.prototype,"angleName",2),__decorateClass([Property33],RadarSeriesProperties.prototype,"radiusName",2),__decorateClass([Property33],RadarSeriesProperties.prototype,"stroke",2),__decorateClass([Property33],RadarSeriesProperties.prototype,"strokeWidth",2),__decorateClass([Property33],RadarSeriesProperties.prototype,"strokeOpacity",2),__decorateClass([Property33],RadarSeriesProperties.prototype,"lineDash",2),__decorateClass([Property33],RadarSeriesProperties.prototype,"lineDashOffset",2),__decorateClass([Property33],RadarSeriesProperties.prototype,"rotation",2),__decorateClass([Property33],RadarSeriesProperties.prototype,"marker",2),__decorateClass([Property33],RadarSeriesProperties.prototype,"label",2),__decorateClass([Property33],RadarSeriesProperties.prototype,"tooltip",2),__decorateClass([Property33],RadarSeriesProperties.prototype,"connectMissingData",2);var{ChartAxisDirection:ChartAxisDirection15,PolarAxis:PolarAxis2,SeriesNodePickMode:SeriesNodePickMode16,valueProperty:valueProperty14,fixNumericExtent:fixNumericExtent8,seriesLabelFadeInAnimation:seriesLabelFadeInAnimation7,markerFadeInAnimation:markerFadeInAnimation2,resetMarkerFn:resetMarkerFn2,animationValidation:animationValidation8,computeMarkerFocusBounds:computeMarkerFocusBounds3,extent:extent2,BBox:BBox13,Group:Group14,Path:Path9,PointerEvents:PointerEvents10,Selection:Selection13,Text:Text6,Marker:Marker3,mergeDefaults:mergeDefaults4,getShapeStyle:getShapeStyle15}=import_ag_charts_community135._ModuleSupport,RadarSeriesNodeEvent=class extends import_ag_charts_community135._ModuleSupport.SeriesNodeEvent{constructor(e,t,i,a){super(e,t,i,a),this.angleKey=a.properties.angleKey,this.radiusKey=a.properties.radiusKey}},RadarSeries=class extends import_ag_charts_community135._ModuleSupport.PolarSeries{constructor(e){super({moduleCtx:e,categoryKey:"angleValue",useLabelLayer:!0,pickModes:[SeriesNodePickMode16.NEAREST_NODE,SeriesNodePickMode16.EXACT_SHAPE_MATCH],canHaveAxes:!0,animationResetFns:{item:resetMarkerFn2},clipFocusBox:!1}),this.properties=new RadarSeriesProperties,this.NodeEvent=RadarSeriesNodeEvent,this.lineGroup=this.contentGroup.appendChild(new Group14({name:"radar-line"})),this.lineSelection=Selection13.select(this.lineGroup,Path9),this.resetInvalidToZero=!1,this.circleCache={r:0,cx:0,cy:0},this.lineGroup.zIndex=0,this.itemGroup.zIndex=1}nodeFactory(){return new Marker3}getSeriesDomain(e){const{dataModel:t,processedData:i}=this;if(!i||!t)return[];if(e===ChartAxisDirection15.Angle)return t.getDomain(this,"angleValue","value",i);{const a=t.getDomain(this,"radiusValue","value",i),s=extent2(a.length===0?a:[0].concat(a));return fixNumericExtent8(s)}}async processData(e){const{angleKey:t,radiusKey:i}=this.properties,a=[];this.ctx.animationManager.isSkipped()||a.push(animationValidation8());const s=this.axes[ChartAxisDirection15.Radius]?.scale.type,o=this.axes[ChartAxisDirection15.Angle]?.scale.type;await this.requestDataModel(e,this.data,{props:[valueProperty14(t,o,{id:"angleValue"}),valueProperty14(i,s,{id:"radiusValue",invalidValue:void 0}),...a]}),this.animationState.transition("updateData")}didCircleChange(){const e=this.radius,t=this.centerX,i=this.centerY,a=this.circleCache;return e===a.r&&t===a.cx&&i===a.cy?!1:(this.circleCache={r:e,cx:t,cy:i},!0)}getAxisInnerRadius(){const e=this.axes[ChartAxisDirection15.Radius];return e instanceof PolarAxis2?this.radius*e.innerRadiusRatio:0}maybeRefreshNodeData(){if(!this.didCircleChange()&&!this.nodeDataRefresh)return;const{nodeData:t=[]}=this.createNodeData()??{};this.nodeData=t,this.nodeDataRefresh=!1}createNodeData(){const{processedData:e,dataModel:t}=this;if(!e||!t)return;const{angleKey:i,radiusKey:a,angleName:s,radiusName:o,marker:r,label:n}=this.properties,l=this.axes[ChartAxisDirection15.Angle]?.scale,c=this.axes[ChartAxisDirection15.Radius]?.scale;if(!l||!c)return;const h=t.resolveColumnById(this,"angleValue",e),p=t.resolveColumnById(this,"radiusValue",e),u=this.getAxisInnerRadius(),f=(e.dataSources.get(this.id)??[]).map((g,y)=>{const m=h[y],x=p[y],S=l.convert(m),D=this.radius+u-c.convert(x),M=Math.cos(S),N=Math.sin(S),v=M*D,b=N*D;let I;if(n.enabled){const k=this.getLabelText(n,{value:x,datum:g,angleKey:i,radiusKey:a,angleName:s,radiusName:o});if(k){let P="right";(0,import_ag_charts_core45.isNumberEqual)(M,0)?P="center":M>0&&(P="left");let _="bottom";(0,import_ag_charts_core45.isNumberEqual)(N,0)?_="middle":N>0&&(_="top"),I={x:v+M*r.size,y:b+N*r.size,text:k,textAlign:P,textBaseline:_}}}return{series:this,datum:g,datumIndex:y,index:y,point:{x:v,y:b,size:r.size},midPoint:{x:v,y:b},label:I,angleValue:m,radiusValue:x,missing:!(0,import_ag_charts_core45.isFiniteNumber)(S)||!(0,import_ag_charts_core45.isFiniteNumber)(D)}});return{itemId:a,nodeData:f,labelData:f}}update({seriesRect:e}){const t=this.checkResize(e),i=!this.ctx.animationManager.isSkipped(),{series:a}=this.ctx.highlightManager?.getActiveHighlight()??{};this.highlightGroup.visible=(i||this.visible)&&a===this,this.maybeRefreshNodeData(),this.contentGroup.translationX=this.centerX,this.contentGroup.translationY=this.centerY,this.highlightGroup.translationX=this.centerX,this.highlightGroup.translationY=this.centerY,this.labelGroup&&(this.labelGroup.translationX=this.centerX,this.labelGroup.translationY=this.centerY),this.updatePathSelections(),this.updateMarkerSelection(),this.updateMarkers(this.itemSelection,!1),this.updateMarkers(this.highlightSelection,!0),this.updateLabels(),t&&this.animationState.transition("resize"),this.animationState.transition("update")}updatePathSelections(){const e=this.visible?[!0]:[];this.lineSelection.update(e)}updateMarkerSelection(){this.properties.marker.isDirty()&&(this.itemSelection.clear(),this.itemSelection.cleanup(),this.itemSelection=Selection13.select(this.itemGroup,()=>this.nodeFactory(),!1)),this.itemSelection.update(this.properties.marker.enabled?this.nodeData:[])}getMarkerFill(e){return e?.fill??this.properties.marker.fill}getDatumStylerProperties(e){const{id:t,properties:i}=this,{angleKey:a,radiusKey:s}=i;return{seriesId:t,datum:e,angleKey:a,radiusKey:s}}updateMarkers(e,t){const{visible:i}=this,{marker:a,stroke:s,strokeWidth:o,strokeOpacity:r,highlightStyle:n}=this.properties;let l=[];if(i&&a.shape&&a.enabled)if(t){const p=this.ctx.highlightManager?.getActiveHighlight();p?.datum&&(l=[p])}else l=this.nodeData;const c=mergeDefaults4(t&&n.item,a.getStyle(),{stroke:s,strokeWidth:o,strokeOpacity:r}),h=this.getShapeFillBBox();e.update(l).each((p,u)=>{this.updateMarkerStyle(a,p,u.datum,u.point,this.getDatumStylerProperties(u),t,c,h)})}updateLabels(){const{label:e}=this.properties;this.labelSelection.update(this.nodeData).each((t,i)=>{e.enabled&&i.label?(t.x=i.label.x,t.y=i.label.y,t.fill=e.color,t.fontFamily=e.fontFamily,t.fontSize=e.fontSize,t.fontStyle=e.fontStyle,t.fontWeight=e.fontWeight,t.text=i.label.text,t.textAlign=i.label.textAlign,t.textBaseline=i.label.textBaseline,t.visible=!0):t.visible=!1})}getTooltipContent(e){const{id:t,dataModel:i,processedData:a,axes:s,properties:o}=this,{angleKey:r,angleName:n,radiusKey:l,radiusName:c,tooltip:h,marker:p}=o,u=s[ChartAxisDirection15.Angle],d=s[ChartAxisDirection15.Radius];if(!i||!a||!u||!d)return;const f=a.dataSources.get(this.id)?.[e],g=i.resolveColumnById(this,"angleValue",a)[e],y=i.resolveColumnById(this,"radiusValue",a)[e];if(g==null)return;const m=this.getMarkerStyle(p,f,this.getDatumStylerProperties(f),!1);return this.formatTooltipWithContext(h,{heading:u.formatDatum(g),symbol:this.legendItemSymbol(),data:[{label:c,fallbackLabel:l,value:d.formatDatum(y)}]},{seriesId:t,datum:f,title:n,angleKey:r,radiusKey:l,angleName:n,radiusName:c,...m})}legendItemSymbol(){const{stroke:e,strokeWidth:t,strokeOpacity:i,lineDash:a,marker:s}=this.properties;return{marker:getShapeStyle15({shape:s.shape,enabled:s.enabled||t<=0,fill:this.getMarkerFill()??s.stroke??e??"rgba(0, 0, 0, 0)",stroke:s.stroke??e??"rgba(0, 0, 0, 0)",fillOpacity:s.fillOpacity,strokeOpacity:s.strokeOpacity,strokeWidth:s.strokeWidth,lineDash:s.lineDash,lineDashOffset:s.lineDashOffset},s.fillGradientDefaults,s.fillPatternDefaults,s.fillImageDefaults),line:{stroke:e,strokeOpacity:i,strokeWidth:t,lineDash:a}}}getLegendData(e){if(e!=="category")return[];const{id:t,ctx:{legendManager:i},visible:a}=this,{radiusKey:s,radiusName:o,showInLegend:r}=this.properties;return[{legendType:"category",id:t,itemId:s,seriesId:t,enabled:a&&i.getItemEnabled({seriesId:t,itemId:s}),label:{text:o??s},symbol:this.legendItemSymbol(),hideInLegend:!r}]}pickNodeClosestDatum(e){const{nodeData:t,centerX:i,centerY:a}=this,{x:s,y:o}=e,r=this.radius;if(Math.sqrt((s-i)**2+(o-a)**2)>r+this.properties.marker.size)return;let l=1/0,c;for(const h of t){const{point:{x:p=NaN,y:u=NaN}={}}=h;if(isNaN(p)||isNaN(u))continue;const d=Math.sqrt((e.x-p-i)**2+(e.y-u-a)**2);d<l&&(l=d,c=h)}if(c){const h=Math.max(l-(c.point?.size??0),0);return{datum:c,distance:h}}}computeLabelsBBox(){const{label:e}=this.properties;this.maybeRefreshNodeData();const t=[],i=new Text6;return this.nodeData.forEach(a=>{if(!e.enabled||!a.label)return;i.text=a.label.text,i.x=a.label.x,i.y=a.label.y,i.setFont(e),i.setAlign(a.label);const s=i.getBBox();t.push(s)}),t.length===0?null:BBox13.merge(t)}getLineNode(){return this.lineSelection?.at(0)}beforePathAnimation(){const e=this.getLineNode();e&&(e.fill=void 0,e.lineJoin="round",e.lineCap="round",e.pointerEvents=PointerEvents10.None,e.stroke=this.properties.stroke,e.strokeWidth=this.getStrokeWidth(this.properties.strokeWidth),e.strokeOpacity=this.properties.strokeOpacity,e.lineDash=this.properties.lineDash,e.lineDashOffset=this.properties.lineDashOffset)}getLinePoints(){const{nodeData:e,resetInvalidToZero:t}=this,{connectMissingData:i}=this.properties;if(e.length===0)return[];const a=this.axes[ChartAxisDirection15.Radius],o=this.axes[ChartAxisDirection15.Angle]?.isReversed(),n=a?.isReversed()&&!o?[...e].reverse():e,l=[];let c=!1,h;return n.forEach((p,u)=>{let{x:d,y:f}=p.point;const g=isNaN(d)||isNaN(f);g||(h??(h=p)),g&&!i&&(d=0,f=0);const y=u===0||!t&&!i&&(g||c);l.push({x:d,y:f,moveTo:y}),c=g}),h!==void 0&&l.push({x:h.point.x,y:h.point.y,moveTo:!1}),l}animateSinglePath(e,t,i){const{path:a}=e;a.clear(!0);const s=this.getAxisInnerRadius(),o=this.axes[ChartAxisDirection15.Radius],n=o?.isReversed()?this.radius+s-o?.scale.convert(0):s;t.forEach(l=>{const{x:c,y:h,arc:p,radius:u=0,startAngle:d=0,endAngle:f=0,moveTo:g}=l,y=Math.atan2(h,c),m=n*Math.cos(y),x=n*Math.sin(y),S=i,D=m*(1-S)+c*S,M=x*(1-S)+h*S;p?a.arc(c,h,u,d,f):g?a.moveTo(D,M):a.lineTo(D,M)}),e.checkPathDirty()}animatePaths(e){const t=this.getLinePoints(),i=this.getLineNode();i&&this.animateSinglePath(i,t,e)}animateEmptyUpdateReady(){const{itemSelection:e,labelSelection:t}=this,{animationManager:i}=this.ctx;this.beforePathAnimation(),i.animate({id:`${this.id}_'path`,groupId:this.id,from:0,to:1,phase:"initial",collapsable:!1,onUpdate:a=>this.animatePaths(a),onStop:()=>this.animatePaths(1)}),markerFadeInAnimation2(this,i,"added",e),seriesLabelFadeInAnimation7(this,"labels",i,t)}animateWaitingUpdateReady(e){super.animateWaitingUpdateReady(e),this.resetPaths()}animateReadyResize(e){super.animateReadyResize(e),this.resetPaths()}resetPaths(){const e=this.getLineNode();if(e){const{path:t}=e,i=this.getLinePoints();e.fill=void 0,e.stroke=this.properties.stroke,e.strokeWidth=this.getStrokeWidth(this.properties.strokeWidth),e.strokeOpacity=this.properties.strokeOpacity,e.lineDash=this.properties.lineDash,e.lineDashOffset=this.properties.lineDashOffset,t.clear(!0);for(const{x:a,y:s,moveTo:o}of i)o?t.moveTo(a,s):t.lineTo(a,s);e.checkPathDirty()}}getFormattedMarkerStyle(e){const{angleKey:t,radiusKey:i}=this.properties;return this.getMarkerStyle(this.properties.marker,e.datum,{angleKey:t,radiusKey:i},!0)}computeFocusBounds(e){return computeMarkerFocusBounds3(this,e)}};RadarSeries.className="RadarSeries";var import_ag_charts_community136=require("ag-charts-community"),{FillGradientDefaults:FillGradientDefaults14,FillPatternDefaults:FillPatternDefaults14,FillImageDefaults:FillImageDefaults14,Property:Property34}=import_ag_charts_community136._ModuleSupport,RadarAreaSeriesProperties=class extends RadarSeriesProperties{constructor(){super(...arguments),this.fill="black",this.fillGradientDefaults=new FillGradientDefaults14,this.fillPatternDefaults=new FillPatternDefaults14,this.fillImageDefaults=new FillImageDefaults14,this.fillOpacity=1}};__decorateClass([Property34],RadarAreaSeriesProperties.prototype,"fill",2),__decorateClass([Property34],RadarAreaSeriesProperties.prototype,"fillGradientDefaults",2),__decorateClass([Property34],RadarAreaSeriesProperties.prototype,"fillPatternDefaults",2),__decorateClass([Property34],RadarAreaSeriesProperties.prototype,"fillImageDefaults",2),__decorateClass([Property34],RadarAreaSeriesProperties.prototype,"fillOpacity",2);var{Group:Group15,Path:Path10,PointerEvents:PointerEvents11,Selection:Selection14,ChartAxisDirection:ChartAxisDirection16,applyShapeStyle:applyShapeStyle13,getShapeFill:getShapeFill4,getShapeStyle:getShapeStyle16}=import_ag_charts_community137._ModuleSupport,RadarAreaSeries=class extends RadarSeries{constructor(e){super(e),this.properties=new RadarAreaSeriesProperties,this.areaGroup=this.contentGroup.appendChild(new Group15({name:"radar-area"})),this.areaSelection=Selection14.select(this.areaGroup,Path10),this.resetInvalidToZero=!0,this.areaGroup.zIndex=-1}updatePathSelections(){const e=this.visible?[!0]:[];this.areaSelection.update(e),super.updatePathSelections()}getAreaNode(){return this.areaSelection.at(0)}getMarkerFill(e){return e?.fill??this.properties.marker.fill??this.properties.fill}beforePathAnimation(){super.beforePathAnimation();const e=this.getAreaNode(),{fillOpacity:t,fill:i}=this.properties,a=getShapeStyle16({fill:i,fillOpacity:t},this.properties.fillGradientDefaults,this.properties.fillPatternDefaults,this.properties.fillImageDefaults);applyShapeStyle13(e,a,void 0,this.getShapeFillBBox()),e.pointerEvents=PointerEvents11.None,e.stroke=void 0}animatePaths(e){super.animatePaths(e),this.animateSinglePath(this.getAreaNode(),this.getAreaPoints(),e)}getAreaPoints(){const e=this.getLinePoints(),t=r=>{const n=this.axes[r];return n instanceof import_ag_charts_community137._ModuleSupport.PolarAxis?n:void 0},i=t(ChartAxisDirection16.Radius),a=t(ChartAxisDirection16.Angle);if(!i?.isReversed())return e;const o=a?.getAxisLinePoints()?.points??[];return e.concat(...o)}resetPaths(){super.resetPaths();const e=this.getAreaNode();if(e){const{path:t}=e,i=this.getAreaPoints(),a=getShapeFill4(this.properties.fill,this.properties.fillGradientDefaults,this.properties.fillPatternDefaults,this.properties.fillImageDefaults),s=this.getShapeFillBBox();applyShapeStyle13(e,{fill:a,stroke:void 0,fillOpacity:this.properties.fillOpacity,lineDash:this.properties.lineDash,lineDashOffset:this.properties.lineDashOffset},void 0,s),e.lineJoin=e.lineCap="round",t.clear(!0),i.forEach(({x:o,y:r,moveTo:n,arc:l,radius:c=0,startAngle:h=0,endAngle:p=0})=>{l?t.arc(o,r,c,h,p):n?t.moveTo(o,r):t.lineTo(o,r)}),t.closePath(),e.checkPathDirty()}}};RadarAreaSeries.className="RadarAreaSeries",RadarAreaSeries.type="radar-area";var import_ag_charts_community138=require("ag-charts-community"),import_ag_charts_core46=require("ag-charts-core"),{commonSeriesOptionsDefs:commonSeriesOptionsDefs17,radarAreaSeriesThemeableOptionsDef}=import_ag_charts_community138._ModuleSupport,radarAreaSeriesOptionsDef={...radarAreaSeriesThemeableOptionsDef,...commonSeriesOptionsDefs17,type:(0,import_ag_charts_core46.required)((0,import_ag_charts_core46.constant)("radar-area")),angleKey:(0,import_ag_charts_core46.required)(import_ag_charts_core46.string),radiusKey:(0,import_ag_charts_core46.required)(import_ag_charts_core46.string),angleName:import_ag_charts_core46.string,radiusName:import_ag_charts_core46.string},{ThemeConstants:{POLAR_AXIS_TYPE:POLAR_AXIS_TYPE4}}=import_ag_charts_community139._ModuleSupport,RadarAreaModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["polar"],identifier:"radar-area",moduleFactory:e=>new RadarAreaSeries(e),tooltipDefaults:{range:"nearest"},defaultAxes:[{type:POLAR_AXIS_TYPE4.ANGLE_CATEGORY},{type:POLAR_AXIS_TYPE4.RADIUS_NUMBER}],themeTemplate:RADAR_AREA_SERIES_THEME},RadarAreaSeriesModule={type:"series",name:"radar-area",chartType:"polar",enterprise:!0,options:radarAreaSeriesOptionsDef,create:e=>new RadarAreaSeries(e)},import_ag_charts_community141=require("ag-charts-community"),RadarLineSeries=class extends RadarSeries{updatePathSelections(){this.lineSelection.update(this.visible?[!0]:[])}};RadarLineSeries.className="RadarLineSeries",RadarLineSeries.type="radar-line";var import_ag_charts_community140=require("ag-charts-community"),import_ag_charts_core47=require("ag-charts-core"),{commonSeriesOptionsDefs:commonSeriesOptionsDefs18,radarLineSeriesThemeableOptionsDef}=import_ag_charts_community140._ModuleSupport,radarLineSeriesOptionsDef={...radarLineSeriesThemeableOptionsDef,...commonSeriesOptionsDefs18,type:(0,import_ag_charts_core47.required)((0,import_ag_charts_core47.constant)("radar-line")),angleKey:(0,import_ag_charts_core47.required)(import_ag_charts_core47.string),radiusKey:(0,import_ag_charts_core47.required)(import_ag_charts_core47.string),angleName:import_ag_charts_core47.string,radiusName:import_ag_charts_core47.string},{POLAR_AXIS_TYPE:POLAR_AXIS_TYPE5}=import_ag_charts_community141._ModuleSupport.ThemeConstants,RadarLineModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["polar"],identifier:"radar-line",moduleFactory:e=>new RadarLineSeries(e),tooltipDefaults:{range:"nearest"},defaultAxes:[{type:POLAR_AXIS_TYPE5.ANGLE_CATEGORY},{type:POLAR_AXIS_TYPE5.RADIUS_NUMBER}],themeTemplate:RADAR_LINE_SERIES_THEME},RadarLineSeriesModule={type:"series",name:"radar-line",chartType:"polar",enterprise:!0,options:radarLineSeriesOptionsDef,create:e=>new RadarLineSeries(e)},import_ag_charts_community147=require("ag-charts-community"),import_ag_charts_community144=require("ag-charts-community"),import_ag_charts_core48=require("ag-charts-core"),import_ag_charts_community142=require("ag-charts-community"),{SeriesProperties:SeriesProperties11,FillGradientDefaults:FillGradientDefaults15,FillPatternDefaults:FillPatternDefaults15,FillImageDefaults:FillImageDefaults15,SeriesTooltip:SeriesTooltip20,Property:Property35,Label:Label13}=import_ag_charts_community142._ModuleSupport,RadialBarSeriesProperties=class extends SeriesProperties11{constructor(){super(...arguments),this.fill="black",this.fillGradientDefaults=new FillGradientDefaults15,this.fillPatternDefaults=new FillPatternDefaults15,this.fillImageDefaults=new FillImageDefaults15,this.fillOpacity=1,this.stroke="black",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.rotation=0,this.label=new Label13,this.tooltip=new SeriesTooltip20}};__decorateClass([Property35],RadialBarSeriesProperties.prototype,"angleKey",2),__decorateClass([Property35],RadialBarSeriesProperties.prototype,"radiusKey",2),__decorateClass([Property35],RadialBarSeriesProperties.prototype,"angleName",2),__decorateClass([Property35],RadialBarSeriesProperties.prototype,"radiusName",2),__decorateClass([Property35],RadialBarSeriesProperties.prototype,"fill",2),__decorateClass([Property35],RadialBarSeriesProperties.prototype,"fillGradientDefaults",2),__decorateClass([Property35],RadialBarSeriesProperties.prototype,"fillPatternDefaults",2),__decorateClass([Property35],RadialBarSeriesProperties.prototype,"fillImageDefaults",2),__decorateClass([Property35],RadialBarSeriesProperties.prototype,"fillOpacity",2),__decorateClass([Property35],RadialBarSeriesProperties.prototype,"stroke",2),__decorateClass([Property35],RadialBarSeriesProperties.prototype,"strokeWidth",2),__decorateClass([Property35],RadialBarSeriesProperties.prototype,"strokeOpacity",2),__decorateClass([Property35],RadialBarSeriesProperties.prototype,"lineDash",2),__decorateClass([Property35],RadialBarSeriesProperties.prototype,"lineDashOffset",2),__decorateClass([Property35],RadialBarSeriesProperties.prototype,"cornerRadius",2),__decorateClass([Property35],RadialBarSeriesProperties.prototype,"itemStyler",2),__decorateClass([Property35],RadialBarSeriesProperties.prototype,"rotation",2),__decorateClass([Property35],RadialBarSeriesProperties.prototype,"stackGroup",2),__decorateClass([Property35],RadialBarSeriesProperties.prototype,"normalizedTo",2),__decorateClass([Property35],RadialBarSeriesProperties.prototype,"label",2),__decorateClass([Property35],RadialBarSeriesProperties.prototype,"tooltip",2);var import_ag_charts_community143=require("ag-charts-community"),{SectorBox:SectorBox3,motion:motion9}=import_ag_charts_community143._ModuleSupport;function fixRadialBarAnimationStatus(e,t,i){if(i==="updated"){if(e.previousDatum==null||isNaN(e.previousDatum.innerRadius)||isNaN(e.previousDatum.outerRadius))return"added";if(isNaN(t.innerRadius)||isNaN(t.outerRadius))return"removed"}return i==="added"&&e.previousDatum!=null?"updated":i}function prepareRadialBarSeriesAnimationFunctions(e){return{toFn:(a,s,o)=>{let r,n,l,c,h;return o==="removed"?(r=e,n=e,l=s.innerRadius,c=s.outerRadius,h=new SectorBox3(r,n,l,c)):(r=s.startAngle,n=s.endAngle,l=isNaN(s.innerRadius)?a.innerRadius:s.innerRadius,c=isNaN(s.outerRadius)?a.outerRadius:s.outerRadius,h=s.clipSector),{startAngle:r,endAngle:n,innerRadius:l,outerRadius:c,clipSector:h}},fromFn:(a,s,o)=>{o=fixRadialBarAnimationStatus(a,s,o);let r,n,l,c,h;o==="removed"||o==="updated"?(r=a.startAngle,n=a.endAngle,l=a.innerRadius,c=a.outerRadius,h=a.clipSector):(r=e,n=e,l=s.innerRadius,c=s.outerRadius),h??(h=new SectorBox3(r,n,l,c));const p=motion9.NODE_UPDATE_STATE_TO_PHASE_MAPPING[o];return{startAngle:r,endAngle:n,innerRadius:l,outerRadius:c,clipSector:h,phase:p}}}}function resetRadialBarSelectionsFn(e,t){return{centerX:0,centerY:0,innerRadius:t.innerRadius,outerRadius:t.outerRadius,startAngle:t.startAngle,endAngle:t.endAngle,clipSector:t.clipSector}}var{ChartAxisDirection:ChartAxisDirection17,PolarAxis:PolarAxis3,diff:diff7,groupAccumulativeValueProperty:groupAccumulativeValueProperty2,keyProperty:keyProperty9,normaliseGroupTo:normaliseGroupTo2,valueProperty:valueProperty15,fixNumericExtent:fixNumericExtent9,resetLabelFn:resetLabelFn6,seriesLabelFadeInAnimation:seriesLabelFadeInAnimation8,seriesLabelFadeOutAnimation:seriesLabelFadeOutAnimation2,animationValidation:animationValidation9,angleBetween:angleBetween3,createDatumId:createDatumId20,CategoryScale:CategoryScale4,Sector:Sector5,SectorBox:SectorBox4,motion:motion10,isGradientFill:isGradientFill4,applyShapeStyle:applyShapeStyle14,getShapeStyle:getShapeStyle17}=import_ag_charts_community144._ModuleSupport,RadialBarSeriesNodeEvent=class extends import_ag_charts_community144._ModuleSupport.SeriesNodeEvent{constructor(e,t,i,a){super(e,t,i,a),this.angleKey=a.properties.angleKey,this.radiusKey=a.properties.radiusKey}},RadialBarSeries=class extends import_ag_charts_community144._ModuleSupport.PolarSeries{constructor(e){super({moduleCtx:e,categoryKey:"radiusValue",useLabelLayer:!0,canHaveAxes:!0,animationResetFns:{item:resetRadialBarSelectionsFn,label:resetLabelFn6}}),this.properties=new RadialBarSeriesProperties,this.NodeEvent=RadialBarSeriesNodeEvent,this.groupScale=new CategoryScale4,this.circleCache={r:0,cx:0,cy:0}}get defaultShapeStyle(){const e=this.axes[ChartAxisDirection17.Angle]?.scale;return{...this.properties.fillGradientDefaults.toJson(),rotation:import_ag_charts_community144._ModuleSupport.toDegrees(e.range[0])+90}}nodeFactory(){return new Sector5}getSeriesDomain(e){const{dataModel:t,processedData:i}=this;if(!i||!t)return[];if(e===ChartAxisDirection17.Angle){const a=t.getDomain(this,"angleValue-end","value",i),s=[a[0]>0?0:a[0],a[1]<0?0:a[1]];return fixNumericExtent9(s)}else return t.getDomain(this,"radiusValue","key",i)}async processData(e){const{angleKey:t,radiusKey:i,normalizedTo:a}=this.properties,s=!this.ctx.animationManager.isSkipped(),o=this.getStackId(),r=`${o}-trailing`,n=[];(0,import_ag_charts_core48.isDefined)(a)&&n.push(normaliseGroupTo2([o,r],Math.abs(a))),s&&(this.processedData&&n.push(diff7(this.id,this.processedData)),n.push(animationValidation9()));const l=this.visible?{}:{forceValue:0},c=this.axes[ChartAxisDirection17.Radius]?.scale.type,h=this.axes[ChartAxisDirection17.Angle]?.scale.type;await this.requestDataModel(e,this.data,{props:[keyProperty9(i,c,{id:"radiusValue"}),valueProperty15(t,h,{id:"angleValue-raw",invalidValue:null,...l}),...groupAccumulativeValueProperty2(t,"normal","current",{id:"angleValue-end",rangeId:"angleValue-range",invalidValue:null,groupId:o,separateNegative:!0,...l},h),...groupAccumulativeValueProperty2(t,"trailing","current",{id:"angleValue-start",invalidValue:null,groupId:r,separateNegative:!0,...l},h),...n],groupByKeys:!0,groupByData:!1}),this.animationState.transition("updateData")}didCircleChange(){const e=this.radius,t=this.centerX,i=this.centerY,a=this.circleCache;return e===a.r&&t===a.cx&&i===a.cy?!1:(this.circleCache={r:e,cx:t,cy:i},!0)}maybeRefreshNodeData(){if(!this.didCircleChange()&&!this.nodeDataRefresh)return;const{nodeData:t=[]}=this.createNodeData()??{};this.nodeData=t,this.nodeDataRefresh=!1}getAxisInnerRadius(){const e=this.axes[ChartAxisDirection17.Radius];return e instanceof PolarAxis3?this.radius*e.innerRadiusRatio:0}createNodeData(){const{processedData:e,dataModel:t}=this;if(!t||!e||e.type!=="grouped")return;const i=this.axes[ChartAxisDirection17.Angle],a=this.axes[ChartAxisDirection17.Radius],s=i?.scale,o=a?.scale;if(!s||!o)return;const r=t.resolveKeysById(this,"radiusValue",e),n=t.resolveColumnById(this,"angleValue-start",e),l=t.resolveColumnById(this,"angleValue-end",e),c=t.resolveColumnById(this,"angleValue-raw",e),h=t.resolveProcessedDataIndexById(this,"angleValue-range");let p=0;a instanceof RadiusCategoryAxis&&(p=a.groupPaddingInner);const{groupScale:u}=this,{index:d,visibleGroupCount:f}=this.ctx.seriesStateManager.getVisiblePeerGroupIndex(this);u.domain=Array.from({length:f}).map((C,R)=>String(R)),u.range=[0,Math.abs(o.bandwidth??0)],u.paddingInner=f>1?p:0;const g=u.bandwidth>=1?u.bandwidth:u.rawBandwidth,y=i.isReversed(),m=a.isReversed(),x=m?this.radius:this.getAxisInnerRadius(),D=(m?this.getAxisInnerRadius():this.radius)+x,{angleKey:M,radiusKey:N,angleName:v,radiusName:b,label:I}=this.properties,k=(C,R,O,B)=>{const T=this.getLabelText(I,{value:R,datum:C,angleKey:M,radiusKey:N,angleName:v,radiusName:b});if(T)return{x:O,y:B,text:T,textAlign:"center",textBaseline:"middle"}},P=[],_={itemId:N,nodeData:P,labelData:P};if(!this.visible)return _;const{dataSources:A}=e,L=A.get(this.id)??[];for(const{datumIndex:C,group:R}of t.forEachGroupDatum(this,e)){const O=L[C],B=r[C];if(B==null)return;const T=c[C],F=n[C],w=l[C],E=T>=0&&!Object.is(T,-0),G=R.aggregation[h][E?1:0],W=E===y;let V=s.convert(F,{clamp:!0}),K=s.convert(w,{clamp:!0}),z=s.convert(0,{clamp:!0}),X=s.convert(G,{clamp:!0});W&&([z,X]=[X,z],[V,K]=[K,V]);const U=D-o.convert(B)+u.convert(String(d)),H=U+g,$=(U+H)/2,j=V+angleBetween3(V,K)/2,Z=Math.cos(j)*$,q=Math.sin(j)*$,ae=this.properties.label.enabled?k(O,T,Z,q):void 0,se=new SectorBox4(V,K,U,H);P.push({series:this,datum:O,datumIndex:C,point:{x:Z,y:q,size:0},midPoint:{x:Z,y:q},label:ae,angleValue:T,radiusValue:B,innerRadius:U,outerRadius:H,startAngle:z,endAngle:X,clipSector:se,reversed:W,index:C})}return _}update({seriesRect:e}){const t=this.checkResize(e);this.maybeRefreshNodeData(),this.contentGroup.translationX=this.centerX,this.contentGroup.translationY=this.centerY,this.highlightGroup.translationX=this.centerX,this.highlightGroup.translationY=this.centerY,this.labelGroup&&(this.labelGroup.translationX=this.centerX,this.labelGroup.translationY=this.centerY),this.updateSectorSelection(this.itemSelection,!1),this.updateSectorSelection(this.highlightSelection,!0),this.updateLabels(),t&&this.animationState.transition("resize"),this.animationState.transition("update")}getItemBaseStyle(e){const{properties:t}=this,i=e?t.highlightStyle.item:void 0;return getShapeStyle17({fill:i?.fill??t.fill,fillOpacity:i?.fillOpacity??t.fillOpacity,stroke:i?.stroke??t.stroke,strokeWidth:i?.strokeWidth??this.getStrokeWidth(t.strokeWidth),strokeOpacity:i?.strokeOpacity??t.strokeOpacity,lineDash:i?.lineDash??t.lineDash,lineDashOffset:i?.lineDashOffset??t.lineDashOffset,cornerRadius:t.cornerRadius},this.defaultShapeStyle,t.fillPatternDefaults,t.fillImageDefaults)}getItemStyleOverrides(e,t,i,a){const{id:s,properties:o}=this,{angleKey:r,radiusKey:n,itemStyler:l}=o;let c;return l!=null&&(c=this.cachedDatumCallback(createDatumId20(e,a?"highlight":"node"),()=>this.callWithContext(l,{seriesId:s,datum:t,highlighted:a,angleKey:r,radiusKey:n,...i}))),getShapeStyle17(c,this.defaultShapeStyle,this.properties.fillPatternDefaults,this.properties.fillImageDefaults)}updateSectorSelection(e,t){let i=[];if(t){const o=this.ctx.highlightManager?.getActiveHighlight();o?.datum&&o.series===this&&i.push(o)}else i=this.nodeData;const a=this.getItemBaseStyle(t),s=this.getShapeFillBBox();e.update(i,void 0,o=>this.getDatumId(o)).each((o,r)=>{const{datum:n,datumIndex:l}=r,c=this.getItemStyleOverrides(String(l),n,a,t),h=c?.cornerRadius??a.cornerRadius,p=c?.fill??a.fill,u=import_ag_charts_community144._ModuleSupport.isGradientFill(p)&&p.bounds!=="item"?{centerX:0,centerY:0}:void 0;applyShapeStyle14(o,a,c,s,u),o.lineJoin="round",o.inset=o.stroke!=null?o.strokeWidth/2:0,o.startInnerCornerRadius=n.reversed?h:0,o.startOuterCornerRadius=n.reversed?h:0,o.endInnerCornerRadius=n.reversed?0:h,o.endOuterCornerRadius=n.reversed?0:h,t&&(o.startAngle=r.startAngle,o.endAngle=r.endAngle,o.clipSector=r.clipSector,o.innerRadius=r.innerRadius,o.outerRadius=r.outerRadius)})}updateLabels(){const{label:e}=this.properties;this.labelSelection.update(this.nodeData).each((t,i)=>{e.enabled&&i.label?(t.x=i.label.x,t.y=i.label.y,t.fill=e.color,t.fontFamily=e.fontFamily,t.fontSize=e.fontSize,t.fontStyle=e.fontStyle,t.fontWeight=e.fontWeight,t.text=i.label.text,t.textAlign=i.label.textAlign,t.textBaseline=i.label.textBaseline,t.visible=!0):t.visible=!1})}getBarTransitionFunctions(){const e=this.axes[ChartAxisDirection17.Angle]?.scale;let t=0;if(!e)return prepareRadialBarSeriesAnimationFunctions(t);const i=Math.min(e.domain[0],e.domain[1]),a=Math.max(e.domain[0],e.domain[1]);return i<=0&&a>=0&&(t=e.convert(0)),prepareRadialBarSeriesAnimationFunctions(t)}animateEmptyUpdateReady(){const{labelSelection:e}=this,t=this.getBarTransitionFunctions();motion10.fromToMotion(this.id,"datums",this.ctx.animationManager,[this.itemSelection],t),seriesLabelFadeInAnimation8(this,"labels",this.ctx.animationManager,e)}animateClearingUpdateEmpty(){const{itemSelection:e}=this,{animationManager:t}=this.ctx,i=this.getBarTransitionFunctions();motion10.fromToMotion(this.id,"datums",t,[e],i),seriesLabelFadeOutAnimation2(this,"labels",t,this.labelSelection)}getTooltipContent(e){const{id:t,dataModel:i,processedData:a,axes:s,properties:o}=this,{angleKey:r,angleName:n,radiusKey:l,radiusName:c,tooltip:h}=o,p=s[ChartAxisDirection17.Angle],u=s[ChartAxisDirection17.Radius];if(!i||!a||!p||!u)return;const d=a.dataSources.get(this.id)?.[e],f=i.resolveKeysById(this,"radiusValue",a)[e],g=i.resolveColumnById(this,"angleValue-raw",a)[e];if(f==null)return;const y=this.getItemBaseStyle(!1);return Object.assign(y,this.getItemStyleOverrides(String(e),e,y,!1)),this.formatTooltipWithContext(h,{heading:u.formatDatum(f),symbol:this.legendItemSymbol(),data:[{label:n,fallbackLabel:r,value:p.formatDatum(g)}]},{seriesId:t,datum:d,title:n,angleKey:r,angleName:n,radiusKey:l,radiusName:c,...y})}pickNodeClosestDatum(e){return this.pickNodeNearestDistantObject(e,this.itemSelection.nodes())}legendItemSymbol(){const{fill:e,stroke:t,fillOpacity:i,strokeOpacity:a,strokeWidth:s,lineDash:o,lineDashOffset:r,fillPatternDefaults:n,fillImageDefaults:l}=this.properties,c=getShapeStyle17({fill:e??"rgba(0, 0, 0, 0)",stroke:t??"rgba(0, 0, 0, 0)",fillOpacity:i,strokeOpacity:a,strokeWidth:s,lineDash:o,lineDashOffset:r},this.defaultShapeStyle,n,l);return isGradientFill4(c.fill)&&(c.fill={...c.fill,gradient:"linear",rotation:0,reverse:!1}),{marker:c}}getLegendData(e){if(e!=="category")return[];const{id:t,visible:i}=this,{angleKey:a,angleName:s,showInLegend:o}=this.properties;return[{legendType:"category",id:t,itemId:a,seriesId:t,enabled:i,label:{text:s??a},symbol:this.legendItemSymbol(),hideInLegend:!o}]}getDatumId(e){return createDatumId20(e.radiusValue)}computeLabelsBBox(){return null}getStackId(){return`radialBar-stack-${this.seriesGrouping?.groupIndex??this.id}-xValues`}};RadialBarSeries.className="RadialBarSeries",RadialBarSeries.type="radial-bar";var import_ag_charts_community145=require("ag-charts-community"),import_ag_charts_core49=require("ag-charts-core"),{commonSeriesOptionsDefs:commonSeriesOptionsDefs19,radialBarSeriesThemeableOptionsDef}=import_ag_charts_community145._ModuleSupport,radialBarSeriesOptionsDef={...radialBarSeriesThemeableOptionsDef,...commonSeriesOptionsDefs19,type:(0,import_ag_charts_core49.required)((0,import_ag_charts_core49.constant)("radial-bar")),angleKey:(0,import_ag_charts_core49.required)(import_ag_charts_core49.string),radiusKey:(0,import_ag_charts_core49.required)(import_ag_charts_core49.string),angleName:import_ag_charts_core49.string,radiusName:import_ag_charts_core49.string,grouped:import_ag_charts_core49.boolean,stacked:import_ag_charts_core49.boolean,stackGroup:import_ag_charts_core49.string,normalizedTo:import_ag_charts_core49.number},import_ag_charts_community146=require("ag-charts-community"),{ThemeConstants:{POLAR_AXIS_TYPE:POLAR_AXIS_TYPE6}}=import_ag_charts_community146._ModuleSupport,RADIAL_BAR_SERIES_THEME={series:{fill:{$palette:"fill"},stroke:{$palette:"stroke"},fillGradientDefaults:{type:"gradient",gradient:"conic",bounds:"series",colorStops:{$palette:"gradient"},rotation:0,reverse:!1},fillPatternDefaults:import_ag_charts_community146._ModuleSupport.FILL_PATTERN_DEFAULTS,fillImageDefaults:import_ag_charts_community146._ModuleSupport.FILL_IMAGE_DEFAULTS,strokeWidth:0,label:{enabled:!1,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"backgroundColor"}}},axes:{[POLAR_AXIS_TYPE6.RADIUS_CATEGORY]:{innerRadiusRatio:.2,groupPaddingInner:.2,paddingInner:.2,paddingOuter:.1}}},{POLAR_AXIS_TYPE:POLAR_AXIS_TYPE7}=import_ag_charts_community147._ModuleSupport.ThemeConstants,RadialBarModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["polar"],identifier:"radial-bar",moduleFactory:e=>new RadialBarSeries(e),tooltipDefaults:{range:"exact"},defaultAxes:[{type:POLAR_AXIS_TYPE7.ANGLE_NUMBER},{type:POLAR_AXIS_TYPE7.RADIUS_CATEGORY}],themeTemplate:RADIAL_BAR_SERIES_THEME,stackable:!0,groupable:!0},RadialBarSeriesModule={type:"series",name:"radial-bar",chartType:"polar",enterprise:!0,options:radialBarSeriesOptionsDef,create:e=>new RadialBarSeries(e)},import_ag_charts_community152=require("ag-charts-community"),import_ag_charts_community149=require("ag-charts-community"),import_ag_charts_community148=require("ag-charts-community"),{Property:Property36}=import_ag_charts_community148._ModuleSupport,RadialColumnSeriesProperties=class extends RadialColumnSeriesBaseProperties{};__decorateClass([Property36],RadialColumnSeriesProperties.prototype,"columnWidthRatio",2),__decorateClass([Property36],RadialColumnSeriesProperties.prototype,"maxColumnWidthRatio",2);var{ChartAxisDirection:ChartAxisDirection18,PolarAxis:PolarAxis4,RadialColumnShape,getRadialColumnWidth}=import_ag_charts_community149._ModuleSupport,RadialColumnSeries=class extends RadialColumnSeriesBase{constructor(e){super(e,{animationResetFns:{item:resetRadialColumnSelectionFn}}),this.properties=new RadialColumnSeriesProperties}getStackId(){return`radarColumn-stack-${this.seriesGrouping?.groupIndex??this.id}-yValues`}nodeFactory(){return new RadialColumnShape}getColumnTransitionFunctions(){const e=this.isRadiusAxisReversed()?this.radius:this.getAxisInnerRadius();return prepareRadialColumnAnimationFunctions(e)}isRadiusAxisCircle(){const e=this.axes[ChartAxisDirection18.Radius];return e instanceof PolarAxis4?e.shape==="circle":!1}updateItemPath(e,t,i){e.isBeveled=this.isRadiusAxisCircle(),e.isRadiusAxisReversed=this.isRadiusAxisReversed(),i&&(e.innerRadius=t.innerRadius,e.outerRadius=t.outerRadius,e.startAngle=t.startAngle,e.endAngle=t.endAngle,e.columnWidth=t.columnWidth,e.axisInnerRadius=t.axisInnerRadius,e.axisOuterRadius=t.axisOuterRadius)}getColumnWidth(e,t){const{columnWidthRatio:i=.5,maxColumnWidthRatio:a=.5}=this.properties;return getRadialColumnWidth(e,t,this.radius,i,a)}};RadialColumnSeries.className="RadialColumnSeries",RadialColumnSeries.type="radial-column";var import_ag_charts_community150=require("ag-charts-community"),import_ag_charts_core50=require("ag-charts-core"),{commonSeriesOptionsDefs:commonSeriesOptionsDefs20,radialColumnSeriesThemeableOptionsDef}=import_ag_charts_community150._ModuleSupport,radialColumnSeriesOptionsDef={...radialColumnSeriesThemeableOptionsDef,...commonSeriesOptionsDefs20,type:(0,import_ag_charts_core50.required)((0,import_ag_charts_core50.constant)("radial-column")),angleKey:(0,import_ag_charts_core50.required)(import_ag_charts_core50.string),radiusKey:(0,import_ag_charts_core50.required)(import_ag_charts_core50.string),angleName:import_ag_charts_core50.string,radiusName:import_ag_charts_core50.string,grouped:import_ag_charts_core50.boolean,stacked:import_ag_charts_core50.boolean,stackGroup:import_ag_charts_core50.string,normalizedTo:import_ag_charts_core50.number},import_ag_charts_community151=require("ag-charts-community"),{ThemeConstants:{POLAR_AXIS_TYPE:POLAR_AXIS_TYPE8,POLAR_AXIS_SHAPE:POLAR_AXIS_SHAPE2}}=import_ag_charts_community151._ModuleSupport,axisShape2={$path:["./shape",POLAR_AXIS_SHAPE2.CIRCLE,{$find:[{$not:[{$isOperation:"./shape"}]},{$path:".."}]}]},RADIAL_COLUMN_SERIES_THEME={series:{fill:{$palette:"fill"},stroke:{$palette:"stroke"},fillGradientDefaults:{type:"gradient",gradient:"radial",bounds:"series",colorStops:{$palette:"gradient"},rotation:0,reverse:!1},fillPatternDefaults:import_ag_charts_community151._ModuleSupport.FILL_PATTERN_DEFAULTS,fillImageDefaults:import_ag_charts_community151._ModuleSupport.FILL_IMAGE_DEFAULTS,columnWidthRatio:.5,maxColumnWidthRatio:.5,strokeWidth:0,label:{enabled:!1,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"}}},axes:{[POLAR_AXIS_TYPE8.ANGLE_CATEGORY]:{shape:axisShape2,groupPaddingInner:0,paddingInner:0,label:{spacing:10}},[POLAR_AXIS_TYPE8.RADIUS_NUMBER]:{shape:axisShape2,innerRadiusRatio:.5}}},{POLAR_AXIS_TYPE:POLAR_AXIS_TYPE9}=import_ag_charts_community152._ModuleSupport.ThemeConstants,RadialColumnModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["polar"],identifier:"radial-column",moduleFactory:e=>new RadialColumnSeries(e),tooltipDefaults:{range:"exact"},defaultAxes:[{type:POLAR_AXIS_TYPE9.ANGLE_CATEGORY},{type:POLAR_AXIS_TYPE9.RADIUS_NUMBER}],themeTemplate:RADIAL_COLUMN_SERIES_THEME,stackable:!0,groupable:!0},RadialColumnSeriesModule={type:"series",name:"radial-column",chartType:"polar",enterprise:!0,options:radialColumnSeriesOptionsDef,create:e=>new RadialColumnSeries(e)},import_ag_charts_community157=require("ag-charts-community"),import_ag_charts_community156=require("ag-charts-community"),import_ag_charts_core52=require("ag-charts-core"),import_ag_charts_community153=require("ag-charts-community"),{SvgPath,Rotatable,Translatable,Scalable}=import_ag_charts_community153._ModuleSupport,RadialGaugeNeedle=class extends Rotatable(Scalable(Translatable(SvgPath))){constructor(){super(...arguments),this.scalingCenterX=.5,this.scalingCenterY=.5,this.rotationCenterX=.5,this.rotationCenterY=.5}};RadialGaugeNeedle.defaultPathData="M0.50245 0.53745C0.481767 0.53745 0.465 0.520683 0.465 0.5C0.465 0.479317 0.481767 0.46255 0.50245 0.46255L1 0.500012L0.50245 0.53745Z";var import_ag_charts_community154=require("ag-charts-community"),import_ag_charts_core51=require("ag-charts-core"),{BaseProperties:BaseProperties10,SeriesTooltip:SeriesTooltip21,SeriesProperties:SeriesProperties12,PropertiesArray:PropertiesArray3,AxisLabel:AxisLabel4,Property:Property37,Label:Label14}=import_ag_charts_community154._ModuleSupport,RadialGaugeDefaultTargetLabelProperties=class extends Label14{};__decorateClass([Property37],RadialGaugeDefaultTargetLabelProperties.prototype,"spacing",2);var RadialGaugeTargetProperties=class extends BaseProperties10{constructor(){super(...arguments),this.label=new RadialGaugeDefaultTargetLabelProperties}};__decorateClass([Property37],RadialGaugeTargetProperties.prototype,"text",2),__decorateClass([Property37],RadialGaugeTargetProperties.prototype,"value",2),__decorateClass([Property37],RadialGaugeTargetProperties.prototype,"shape",2),__decorateClass([Property37],RadialGaugeTargetProperties.prototype,"placement",2),__decorateClass([Property37],RadialGaugeTargetProperties.prototype,"spacing",2),__decorateClass([Property37],RadialGaugeTargetProperties.prototype,"size",2),__decorateClass([Property37],RadialGaugeTargetProperties.prototype,"rotation",2),__decorateClass([Property37],RadialGaugeTargetProperties.prototype,"fill",2),__decorateClass([Property37],RadialGaugeTargetProperties.prototype,"fillOpacity",2),__decorateClass([Property37],RadialGaugeTargetProperties.prototype,"stroke",2),__decorateClass([Property37],RadialGaugeTargetProperties.prototype,"strokeWidth",2),__decorateClass([Property37],RadialGaugeTargetProperties.prototype,"strokeOpacity",2),__decorateClass([Property37],RadialGaugeTargetProperties.prototype,"lineDash",2),__decorateClass([Property37],RadialGaugeTargetProperties.prototype,"lineDashOffset",2),__decorateClass([Property37],RadialGaugeTargetProperties.prototype,"label",2);var RadialGaugeBarProperties=class extends BaseProperties10{constructor(){super(...arguments),this.enabled=!0,this.fills=new PropertiesArray3(import_ag_charts_community154._ModuleSupport.StopProperties),this.fillMode="continuous",this.fillOpacity=1,this.stroke="black",this.strokeWidth=0,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0}};__decorateClass([Property37],RadialGaugeBarProperties.prototype,"enabled",2),__decorateClass([Property37],RadialGaugeBarProperties.prototype,"fills",2),__decorateClass([Property37],RadialGaugeBarProperties.prototype,"fillMode",2),__decorateClass([Property37],RadialGaugeBarProperties.prototype,"fill",2),__decorateClass([Property37],RadialGaugeBarProperties.prototype,"fillOpacity",2),__decorateClass([Property37],RadialGaugeBarProperties.prototype,"stroke",2),__decorateClass([Property37],RadialGaugeBarProperties.prototype,"strokeWidth",2),__decorateClass([Property37],RadialGaugeBarProperties.prototype,"strokeOpacity",2),__decorateClass([Property37],RadialGaugeBarProperties.prototype,"lineDash",2),__decorateClass([Property37],RadialGaugeBarProperties.prototype,"lineDashOffset",2);var RadialGaugeScaleIntervalProperties=class extends BaseProperties10{constructor(){super(...arguments),this.values=void 0,this.step=void 0,this.minSpacing=0,this.maxSpacing=1e3}};__decorateClass([Property37],RadialGaugeScaleIntervalProperties.prototype,"values",2),__decorateClass([Property37],RadialGaugeScaleIntervalProperties.prototype,"step",2),__decorateClass([Property37],RadialGaugeScaleIntervalProperties.prototype,"minSpacing",2),__decorateClass([Property37],RadialGaugeScaleIntervalProperties.prototype,"maxSpacing",2);var RadialGaugeScaleLabelProperties=class extends AxisLabel4{},RadialGaugeScaleProperties=class extends BaseProperties10{constructor(){super(...arguments),this.min=0,this.max=1,this.fills=new PropertiesArray3(import_ag_charts_community154._ModuleSupport.StopProperties),this.fillMode="continuous",this.fillOpacity=1,this.stroke="black",this.strokeWidth=0,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.defaultFill="black",this.interval=new RadialGaugeScaleIntervalProperties,this.label=new RadialGaugeScaleLabelProperties}};__decorateClass([Property37],RadialGaugeScaleProperties.prototype,"min",2),__decorateClass([Property37],RadialGaugeScaleProperties.prototype,"max",2),__decorateClass([Property37],RadialGaugeScaleProperties.prototype,"fills",2),__decorateClass([Property37],RadialGaugeScaleProperties.prototype,"fillMode",2),__decorateClass([Property37],RadialGaugeScaleProperties.prototype,"fill",2),__decorateClass([Property37],RadialGaugeScaleProperties.prototype,"fillOpacity",2),__decorateClass([Property37],RadialGaugeScaleProperties.prototype,"stroke",2),__decorateClass([Property37],RadialGaugeScaleProperties.prototype,"strokeWidth",2),__decorateClass([Property37],RadialGaugeScaleProperties.prototype,"strokeOpacity",2),__decorateClass([Property37],RadialGaugeScaleProperties.prototype,"lineDash",2),__decorateClass([Property37],RadialGaugeScaleProperties.prototype,"lineDashOffset",2),__decorateClass([Property37],RadialGaugeScaleProperties.prototype,"defaultFill",2),__decorateClass([Property37],RadialGaugeScaleProperties.prototype,"interval",2),__decorateClass([Property37],RadialGaugeScaleProperties.prototype,"label",2);var RadialGaugeNeedleProperties=class extends BaseProperties10{constructor(){super(...arguments),this.enabled=!0,this.spacing=0,this.fill="black",this.fillOpacity=1,this.stroke="black",this.strokeWidth=0,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0}};__decorateClass([Property37],RadialGaugeNeedleProperties.prototype,"enabled",2),__decorateClass([Property37],RadialGaugeNeedleProperties.prototype,"radiusRatio",2),__decorateClass([Property37],RadialGaugeNeedleProperties.prototype,"spacing",2),__decorateClass([Property37],RadialGaugeNeedleProperties.prototype,"fill",2),__decorateClass([Property37],RadialGaugeNeedleProperties.prototype,"fillOpacity",2),__decorateClass([Property37],RadialGaugeNeedleProperties.prototype,"stroke",2),__decorateClass([Property37],RadialGaugeNeedleProperties.prototype,"strokeWidth",2),__decorateClass([Property37],RadialGaugeNeedleProperties.prototype,"strokeOpacity",2),__decorateClass([Property37],RadialGaugeNeedleProperties.prototype,"lineDash",2),__decorateClass([Property37],RadialGaugeNeedleProperties.prototype,"lineDashOffset",2);var RadialGaugeLabelProperties=class extends AutoSizedLabel{};__decorateClass([Property37],RadialGaugeLabelProperties.prototype,"text",2);var RadialGaugeSecondaryLabelProperties=class extends AutoSizedSecondaryLabel{};__decorateClass([Property37],RadialGaugeSecondaryLabelProperties.prototype,"text",2);var RadialGaugeSeriesProperties=class extends SeriesProperties12{constructor(){super(...arguments),this.startAngle=0,this.endAngle=0,this.segmentation=new GaugeSegmentationProperties,this.defaultColorRange=[],this.targets=new PropertiesArray3(RadialGaugeTargetProperties),this.defaultTarget=new RadialGaugeTargetProperties,this.outerRadiusRatio=1,this.innerRadiusRatio=1,this.cornerRadius=0,this.cornerMode="container",this.spacing=0,this.scale=new RadialGaugeScaleProperties,this.bar=new RadialGaugeBarProperties,this.needle=new RadialGaugeNeedleProperties,this.label=new RadialGaugeLabelProperties,this.secondaryLabel=new RadialGaugeSecondaryLabelProperties,this.tooltip=new SeriesTooltip21}};__decorateClass([Property37],RadialGaugeSeriesProperties.prototype,"value",2),__decorateClass([Property37],RadialGaugeSeriesProperties.prototype,"startAngle",2),__decorateClass([Property37],RadialGaugeSeriesProperties.prototype,"endAngle",2),__decorateClass([Property37],RadialGaugeSeriesProperties.prototype,"segmentation",2),__decorateClass([Property37],RadialGaugeSeriesProperties.prototype,"defaultColorRange",2),__decorateClass([Property37],RadialGaugeSeriesProperties.prototype,"targets",2),__decorateClass([Property37],RadialGaugeSeriesProperties.prototype,"defaultTarget",2),__decorateClass([Property37],RadialGaugeSeriesProperties.prototype,"outerRadiusRatio",2),__decorateClass([Property37],RadialGaugeSeriesProperties.prototype,"innerRadiusRatio",2),__decorateClass([Property37],RadialGaugeSeriesProperties.prototype,"outerRadius",2),__decorateClass([Property37],RadialGaugeSeriesProperties.prototype,"innerRadius",2),__decorateClass([Property37],RadialGaugeSeriesProperties.prototype,"cornerRadius",2),__decorateClass([Property37],RadialGaugeSeriesProperties.prototype,"cornerMode",2),__decorateClass([Property37],RadialGaugeSeriesProperties.prototype,"spacing",2),__decorateClass([Property37],RadialGaugeSeriesProperties.prototype,"scale",2),__decorateClass([Property37],RadialGaugeSeriesProperties.prototype,"bar",2),__decorateClass([Property37],RadialGaugeSeriesProperties.prototype,"needle",2),__decorateClass([Property37],RadialGaugeSeriesProperties.prototype,"label",2),__decorateClass([Property37],RadialGaugeSeriesProperties.prototype,"secondaryLabel",2),__decorateClass([Property37],RadialGaugeSeriesProperties.prototype,"tooltip",2);var import_ag_charts_community155=require("ag-charts-community"),{SectorBox:SectorBox5}=import_ag_charts_community155._ModuleSupport;function computeClipSector(e){const{startAngle:t,endAngle:i,clipStartAngle:a,clipEndAngle:s,innerRadius:o,outerRadius:r}=e;if(!(a==null||s==null))return new SectorBox5(Math.max(a,t),Math.min(s,i),o,r)}function clipSectorVisibility(e,t,i){return Math.max(e,i.startAngle)<=Math.min(t,i.endAngle)}function hasClipSector(e){return e.clipStartAngle!=null&&e.clipEndAngle!=null}function datumClipSector(e,t){const{clipStartAngle:i,clipEndAngle:a,innerRadius:s,outerRadius:o}=e;return new SectorBox5(i,t?i:a,s,o)}function prepareRadialGaugeSeriesAnimationFunctions(e,t){const i=e?"initial":"update";return{node:{fromFn(o,r){const n=o.previousDatum;let{startAngle:l,endAngle:c}=n??r;const h=n!=null&&hasClipSector(n)?datumClipSector(n,e):void 0,p=hasClipSector(r)?datumClipSector(r,e):void 0;let u;return h!=null&&p!=null?u=h:h==null&&p!=null?(u=p,l=r.startAngle,c=r.endAngle):h!=null&&p==null?(u=void 0,l=r.startAngle,c=r.endAngle):e&&(c=l),{startAngle:l,endAngle:c,clipSector:u,phase:i}},toFn(o,r){const{startAngle:n,endAngle:l}=r;let c;return hasClipSector(r)&&(c=datumClipSector(r,!1)),{startAngle:n,endAngle:l,clipSector:c}},applyFn(o,r){const{startAngle:n,endAngle:l}=r;let{clipSector:c}=r;c!=null&&(c=new SectorBox5(Math.max(n,c.startAngle),Math.min(l,c.endAngle),c.innerRadius,c.outerRadius));const h=c==null||clipSectorVisibility(n,l,c);o.startAngle=n,o.endAngle=l,o.clipSector=c,o.visible=h}},needle:{fromFn(o){let{angle:r}=o.previousDatum??o.datum;return e&&(r=t),{rotation:r,phase:i}},toFn(o,r){const{angle:n}=r;return{rotation:n}}}}}function resetRadialGaugeSeriesResetSectorFunction(e,t){const{startAngle:i,endAngle:a}=t,s=computeClipSector(t),o=s==null||clipSectorVisibility(i,a,s);return{startAngle:i,endAngle:a,clipSector:s,visible:o}}function resetRadialGaugeSeriesResetNeedleFunction(e,t){const{angle:i}=t;return{rotation:i}}var verticalAlignFactors3={top:0,middle:.5,bottom:1};function formatRadialGaugeLabels(e,t,i,a,s,o){const{padding:r,textAlign:n,verticalAlign:l}=a;let c,h;if(i.each((M,N)=>{N.label==="primary"?c=N:N.label==="secondary"&&(h=N)}),c==null)return;const p=getLabelText(e.id,t,c,o?.label);if(p==null)return;const u=h!=null?getLabelText(e.id,t,h,o?.secondaryLabel):void 0,d={padding:r},f=n==="center"?2:1,g=l==="middle"?2:1,y=M=>({width:Math.sqrt(Math.max(s**2-(M/g)**2,0))*f,height:Math.min(M,g*s),meta:null});let m,x,S;if(h!=null&&u!=null){const M=formatStackedLabels(p,c,u,h,d,y);m=M?.label,x=M?.secondaryLabel,S=M?.height??0}else{const M=formatSingleLabel(p,c,d,y);m=M?.[0],x=void 0,S=M?.[0].height??0}const D=S*verticalAlignFactors3[l];i.each((M,N)=>{let v;if(N.label==="primary"?v=m:N.label==="secondary"&&(v=x),v==null){M.visible=!1;return}M.visible=!0,M.text=v.text,M.fontSize=v.fontSize,M.lineHeight=v.lineHeight,M.textAlign=n,M.textBaseline="middle";const b=N.label==="primary"?v.height/2:S-v.height/2;M.y=N.centerY+b-D,M.x=N.centerX})}var{fromToMotion:fromToMotion5,resetMotion:resetMotion4,CachedTextMeasurerPool:CachedTextMeasurerPool9,SeriesNodePickMode:SeriesNodePickMode17,StateMachine:StateMachine4,createDatumId:createDatumId21,normalizeAngle360:normalizeAngle3606,normalizeAngle360Inclusive:normalizeAngle360Inclusive2,isBetweenAngles:isBetweenAngles2,sectorBox,toDegrees,toRadians:toRadians4,BBox:BBox14,Group:Group16,PointerEvents:PointerEvents12,Selection:Selection15,Sector:Sector6,SectorBox:SectorBox6,Text:Text7,Marker:Marker4,getColorStops:getColorStops2}=import_ag_charts_community156._ModuleSupport,targetPlacementRotation={inside:90,middle:0,outside:-90},outsideLabelPlacements=[{textAlign:"left",textBaseline:"top"},{textAlign:"right",textBaseline:"top"},{textAlign:"right",textBaseline:"bottom"},{textAlign:"left",textBaseline:"bottom"}],insideLabelPlacements=[{textAlign:"right",textBaseline:"bottom"},{textAlign:"left",textBaseline:"bottom"},{textAlign:"left",textBaseline:"top"},{textAlign:"right",textBaseline:"top"}],RadialGaugeSeries=class extends import_ag_charts_community156._ModuleSupport.Series{constructor(e){super({moduleCtx:e,useLabelLayer:!0,pickModes:[SeriesNodePickMode17.EXACT_SHAPE_MATCH,SeriesNodePickMode17.NEAREST_NODE]}),this.centerX=0,this.centerY=0,this.radius=0,this.textAlign="center",this.verticalAlign="middle",this.properties=new RadialGaugeSeriesProperties,this.scale=new LinearAngleScale,this.scaleGroup=this.contentGroup.appendChild(new Group16({name:"scaleGroup"})),this.itemGroup=this.contentGroup.appendChild(new Group16({name:"itemGroup"})),this.itemNeedleGroup=this.contentGroup.appendChild(new Group16({name:"itemNeedleGroup"})),this.itemTargetGroup=this.contentGroup.appendChild(new Group16({name:"itemTargetGroup"})),this.itemTargetLabelGroup=this.contentGroup.appendChild(new Group16({name:"itemTargetLabelGroup"})),this.itemLabelGroup=this.contentGroup.appendChild(new Group16({name:"itemLabelGroup"})),this.highlightTargetGroup=this.highlightGroup.appendChild(new Group16({name:"itemTargetLabelGroup"})),this.tickGroup=this.contentGroup.appendChild(new Group16({name:"tickGroup"})),this.scaleSelection=Selection15.select(this.scaleGroup,()=>this.nodeFactory()),this.datumSelection=Selection15.select(this.itemGroup,()=>this.nodeFactory()),this.needleSelection=Selection15.select(this.itemNeedleGroup,RadialGaugeNeedle),this.targetSelection=Selection15.select(this.itemTargetGroup,()=>this.markerFactory()),this.targetLabelSelection=Selection15.select(this.itemTargetLabelGroup,Text7),this.labelSelection=Selection15.select(this.itemLabelGroup,Text7),this.highlightTargetSelection=Selection15.select(this.highlightTargetGroup,()=>this.markerFactory()),this.tickSelection=Selection15.select(this.tickGroup,import_ag_charts_community156._ModuleSupport.TransformableText),this.datumUnion=new DatumUnion,this.animationState=new StateMachine4("empty",{empty:{update:{target:"ready",action:()=>this.animateEmptyUpdateReady()},reset:"empty",skip:"ready"},ready:{updateData:"waiting",clear:"clearing",resize:()=>this.animateReadyResize(),reset:"empty",skip:"ready"},waiting:{update:{target:"ready",action:()=>this.animateWaitingUpdateReady()},reset:"empty",skip:"ready"},clearing:{update:{target:"empty"},reset:"empty",skip:"ready"}}),this.scaleGroup.pointerEvents=PointerEvents12.None,this.tickGroup.pointerEvents=PointerEvents12.None,this.itemNeedleGroup.pointerEvents=PointerEvents12.None,this.itemLabelGroup.pointerEvents=PointerEvents12.None}get hasData(){return this.properties.value!=null}nodeFactory(){return new Sector6}markerFactory(){const e=new Marker4;return e.size=1,e}processData(){this.nodeDataRefresh=!0,this.animationState.transition("updateData")}formatLabel(e){const{min:t,max:i}=this.properties.scale;return formatLabel(e,{min:t,max:i})}layoutScale(){const{scale:e,properties:t}=this,{seriesRectWidth:i,seriesRectHeight:a}=this.nodeDataDependencies,{scale:s,outerRadius:o}=this.properties,{min:r,max:n,label:l,interval:c}=s,h=toRadians4(t.startAngle-90),p=toRadians4(t.endAngle-90),d=normalizeAngle360Inclusive2(p-h)>Math.PI,f=d||isBetweenAngles2(1.5*Math.PI,h,p),g=d||isBetweenAngles2(0*Math.PI,h,p),y=d||isBetweenAngles2(.5*Math.PI,h,p),m=d||isBetweenAngles2(1*Math.PI,h,p);let x;m&&!g?x="right":!m&&g?x="left":x="center";let S;f&&!y?S="bottom":!f&&y?S="top":S="middle";const D=sectorBox({startAngle:h,endAngle:p,innerRadius:0,outerRadius:.5}),M=-(D.x+D.width/2)*2,N=-(D.y+D.height/2)*2,v=Math.min(i/D.width,a/D.height);e.domain=[r,n],e.range=[h,p],e.arcLength=v/2;const{maxSpacing:b,minSpacing:I}=c,{arcLength:k}=e,P=b?Math.floor(k/b):1,_=I?Math.floor(k/I):1/0,A=Math.floor(4/Math.PI*Math.abs(e.range[0]-e.range[1])),L=Math.max(P,Math.min(_,A)),C=c.values??e.ticks({nice:!1,interval:c.step,minTickCount:P,maxTickCount:_,tickCount:L})?.ticks??[],R=C.reduce((V,K)=>Math.max(V,typeof K=="number"?(0,import_ag_charts_core52.countFractionDigits)(K):0),0),O=e.tickFormatter({domain:e.domain,ticks:C,fractionDigits:R,specifier:typeof l.format=="string"?l.format:void 0}),B=l.getFont(),T=C.map((V,K)=>{let z;l.formatter&&(z=formatWithContext(this.ctx,l.formatter,{value:V,index:K,domain:e.domain,boundSeries:void 0})),z===void 0&&(z=O(V));const{width:X,height:Y}=CachedTextMeasurerPool9.measureText(z,{font:B});return{index:K,value:V,text:z,width:X,height:Y}}),F=T.reduce((V,K)=>Math.max(V,K.width),0),w=T.reduce((V,K)=>Math.max(V,K.height),0),E=l.enabled?Math.max(F,w)+l.spacing:0,G=Math.max(.5*v-E,0),W=o??G;return this.centerX=i/2+M*W,this.centerY=a/2+N*W,this.radius=W,this.textAlign=x,this.verticalAlign=S,T}createConicGradient(e,t){const{scale:i}=this,{domain:a,range:s}=i,[o,r]=s,{defaultColorRange:n}=this.properties,l=normalizeAngle3606((o+r)/2+Math.PI),c=normalizeAngle360Inclusive2(r-o);return{type:"gradient",gradient:"conic",colorSpace:"oklch",colorStops:getColorStops2(e,n,a,t).map(({color:p,stop:u})=>(u=Math.min(Math.max(u,0),1),u=(o+c*u-l)/(2*Math.PI),u=(u%1+1)%1,{stop:u,color:p})),rotation:toDegrees(l)+90}}getShapeFillBBox(){const{centerX:e,centerY:t,radius:i}=this;return new BBox14(e-i,t-i,2*i,2*i)}getTargets(){const{properties:e}=this,t=e.defaultTarget;return Array.from(e.targets).map(i=>{const{text:a=t.text,value:s=t.value??0,shape:o=t.shape??"triangle",rotation:r=t.rotation??0,strokeWidth:n=t.strokeWidth??0,placement:l=t.placement??"middle",spacing:c=t.spacing??0,size:h=t.size??0,fill:p=t.fill??"black",fillOpacity:u=t.fillOpacity??1,stroke:d=t.stroke??"black",strokeOpacity:f=t.strokeOpacity??1,lineDash:g=t.lineDash??[0],lineDashOffset:y=t.lineDashOffset??0}=i,{enabled:m=t.label.enabled,color:x=t.label.color??"black",fontStyle:S=t.label.fontStyle??"normal",fontWeight:D=t.label.fontWeight??"normal",fontSize:M=t.label.fontSize,fontFamily:N=t.label.fontFamily,spacing:v=t.label.spacing??0}=i.label;return{text:a,value:s,shape:o,placement:l,spacing:c,size:h,rotation:r,fill:p,fillOpacity:u,stroke:d,strokeWidth:n,strokeOpacity:f,lineDash:g,lineDashOffset:y,label:{enabled:m,color:x,fontStyle:S,fontWeight:D,fontSize:M,fontFamily:N,spacing:v}}})}getTargetRadius(e){const{radius:t,properties:i}=this,{innerRadiusRatio:a,outerRadiusRatio:s}=i,{placement:o,spacing:r,size:n}=e,l=t*s,c=t*a;switch(o){case"inside":return Math.max(c-r-n/2,0);case"outside":return l+r+n/2;default:return(c+l)/2}}getTargetLabel(e){const{scale:t}=this,{value:i,size:a,placement:s,label:o}=e,{spacing:r,color:n,fontStyle:l,fontWeight:c,fontSize:h,fontFamily:p}=o,u=void 0,d=t.convert(i),f=normalizeAngle3606(d)/(Math.PI/2)|0,g=a/2+r;let y,m,x,S;switch(s){case"outside":({textAlign:y,textBaseline:m}=outsideLabelPlacements[f]),x=g*Math.cos(d),S=g*Math.sin(d);break;case"inside":({textAlign:y,textBaseline:m}=insideLabelPlacements[f]),x=-g*Math.cos(d),S=-g*Math.sin(d);break;default:y="center",m="bottom",x=0,S=-g;break}return{offsetX:x,offsetY:S,fill:n,textAlign:y,textBaseline:m,fontStyle:l,fontWeight:c,fontSize:h,fontFamily:p,lineHeight:u}}createNodeData(){const e=this.layoutScale(),{id:t,scale:i,properties:a,radius:s,centerX:o,centerY:r}=this,{value:n,innerRadiusRatio:l,outerRadiusRatio:c,segmentation:h,cornerRadius:p,cornerMode:u,needle:d,bar:f,scale:g,label:y,secondaryLabel:m}=a,{outerRadius:x=s*c,innerRadius:S=s*l}=a,D=this.getTargets(),M=[],N=[],v=[],b=[],I=[],k=u==="item",P=i.convert(i.domain[0]),_=i.convert(n),A=Math.ceil(normalizeAngle360Inclusive2(_-P)*s);let L=h.enabled?h.interval.getSegments(i,A):void 0;const C=f.enabled?f.fill??this.createConicGradient(f.fills,f.fillMode):"rgba(0,0,0,0)",R=g.fill??(f.enabled&&g.fills.length===0?g.defaultFill:void 0)??this.createConicGradient(g.fills,g.fillMode);if(L==null&&k){const O=Math.min(...i.domain),B=Math.max(...i.domain),T={value:n,segmentStart:O,segmentEnd:B},w=Math.min(p,(x-S)/2)/((S+x)/2);M.push({series:this,itemId:"value",datum:T,datumIndex:{type:0},type:0,centerX:o,centerY:r,outerRadius:x,innerRadius:S,startAngle:P-w,endAngle:_+w,clipStartAngle:void 0,clipEndAngle:void 0,startCornerRadius:p,endCornerRadius:p,fill:C}),I.push({series:this,itemId:"scale",datum:T,datumIndex:{type:0},type:0,centerX:o,centerY:r,outerRadius:x,innerRadius:S,startAngle:i.range[0]-w,endAngle:i.range[1]+w,clipStartAngle:void 0,clipEndAngle:void 0,startCornerRadius:p,endCornerRadius:p,fill:R})}else{L??(L=i.domain);for(let O=0;O<L.length-1;O++){const B=L[O],T=L[O+1],F={value:n,segmentStart:B,segmentEnd:T},w=O===0,E=O===L.length-2,G=i.convert(B),W=i.convert(T);M.push({series:this,itemId:`value-${O}`,datum:F,datumIndex:{type:0},type:0,centerX:o,centerY:r,outerRadius:x,innerRadius:S,startAngle:G,endAngle:W,clipStartAngle:P,clipEndAngle:_,startCornerRadius:k||w?p:0,endCornerRadius:k||E?p:0,fill:C}),I.push({series:this,itemId:`scale-${O}`,datum:F,datumIndex:{type:0},type:0,centerX:o,centerY:r,outerRadius:x,innerRadius:S,startAngle:G,endAngle:W,clipStartAngle:void 0,clipEndAngle:void 0,startCornerRadius:k||w?p:0,endCornerRadius:k||E?p:0,fill:R})}}if(!d.enabled&&y.enabled){const{text:O,color:B,fontSize:T,minimumFontSize:F,fontStyle:w,fontWeight:E,fontFamily:G,lineHeight:W,formatter:V=K=>this.formatLabel(K.value)}=y;b.push({label:"primary",centerX:o,centerY:r,text:O,value:n,fill:B,fontSize:T,minimumFontSize:F,fontStyle:w,fontWeight:E,fontFamily:G,lineHeight:W,formatter:V})}if(!d.enabled&&m.enabled){const{text:O,color:B,fontSize:T,minimumFontSize:F,fontStyle:w,fontWeight:E,fontFamily:G,lineHeight:W,formatter:V}=m;b.push({label:"secondary",centerX:o,centerY:r,text:O,value:n,fill:B,fontSize:T,minimumFontSize:F,fontStyle:w,fontWeight:E,fontFamily:G,lineHeight:W,formatter:V})}if(d.enabled){let O=d.radiusRatio!=null?s*d.radiusRatio:S;O=Math.max(O-d.spacing,0);const B=i.convert(n);v.push({centerX:o,centerY:r,radius:O,angle:B,series:this})}for(let O=0;O<D.length;O+=1){const B=D[O],{value:T,text:F,size:w,shape:E,fill:G,fillOpacity:W,stroke:V,strokeWidth:K,strokeOpacity:z,lineDash:X,lineDashOffset:Y}=B;if(T<Math.min(...i.domain)||T>Math.max(...i.domain))continue;const U=this.getTargetRadius(B),H=i.convert(T),$=toRadians4(B.rotation+targetPlacementRotation[B.placement]);N.push({series:this,itemId:`target-${O}`,midPoint:{x:U*Math.cos(H)+o,y:U*Math.sin(H)+r},datum:{value:T},datumIndex:{type:1,index:O},type:1,value:T,text:F,centerX:o,centerY:r,shape:E,radius:U,angle:H,rotation:$,size:w,fill:G,fillOpacity:W,stroke:V,strokeOpacity:z,strokeWidth:K,lineDash:X,lineDashOffset:Y,label:this.getTargetLabel(B)})}return{itemId:t,nodeData:M,needleData:v,targetData:N,labelData:b,scaleData:I,tickData:e}}updateSelections(e){(this.nodeDataRefresh||e)&&(this.contextNodeData=this.createNodeData(),this.nodeDataRefresh=!1)}highlightDatum(e){if(e!=null&&e.series===this&&e.type===1)return e}update({seriesRect:e}){const{datumSelection:t,labelSelection:i,needleSelection:a,targetSelection:s,targetLabelSelection:o,scaleSelection:r,highlightTargetSelection:n,tickSelection:l}=this,c=this.checkResize(e);this.updateSelections(c),this.contentGroup.visible=this.visible,this.contentGroup.opacity=this.getOpacity();const h=this.contextNodeData?.nodeData??[],p=this.contextNodeData?.labelData??[],u=this.contextNodeData?.needleData??[],d=this.contextNodeData?.targetData??[],f=this.contextNodeData?.scaleData??[],g=this.contextNodeData?.tickData??[],y=this.highlightDatum(this.ctx.highlightManager.getActiveHighlight());this.scaleSelection=this.updateScaleSelection({scaleData:f,scaleSelection:r}),this.updateScaleNodes({scaleSelection:r}),this.needleSelection=this.updateNeedleSelection({needleData:u,needleSelection:a}),this.updateNeedleNodes({needleSelection:a}),this.targetSelection=this.updateTargetSelection({targetData:d,targetSelection:s}),this.updateTargetNodes({targetSelection:s,isHighlight:!1}),this.targetLabelSelection=this.updateTargetLabelSelection({targetData:d,targetLabelSelection:o}),this.updateTargetLabelNodes({targetLabelSelection:o}),this.datumSelection=this.updateDatumSelection({nodeData:h,datumSelection:t}),this.updateDatumNodes({datumSelection:t}),this.labelSelection=this.updateLabelSelection({labelData:p,labelSelection:i}),this.updateLabelNodes({labelSelection:i}),this.highlightTargetSelection=this.updateTargetSelection({targetData:y!=null?[y]:[],targetSelection:n}),this.updateTargetNodes({targetSelection:n,isHighlight:!0}),this.tickSelection=this.updateTickSelection({tickData:g,tickSelection:l}),this.updateTickNodes({tickSelection:l}),c&&this.animationState.transition("resize"),this.animationState.transition("update")}updateDatumSelection(e){return e.datumSelection.update(e.nodeData,void 0,t=>createDatumId21(e.nodeData.length,t.itemId))}updateDatumNodes(e){const{datumSelection:t}=e,{ctx:i,properties:a}=this,{bar:s,segmentation:o}=a,r=o.spacing??0,{fillOpacity:n,stroke:l,strokeOpacity:c,lineDash:h,lineDashOffset:p}=s,u=this.getStrokeWidth(s.strokeWidth),d=i.animationManager.isSkipped(),f=this.getShapeFillBBox();t.each((g,y)=>{const{centerX:m,centerY:x,innerRadius:S,outerRadius:D,startCornerRadius:M,endCornerRadius:N,fill:v}=y;g.centerX=m,g.centerY=x,g.innerRadius=S,g.outerRadius=D,g.pointerEvents=this.properties.bar.enabled?import_ag_charts_community156._ModuleSupport.PointerEvents.All:import_ag_charts_community156._ModuleSupport.PointerEvents.None,g.fill=v,g.fillBBox=f,g.fillOpacity=n,g.stroke=l,g.strokeOpacity=c,g.strokeWidth=u,g.lineDash=h,g.lineDashOffset=p,g.startOuterCornerRadius=M,g.startInnerCornerRadius=M,g.endOuterCornerRadius=N,g.endInnerCornerRadius=N,g.radialEdgeInset=(r+g.strokeWidth)/2,g.concentricEdgeInset=g.strokeWidth/2,(d||g.previousDatum==null)&&g.setProperties(resetRadialGaugeSeriesResetSectorFunction(g,y))}),this.datumUnion.update(t,this.itemGroup,import_ag_charts_community156._ModuleSupport.Sector,(g,y,m)=>{g.clipSector??(g.clipSector=new SectorBox6(NaN,NaN,NaN,NaN)),g.centerX=y.centerX,g.centerY=y.centerY,g.outerRadius=g.clipSector.outerRadius=y.outerRadius,g.innerRadius=g.clipSector.innerRadius=y.innerRadius,g.startAngle=g.clipSector.startAngle=y.startAngle,g.startInnerCornerRadius=y.startInnerCornerRadius,g.startOuterCornerRadius=y.startOuterCornerRadius,g.endAngle=m.endAngle,g.clipSector.endAngle=m.clipSector?.endAngle??m.endAngle,g.endInnerCornerRadius=m.endInnerCornerRadius,g.endOuterCornerRadius=m.endOuterCornerRadius,g.pointerEvents=import_ag_charts_community156._ModuleSupport.PointerEvents.None})}updateScaleSelection(e){return e.scaleSelection.update(e.scaleData,void 0,t=>createDatumId21(e.scaleData.length,t.itemId))}updateScaleNodes(e){const{scaleSelection:t}=e,{scale:i,segmentation:a}=this.properties,s=a.spacing??0,{fillOpacity:o,stroke:r,strokeOpacity:n,strokeWidth:l,lineDash:c,lineDashOffset:h}=i,p=this.getShapeFillBBox();t.each((u,d)=>{const{centerX:f,centerY:g,innerRadius:y,outerRadius:m,startCornerRadius:x,endCornerRadius:S,fill:D}=d;u.centerX=f,u.centerY=g,u.innerRadius=y,u.outerRadius=m,u.fill=D,u.fillBBox=p,u.fillOpacity=o,u.stroke=r,u.strokeOpacity=n,u.strokeWidth=l,u.lineDash=c,u.lineDashOffset=h,u.startOuterCornerRadius=x,u.startInnerCornerRadius=x,u.endOuterCornerRadius=S,u.endInnerCornerRadius=S,u.radialEdgeInset=(s+u.strokeWidth)/2,u.concentricEdgeInset=u.strokeWidth/2,u.setProperties(resetRadialGaugeSeriesResetSectorFunction(u,d))})}updateNeedleSelection(e){return e.needleSelection.update(e.needleData,void 0,()=>createDatumId21([]))}updateNeedleNodes(e){const{needleSelection:t}=e,{fill:i,fillOpacity:a,stroke:s,strokeOpacity:o,strokeWidth:r,lineDash:n,lineDashOffset:l}=this.properties.needle,c=this.ctx.animationManager.isSkipped();t.each((h,p)=>{const{centerX:u,centerY:d,radius:f}=p,g=f*2;h.d=RadialGaugeNeedle.defaultPathData,h.fill=i,h.fillOpacity=a,h.stroke=s,h.strokeOpacity=o,h.strokeWidth=r/g,h.lineDash=n.map(y=>y/g),h.lineDashOffset=l/g,h.translationX=u,h.translationY=d,h.scalingX=g,h.scalingY=g,c&&h.setProperties(resetRadialGaugeSeriesResetNeedleFunction(h,p))})}updateTargetSelection(e){return e.targetSelection.update(e.targetData,void 0,t=>t.itemId)}updateTargetNodes(e){const{targetSelection:t,isHighlight:i}=e,a=i?this.properties.highlightStyle.item:void 0;t.each((s,o)=>{const{centerX:r,centerY:n,angle:l,radius:c,shape:h,size:p,rotation:u,fill:d,fillOpacity:f,stroke:g,strokeOpacity:y,strokeWidth:m,lineDash:x,lineDashOffset:S}=o;s.shape=h==="line"?lineMarker:h,s.size=p,s.fill=a?.fill??d,s.fillOpacity=a?.fillOpacity??f,s.stroke=a?.stroke??g,s.strokeOpacity=a?.strokeOpacity??y,s.strokeWidth=a?.strokeWidth??m,s.lineDash=a?.lineDash??x,s.lineDashOffset=a?.lineDashOffset??S,s.translationX=r+c*Math.cos(l),s.translationY=n+c*Math.sin(l),s.rotation=l+u})}updateTargetLabelSelection(e){return e.targetLabelSelection.update(e.targetData,void 0,t=>t.itemId)}updateTargetLabelNodes(e){const{targetLabelSelection:t}=e;t.each((i,a)=>{const{centerX:s,centerY:o,radius:r,angle:n,text:l}=a,{offsetX:c,offsetY:h,fill:p,fontStyle:u,fontWeight:d,fontSize:f,fontFamily:g,textAlign:y,textBaseline:m}=a.label;if(l==null){i.visible=!1;return}i.visible=!0,i.x=s+r*Math.cos(n)+c,i.y=o+r*Math.sin(n)+h,i.text=l,i.fill=p,i.fontStyle=u,i.fontWeight=d,i.fontSize=f,i.fontFamily=g,i.textAlign=y,i.textBaseline=m})}updateLabelSelection(e){return e.labelSelection.update(e.labelData,void 0,t=>t.label)}updateLabelNodes(e){const{labelSelection:t}=e,i=this.ctx.animationManager.isSkipped();t.each((a,s)=>{a.fill=s.fill,a.fontStyle=s.fontStyle,a.fontWeight=s.fontWeight,a.fontFamily=s.fontFamily}),(i||this.labelsHaveExplicitText())&&this.formatLabelText()}updateTickSelection(e){return e.tickSelection.update(e.tickData,void 0,t=>t.index)}updateTickNodes(e){const{scale:t,radius:i,centerX:a,centerY:s,properties:o}=this,{enabled:r,color:n,fontFamily:l,fontSize:c,fontStyle:h,fontWeight:p,spacing:u}=o.scale.label,d=toRadians4(o.scale.label.rotation??0);e.tickSelection.each((f,g)=>{if(!r){f.visible=!1;return}f.visible=!0,f.text=g.text,f.fill=n,f.fontFamily=l,f.fontSize=c,f.fontStyle=h,f.fontWeight=p,f.textAlign="center",f.textBaseline="middle";const y=t.convert(g.value),{width:m,height:x}=g,S=Math.abs(i*Math.cos(y)),D=Math.abs(i*Math.sin(y)),M=Math.min(Math.max(Math.abs(i/Math.tan(y)),S-m/2),S+m/2),N=Math.min(Math.max(Math.abs(i*Math.tan(y)),D-x/2),D+x/2),v=Math.hypot(M,N),b=a+(v+u)*Math.cos(y),I=s+(v+u)*Math.sin(y);f.x=b,f.y=I,f.rotationCenterX=b,f.rotationCenterY=I,f.rotation=d})}labelsHaveExplicitText(){for(const{datum:e}of this.labelSelection)if(e.text==null)return!1;return!0}formatLabelText(e){const{labelSelection:t,radius:i,textAlign:a,verticalAlign:s}=this,{spacing:o,innerRadiusRatio:r}=this.properties;formatRadialGaugeLabels(this,this.ctx,t,{padding:o,textAlign:a,verticalAlign:s},i*r,e)}resetAllAnimation(){this.ctx.animationManager.stopByAnimationGroupId(this.id),resetMotion4([this.datumSelection],resetRadialGaugeSeriesResetSectorFunction),resetMotion4([this.needleSelection],resetRadialGaugeSeriesResetNeedleFunction),this.formatLabelText()}resetAnimation(e){e==="initial"?this.animationState.transition("reset"):e==="ready"&&this.animationState.transition("skip")}animateLabelText(e={}){const{animationManager:t}=this.ctx;let i,a,s,o;if(this.labelSelection.each((r,n)=>{r.opacity=1,n.label==="primary"?(i=r.previousDatum?.value??e.from??n.value,a=n.value):n.label==="secondary"&&(s=r.previousDatum?.value??e.from??n.value,o=n.value)}),!this.labelsHaveExplicitText())if(a==null||o==null)this.formatLabelText();else if(i===a&&s===o)this.formatLabelText({label:a,secondaryLabel:o});else{const r=`${this.id}_labels`;t.animate({id:r,groupId:"label",from:{label:i,secondaryLabel:s},to:{label:a,secondaryLabel:o},phase:e.phase??"update",onUpdate:n=>this.formatLabelText(n)})}}animateEmptyUpdateReady(){const{animationManager:e}=this.ctx,{node:t,needle:i}=prepareRadialGaugeSeriesAnimationFunctions(!0,this.scale.range[0]);fromToMotion5(this.id,"node",e,[this.datumSelection],t,(a,s)=>s.itemId),fromToMotion5(this.id,"needle",e,[this.needleSelection],i,()=>"needle"),fromToMotion5(this.id,"label",e,[this.labelSelection],fadeInFns,(a,s)=>s.label),this.animateLabelText({from:this.properties.scale.min,phase:"initial"})}animateWaitingUpdateReady(){const{animationManager:e}=this.ctx,{node:t,needle:i}=prepareRadialGaugeSeriesAnimationFunctions(!1,this.scale.range[0]);fromToMotion5(this.id,"node",e,[this.datumSelection],t,(a,s)=>s.itemId),fromToMotion5(this.id,"needle",e,[this.needleSelection],i,()=>"needle"),this.animateLabelText()}animateReadyResize(){this.resetAllAnimation()}getSeriesDomain(){return[NaN,NaN]}getSeriesRange(e,t){return[NaN,NaN]}getLegendData(){return[]}getTooltipContent(e){const{id:t,properties:i}=this,{tooltip:a}=i;let s,o;if(e.type===0?(s=i.value,o=i.label.text):{value:s,text:o}=i.targets[e.index],s!=null)return this.formatTooltipWithContext(a,{data:[{label:o,fallbackLabel:"Value",value:this.formatLabel(s)}]},{seriesId:t,title:void 0,datum:void 0,value:s})}pickNodeClosestDatum(e){return pickGaugeNearestDatum(this,e)}pickFocus(e){return pickGaugeFocus(this,e)}getCaptionText(){const{value:e}=this.properties,t=[];return t.push(this.formatLabel(e)),this.labelSelection.each((i,a)=>{const s=getLabelText(this.id,this.ctx,a);s!=null&&t.push(s)}),t.join(". ")}getCategoryValue(e){}datumIndexForCategoryValue(e){}};RadialGaugeSeries.className="RadialGaugeSeries",RadialGaugeSeries.type="radial-gauge";var{FONT_SIZE_RATIO}=import_ag_charts_community157._ModuleSupport,RadialGaugeModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["gauge"],identifier:"radial-gauge",moduleFactory:e=>new RadialGaugeSeries(e),tooltipDefaults:{range:10},themeTemplate:{minWidth:200,minHeight:200,tooltip:{enabled:!1},series:{outerRadiusRatio:1,innerRadiusRatio:.8,startAngle:270,endAngle:450,defaultColorRange:{$if:[{$eq:[{$palette:"type"},"inbuilt"]},{$interpolate:[{$palette:"secondDivergingColors"},5]},import_ag_charts_community157._ModuleSupport.SAFE_RANGE2_OPERATION]},scale:{defaultFill:{$path:["./1",{$palette:"fill"},{$palette:"hierarchyColors"}]},stroke:{$path:["./2",import_ag_charts_community157._ModuleSupport.SAFE_STROKE_FILL_OPERATION,{$palette:"hierarchyColors"}]},label:{fontWeight:{$ref:"fontWeight"},fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},color:{$ref:"textColor"},spacing:12}},bar:{strokeWidth:0},segmentation:{enabled:!1,interval:{},spacing:2},defaultTarget:{fill:{$ref:"foregroundColor"},stroke:{$ref:"foregroundColor"},size:10,shape:"triangle",placement:"outside",spacing:5,label:{enabled:!0,fontWeight:{$ref:"fontWeight"},fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},color:{$ref:"textColor"},spacing:5}},needle:{enabled:!1,fill:{$ref:"foregroundColor"},spacing:10},label:{enabled:!0,fontWeight:{$ref:"fontWeight"},fontSize:56,minimumFontSize:18/56,fontFamily:{$ref:"fontFamily"},color:{$ref:"textColor"}},secondaryLabel:{enabled:!0,fontWeight:{$ref:"fontWeight"},fontSize:{$rem:[FONT_SIZE_RATIO.LARGE]},minimumFontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},color:{$ref:"subtleTextColor"}}}}},RadialGaugeSeriesModule={type:"series",name:"radial-gauge",chartType:"gauge",enterprise:!0,options:import_ag_charts_community157._ModuleSupport.radialGaugeSeriesOptionsDef,create:e=>new RadialGaugeSeries(e)},import_ag_charts_community162=require("ag-charts-community"),import_ag_charts_community160=require("ag-charts-community"),import_ag_charts_core53=require("ag-charts-core");function sortNodesByY(e){e.nodes.sort((t,i)=>Math.round((t.datum.y-i.datum.y)*100)/100||-(t.datum.size-i.datum.size))}function justifyNodesAcrossColumn({nodes:e,size:t},{seriesRectHeight:i,nodeSpacing:a,sizeScale:s}){const o=i*t*s;let r=(i-(o+a*(e.length-1)))/2;e.forEach(({datum:n})=>{const l=i*n.size*s;n.y=r,n.height=l,r+=l+a})}function separateNodesInColumn(e,t){const{nodes:i}=e,{seriesRectHeight:a,nodeSpacing:s}=t;sortNodesByY(e);let o=0,r=0;for(const{datum:c}of i){const h=Math.max(r-c.y,0);c.y+=h,o+=h,r=c.y+c.height+s}if(r-s<a)return o>0;let l=a;for(let c=i.length-1;c>=0;c-=1){const{datum:h}=i[c],p=h.y+h.height,u=Math.min(l-p,0);h.y+=u,o+=u,l=h.y-s}return!0}function hasCrossOver(e,t,i,a,s,o,r,n){const l=(i-e)/(a-t),c=(r-s)/(n-o),h=((o-t)*(l*c)+e*c-s*l)/(c-l);return e<i?h>e&&h<Math.min(i,r):h<e&&h>Math.max(i,r)}function removeColumnCrossoversInDirection(e,t){let i=!1;const a=e.nodes.filter(o=>t(o).length===1);let s=!0;for(let o=0;s&&o<a.length;o+=1){s=!1;for(let r=0;r<a.length-1;r+=1){const{datum:n}=a[r],l=t(a[r])[0].node.datum,{datum:c}=a[r+1],h=t(a[r+1])[0].node.datum;if(!(hasCrossOver(n.x,n.y,l.x,l.y,c.x,c.y,h.x,h.y)||hasCrossOver(n.x,n.y+n.height/2,l.x,l.y+l.height/2,c.x,c.y+c.height/2,h.x,h.y+h.height/2)||hasCrossOver(n.x,n.y+n.height,l.x,l.y+l.height,c.x,c.y+c.height,h.x,h.y+h.height)))continue;const u=a[r];a[r]=a[r+1],a[r+1]=u;const d=n.y;n.y=c.y+c.height-n.height,c.y=d,i=!0,s=!0}}return i}function removeColumnCrossovers(e){let t=!1;return sortNodesByY(e),t=removeColumnCrossoversInDirection(e,i=>i.linksBefore)||t,t=removeColumnCrossoversInDirection(e,i=>i.linksAfter)||t,t}function weightedNodeY(e){if(e.length===0)return;let t=0,i=0;for(const{node:{datum:a}}of e)t+=a.y*a.size,i+=a.size;return t/i}function layoutColumn(e,t,i,a){return e.nodes.forEach(({datum:s,linksBefore:o,linksAfter:r})=>{const n=a===1?o:r,l=a===1?r:o,c=weightedNodeY(n);if(c!=null){const h=l.length!==0?i:1;s.y=s.y+(c-s.y)*h}}),separateNodesInColumn(e,t)}function layoutColumnsForward(e,t,i){let a=!1;for(const s of e)a=layoutColumn(s,t,i,1)||a;return a}function layoutColumnsBackwards(e,t,i){let a=!1;for(let s=e.length-1;s>=0;s-=1)a=layoutColumn(e[s],t,i,-1)||a;return a}function removeColumnsCrossovers(e){let t=!1;for(let i=e.length-1;i>=0;i-=1)t=removeColumnCrossovers(e[i])||t;return t}function layoutColumns(e,t){e.forEach(a=>{justifyNodesAcrossColumn(a,t)});let i=!1;for(let a=0;a<6;a+=1){const s=layoutColumnsForward(e,t,1);i=layoutColumnsBackwards(e,t,.5);const o=removeColumnsCrossovers(e);if(!s&&!i&&!o)break}i&&(layoutColumnsForward(e,t,1),removeColumnsCrossovers(e))}var import_ag_charts_community158=require("ag-charts-community"),{BBox:BBox15,Path:Path11,SceneChangeDetection:SceneChangeDetection6,splitBezier}=import_ag_charts_community158._ModuleSupport;function offsetTrivialCubicBezier(e,t,i,a,s,o,r,n,l,c){let h,p;if(s!==i&&l!==r){const N=-(a-t)/(s-i),v=-(n-o)/(l-r);h=(r-i+N*t-v*o)/(N-v),p=N*(h-t)+i}else if(s===i&&l!==r)h=t,p=-(n-o)/(l-r)*(h-n)+l;else if(s!==i&&l===r)h=n,p=-(a-t)/(s-i)*(h-t)+i;else throw new Error("Offsetting flat bezier curve");const u=Math.hypot(i-p,t-h),d=(u+c)/u,f=Math.hypot(l-p,n-h),g=(f+c)/f,y=h+(a-h)*d,m=p+(s-p)*d,x=h+(o-h)*g,S=p+(r-p)*g,D=h+(n-h)*g,M=p+(l-p)*g;e.cubicCurveTo(y,m,x,S,D,M)}var SankeyLink=class extends Path11{constructor(){super(...arguments),this.x1=0,this.x2=0,this.y1=0,this.y2=0,this.height=0,this.inset=0}computeBBox(){const e=Math.min(this.x1,this.x2),t=Math.max(this.x1,this.x2)-e,i=Math.min(this.y1,this.y2),a=Math.max(this.y1,this.y2)-i+this.height;return new BBox15(e,i,t,a)}updatePath(){const{path:e,inset:t}=this;e.clear();const i=this.x1+t,a=this.x2-t,s=this.y1+t,o=this.y2+t,r=this.height-2*t;if(r<0||i>a)return;const n=i,l=s+r/2,c=(i+a)/2,h=s+r/2,p=(i+a)/2,u=o+r/2,d=a,f=o+r/2;if(e.moveTo(n,l-r/2),Math.abs(this.y2-this.y1)<1||this.x2-this.x1<this.height*Math.SQRT2)e.cubicCurveTo(c,h-r/2,p,u-r/2,d,f-r/2),e.lineTo(d,f+r/2),e.cubicCurveTo(p,u+r/2,c,h+r/2,n,l+r/2);else{const[g,y]=splitBezier(n,l,c,h,p,u,d,f,.5),m=(o>s?1:-1)*r/2;offsetTrivialCubicBezier(e,g[0].x,g[0].y,g[1].x,g[1].y,g[2].x,g[2].y,g[3].x,g[3].y,m),offsetTrivialCubicBezier(e,y[0].x,y[0].y,y[1].x,y[1].y,y[2].x,y[2].y,y[3].x,y[3].y,-m),e.lineTo(d,f+r/2),offsetTrivialCubicBezier(e,y[3].x,y[3].y,y[2].x,y[2].y,y[1].x,y[1].y,y[0].x,y[0].y,m),offsetTrivialCubicBezier(e,g[3].x,g[3].y,g[2].x,g[2].y,g[1].x,g[1].y,g[0].x,g[0].y,-m)}e.closePath()}};__decorateClass([SceneChangeDetection6()],SankeyLink.prototype,"x1",2),__decorateClass([SceneChangeDetection6()],SankeyLink.prototype,"x2",2),__decorateClass([SceneChangeDetection6()],SankeyLink.prototype,"y1",2),__decorateClass([SceneChangeDetection6()],SankeyLink.prototype,"y2",2),__decorateClass([SceneChangeDetection6()],SankeyLink.prototype,"height",2),__decorateClass([SceneChangeDetection6()],SankeyLink.prototype,"inset",2);var import_ag_charts_community159=require("ag-charts-community"),{BaseProperties:BaseProperties11,FillGradientDefaults:FillGradientDefaults16,FillPatternDefaults:FillPatternDefaults16,FillImageDefaults:FillImageDefaults16,SeriesTooltip:SeriesTooltip22,SeriesProperties:SeriesProperties13,Property:Property38,Label:Label15}=import_ag_charts_community159._ModuleSupport,SankeySeriesLabelProperties=class extends Label15{constructor(){super(...arguments),this.spacing=1}};__decorateClass([Property38],SankeySeriesLabelProperties.prototype,"spacing",2);var SankeySeriesLinkProperties=class extends BaseProperties11{constructor(){super(...arguments),this.fill=void 0,this.fillOpacity=1,this.stroke=void 0,this.strokeOpacity=1,this.strokeWidth=1,this.lineDash=[0],this.lineDashOffset=0}};__decorateClass([Property38],SankeySeriesLinkProperties.prototype,"fill",2),__decorateClass([Property38],SankeySeriesLinkProperties.prototype,"fillOpacity",2),__decorateClass([Property38],SankeySeriesLinkProperties.prototype,"stroke",2),__decorateClass([Property38],SankeySeriesLinkProperties.prototype,"strokeOpacity",2),__decorateClass([Property38],SankeySeriesLinkProperties.prototype,"strokeWidth",2),__decorateClass([Property38],SankeySeriesLinkProperties.prototype,"lineDash",2),__decorateClass([Property38],SankeySeriesLinkProperties.prototype,"lineDashOffset",2),__decorateClass([Property38],SankeySeriesLinkProperties.prototype,"itemStyler",2);var SankeySeriesNodeProperties=class extends BaseProperties11{constructor(){super(...arguments),this.spacing=1,this.width=1,this.alignment="justify",this.fill=void 0,this.fillOpacity=1,this.stroke=void 0,this.strokeOpacity=1,this.strokeWidth=1,this.lineDash=[0],this.lineDashOffset=0}};__decorateClass([Property38],SankeySeriesNodeProperties.prototype,"spacing",2),__decorateClass([Property38],SankeySeriesNodeProperties.prototype,"width",2),__decorateClass([Property38],SankeySeriesNodeProperties.prototype,"alignment",2),__decorateClass([Property38],SankeySeriesNodeProperties.prototype,"fill",2),__decorateClass([Property38],SankeySeriesNodeProperties.prototype,"fillOpacity",2),__decorateClass([Property38],SankeySeriesNodeProperties.prototype,"stroke",2),__decorateClass([Property38],SankeySeriesNodeProperties.prototype,"strokeOpacity",2),__decorateClass([Property38],SankeySeriesNodeProperties.prototype,"strokeWidth",2),__decorateClass([Property38],SankeySeriesNodeProperties.prototype,"lineDash",2),__decorateClass([Property38],SankeySeriesNodeProperties.prototype,"lineDashOffset",2),__decorateClass([Property38],SankeySeriesNodeProperties.prototype,"itemStyler",2);var SankeySeriesProperties=class extends SeriesProperties13{constructor(){super(...arguments),this.nodes=void 0,this.idKey="",this.idName=void 0,this.labelKey=void 0,this.labelName=void 0,this.sizeKey=void 0,this.sizeName=void 0,this.fillGradientDefaults=new FillGradientDefaults16,this.fillPatternDefaults=new FillPatternDefaults16,this.fillImageDefaults=new FillImageDefaults16,this.defaultColorRange=[],this.defaultPatternFills=[],this.fills=[],this.strokes=[],this.label=new SankeySeriesLabelProperties,this.link=new SankeySeriesLinkProperties,this.node=new SankeySeriesNodeProperties,this.tooltip=new SeriesTooltip22}};__decorateClass([Property38],SankeySeriesProperties.prototype,"nodes",2),__decorateClass([Property38],SankeySeriesProperties.prototype,"fromKey",2),__decorateClass([Property38],SankeySeriesProperties.prototype,"toKey",2),__decorateClass([Property38],SankeySeriesProperties.prototype,"idKey",2),__decorateClass([Property38],SankeySeriesProperties.prototype,"idName",2),__decorateClass([Property38],SankeySeriesProperties.prototype,"labelKey",2),__decorateClass([Property38],SankeySeriesProperties.prototype,"labelName",2),__decorateClass([Property38],SankeySeriesProperties.prototype,"sizeKey",2),__decorateClass([Property38],SankeySeriesProperties.prototype,"sizeName",2),__decorateClass([Property38],SankeySeriesProperties.prototype,"fillGradientDefaults",2),__decorateClass([Property38],SankeySeriesProperties.prototype,"fillPatternDefaults",2),__decorateClass([Property38],SankeySeriesProperties.prototype,"fillImageDefaults",2),__decorateClass([Property38],SankeySeriesProperties.prototype,"defaultColorRange",2),__decorateClass([Property38],SankeySeriesProperties.prototype,"defaultPatternFills",2),__decorateClass([Property38],SankeySeriesProperties.prototype,"fills",2),__decorateClass([Property38],SankeySeriesProperties.prototype,"strokes",2),__decorateClass([Property38],SankeySeriesProperties.prototype,"label",2),__decorateClass([Property38],SankeySeriesProperties.prototype,"link",2),__decorateClass([Property38],SankeySeriesProperties.prototype,"node",2),__decorateClass([Property38],SankeySeriesProperties.prototype,"tooltip",2);var{Transformable:Transformable3,applyShapeStyle:applyShapeStyle15,SeriesNodePickMode:SeriesNodePickMode18,CachedTextMeasurerPool:CachedTextMeasurerPool10,TextWrapper:TextWrapper4,TextUtils:TextUtils6,createDatumId:createDatumId22,getShapeStyle:getShapeStyle18,Rect:Rect7,BBox:BBox16}=import_ag_charts_community160._ModuleSupport,SankeySeries=class extends FlowProportionSeries{constructor(e){super({moduleCtx:e,pickModes:[SeriesNodePickMode18.NEAREST_NODE,SeriesNodePickMode18.EXACT_SHAPE_MATCH]}),this.properties=new SankeySeriesProperties}isLabelEnabled(){return(this.properties.labelKey!=null||this.nodes==null)&&this.properties.label.enabled}linkFactory(){return new SankeyLink}nodeFactory(){return new Rect7}createNodeData(){const{id:e,_nodeDataDependencies:{seriesRectWidth:t,seriesRectHeight:i}={seriesRectWidth:0,seriesRectHeight:0}}=this,{fromKey:a,toKey:s,sizeKey:o,label:{spacing:r},node:{spacing:n,width:l,alignment:c}}=this.properties,{nodeGraph:h,links:p,maxPathLength:u}=this.getNodeGraph(v=>({...v,x:NaN,y:NaN,width:l,height:NaN}),v=>({...v,x1:NaN,x2:NaN,y1:NaN,y2:NaN,height:NaN}),{includeCircularReferences:!1}),d=h,f=this.isLabelEnabled()?(t-l)*(1-u/(u+1)):0,g=(t-l-2*f)/(u-1),y=[];for(let v=0;v<u;v+=1){const b=f+v*g;y.push({index:v,size:0,nodes:[],x:b})}d.forEach(v=>{const{datum:b,linksBefore:I,linksAfter:k,maxPathLengthBefore:P,maxPathLengthAfter:_}=v,A=Math.max(I.reduce((R,{link:O})=>R+O.size,0),k.reduce((R,{link:O})=>R+O.size,0));if(I.length===0&&k.length===0||A===0){v.columnIndex=-1;return}let L;switch(c){case"left":L=y[P];break;case"right":L=y[u-1-_];break;case"center":{if(I.length!==0)L=y[P];else if(k.length!==0){const R=k.reduce((O,B)=>Math.min(O,B.node.maxPathLengthBefore),u)-1;L=y[R]}else L=y[0];break}case"justify":{L=k.length===0?y[u-1]:y[P];break}}b.x=L.x,b.size=A;const C=this.getLabelText(this.properties.label,{datum:b.datum,value:b.label,fromKey:a,toKey:s,sizeKey:o,size:A});b.label=String(C),L.nodes.push(v),L.size+=A,v.columnIndex=L.index}),d.forEach(v=>{let b=1/0,I=0;v.linksAfter.forEach(k=>{const P=k.node,{columnIndex:_}=P;_<b?(b=_,I=P.datum.size):_===b&&(I=Math.max(I,P.datum.size))}),v.closestColumnIndex=b,v.maxSizeOfClosestNodesAfter=I});const m=y.reduce((v,{size:b,nodes:I})=>{const k=(1-(I.length-1)*(n/i))/b;return Math.min(v,k)},1/0);for(let v=y.length-1;v>=0;v-=1)y[v].nodes.sort((I,k)=>I.closestColumnIndex-k.closestColumnIndex||I.maxSizeOfClosestNodesAfter-k.maxSizeOfClosestNodesAfter||I.datum.size-k.datum.size);layoutColumns(y,{seriesRectHeight:i,nodeSpacing:n,sizeScale:m});let x=!1;if(d.forEach(({datum:v,linksBefore:b,linksAfter:I})=>{x||(x=v.height<0);const k=v.y+v.height,P=L=>L.sort((C,R)=>{const O=C.node.datum,B=R.node.datum,T=O.y+O.height,F=B.y+B.height,w=Math.atan2(O.y-v.y,Math.abs(O.x-v.x))-Math.atan2(B.y-v.y,Math.abs(B.x-v.x)),E=Math.atan2(T-k,Math.abs(O.x-v.x))-Math.atan2(F-k,Math.abs(B.x-v.x));return w+E});let _=v.y;P(b).forEach(({link:L})=>{L.y2=_,_+=L.size*i*m});let A=v.y;P(I).forEach(({link:L})=>{L.y1=A,A+=L.size*i*m})}),x){import_ag_charts_core53.Logger.warnOnce("There was insufficient space to display the Sankey Series. Reduce the node spacing, or provide a larger container.");return}const S=[],D=[],{fontSize:M}=this.properties.label,N=this.properties.label.getFont();return y.forEach((v,b)=>{const I=b===0,k=b===y.length-1;let P=-1/0;v.nodes.sort((_,A)=>_.datum.y-A.datum.y),v.nodes.forEach(({datum:_})=>{if(_.midPoint={x:_.x+_.width/2,y:_.y+_.height/2},S.push(_),_.label==null)return;const A=I?_.x-r:_.x+_.width+r,L=_.y+_.height/2;let C;if(!I&&!k){const T=L-TextUtils6.getLineHeight(M),F=L+TextUtils6.getLineHeight(M);let w=t;d.forEach(({datum:G})=>{G.x>_.x&&Math.max(G.y,T)<=Math.min(G.y+G.height,F)&&(w=Math.min(w,G.x-r))});const E=w-_.x-2*r;C=TextWrapper4.wrapText(_.label,{maxWidth:E,maxHeight:_.height,font:this.properties.label,textWrap:"never",overflow:"hide"})}if(C==null||C===""){const T=I||k?r:r*2;C=TextWrapper4.wrapText(_.label,{maxWidth:g-T,maxHeight:_.height,font:this.properties.label,textWrap:"never"})}if(C==="")return;const{height:R}=CachedTextMeasurerPool10.measureText(C,{font:N,textAlign:"left",textBaseline:"middle"}),O=L-R/2,B=L+R/2;O>=P&&(D.push({x:A,y:L,leading:I,text:C}),P=B)})}),p.forEach(v=>{const{fromNode:b,toNode:I,size:k}=v;v.height=i*k*m,v.x1=b.x+l,v.x2=I.x,v.midPoint={x:(v.x1+v.x2)/2,y:(v.y1+v.y2)/2+v.height/2},S.push(v)}),{itemId:e,nodeData:S,labelData:D}}updateLabelSelection(e){const t=this.isLabelEnabled()?e.labelData:[];return e.labelSelection.update(t)}updateLabelNodes(e){const{labelSelection:t}=e,{color:i,fontStyle:a,fontWeight:s,fontSize:o,fontFamily:r}=this.properties.label;t.each((n,{x:l,y:c,leading:h,text:p})=>{n.visible=!0,n.x=l,n.y=c,n.text=p,n.fill=i,n.fontStyle=a,n.fontWeight=s,n.fontSize=o,n.fontFamily=r,n.textAlign=h?"right":"left",n.textBaseline="middle"})}updateNodeSelection(e){return e.datumSelection.update(e.nodeData,void 0,t=>createDatumId22([t.type,t.id]))}getBaseNodeStyle(e){const{properties:t}=this,{fill:i,fillOpacity:a,stroke:s,strokeOpacity:o,lineDash:r,lineDashOffset:n}=t.node,l=e?t.highlightStyle.item:void 0;return getShapeStyle18({fill:l?.fill??i,fillOpacity:l?.fillOpacity??a,stroke:l?.stroke??s,strokeOpacity:l?.strokeOpacity??o,strokeWidth:l?.strokeWidth??this.getStrokeWidth(t.node.strokeWidth),lineDash:l?.lineDash??r,lineDashOffset:l?.lineDashOffset??n},t.fillGradientDefaults,t.fillPatternDefaults,t.fillImageDefaults)}getNodeStyleOverrides(e,t,i,a,s,o,r){const{id:n,properties:l}=this,{fills:c,strokes:h,defaultColorRange:p,defaultPatternFills:u}=l,{itemStyler:d}=l.node,f=o.fill??c[i%c.length],g=o.stroke??h[i%h.length],y=p[i%p.length].map(S=>({color:S})),m=u[i%u.length];let x;if(r||(x??(x={}),x.fill=f,x.stroke=g),d!=null){const S=this.cachedDatumCallback(createDatumId22(e,"node",r?"highlight":"node"),()=>{const{fillOpacity:D=1,strokeOpacity:M=1,strokeWidth:N=0,lineDash:v=[],lineDashOffset:b=0}=o;return this.callWithContext(d,{seriesId:n,datum:t,highlighted:r,label:s,size:a,fill:f,fillOpacity:D,stroke:g,strokeOpacity:M,strokeWidth:N,lineDash:v,lineDashOffset:b})});x??(x={}),Object.assign(x,S)}return getShapeStyle18(x,{...this.properties.fillGradientDefaults.toJson(),colorStops:y},{...this.properties.fillPatternDefaults.toJson(),fill:m,stroke:m},this.properties.fillImageDefaults)}updateNodeNodes(e){const{datumSelection:t,isHighlight:i}=e,a=this.getBaseNodeStyle(i),s=this.getShapeFillBBox();t.each((o,r)=>{const{datumIndex:n,size:l,label:c}=r,h=this.getNodeStyleOverrides(String(n.index),r.datum,n.index,l,c,a,i);o.x=r.x,o.y=r.y,o.width=Math.max(r.width,0),o.height=Math.max(r.height,0),applyShapeStyle15(o,a,h,s)})}getShapeFillBBox(){const e=this._nodeDataDependencies?.seriesRectWidth??0,t=this._nodeDataDependencies?.seriesRectHeight??0,i=new BBox16(0,0,e,t);return{series:i,axis:i}}updateLinkSelection(e){return e.datumSelection.update(e.nodeData,void 0,t=>createDatumId22([t.type,t.index,t.fromNode.id,t.toNode.id]))}getBaseLinkStyle(e){const{properties:t}=this,{fill:i,fillOpacity:a,stroke:s,strokeOpacity:o,lineDash:r,lineDashOffset:n}=t.link,l=e?t.highlightStyle.item:void 0;return getShapeStyle18({fill:l?.fill??i,fillOpacity:l?.fillOpacity??a,stroke:l?.stroke??s,strokeOpacity:l?.strokeOpacity??o,strokeWidth:l?.strokeWidth??this.getStrokeWidth(t.link.strokeWidth),lineDash:l?.lineDash??r,lineDashOffset:l?.lineDashOffset??n},t.fillGradientDefaults,t.fillPatternDefaults,t.fillImageDefaults)}getLinkStyleOverrides(e,t,i,a,s){const{id:o,properties:r}=this,{fills:n,strokes:l,defaultColorRange:c,defaultPatternFills:h}=r,{itemStyler:p}=r.link,u=a.fill??n[i%n.length],d=a.stroke??l[i%l.length],f=c[i%c.length].map(m=>({color:m})),g=h[i%h.length];let y;if(s||(y??(y={}),y.fill=u,y.stroke=d),p!=null){const m=this.cachedDatumCallback(createDatumId22(e,"link",s?"highlight":"node"),()=>{const{fillOpacity:x=1,strokeOpacity:S=1,strokeWidth:D=0,lineDash:M=[],lineDashOffset:N=0}=a;return this.callWithContext(p,{seriesId:o,datum:t,highlighted:s,fill:u,fillOpacity:x,stroke:d,strokeOpacity:S,strokeWidth:D,lineDash:M,lineDashOffset:N})});y??(y={}),Object.assign(y,m)}return getShapeStyle18(y,{...this.properties.fillGradientDefaults.toJson(),colorStops:f},{...this.properties.fillPatternDefaults.toJson(),fill:g,stroke:g},this.properties.fillImageDefaults)}updateLinkNodes(e){const{datumSelection:t,isHighlight:i}=e,a=this.getBaseLinkStyle(i),s=this.getShapeFillBBox();t.each((o,r)=>{const{datumIndex:n}=r,l=r.fromNode.datumIndex,c=this.getLinkStyleOverrides(String(n.index),r.datum,l.index,a,i);o.x1=r.x1,o.y1=r.y1,o.x2=r.x2,o.y2=r.y2,o.height=r.height,applyShapeStyle15(o,a,c,s),o.inset=o.strokeWidth/2})}getTooltipContent(e){const{id:t,linksProcessedData:i,nodesProcessedData:a,properties:s}=this,{fromKey:o,toKey:r,sizeKey:n,sizeName:l,tooltip:c}=s,h=this.contextNodeData?.nodeData.find(y=>y.datumIndex.type===e.type&&y.datumIndex.index===e.index);if(h==null)return;const p=h.type===0?h.fromNode.index:h.index,u=h.type===0?`${h.fromNode.label} - ${h.toNode.label}`:h.label,d=e.type===0?i?.dataSources.get(this.id)?.[e.index]:a?.dataSources.get(this.id)?.[e.index],f=h.size;let g;if(h.type===0){const y=h.fromNode.datumIndex,m=this.getBaseLinkStyle(!1);Object.assign(m,this.getLinkStyleOverrides(String(e.index),d,y.index,m,!1)),g=m}else{const y=h.label,m=this.getBaseNodeStyle(!1);Object.assign(m,this.getNodeStyleOverrides(String(e.index),d,e.index,f,y,m,!1)),g=m}return this.formatTooltipWithContext(c,{title:u,symbol:this.legendItemSymbol(h.type,p,g),data:n!=null?[{label:l,fallbackLabel:n,value:String(f)}]:[]},{seriesId:t,datum:d,title:u,fromKey:o,toKey:r,sizeKey:n,sizeName:l,size:f,...g})}computeFocusBounds(e){if(e instanceof Rect7){const{x:t,y:i,width:a,height:s}=e,o=new BBox16(t,i,a,s);return Transformable3.toCanvas(this.contentGroup,o)}return e}};SankeySeries.className="SankeySeries",SankeySeries.type="sankey";var import_ag_charts_community161=require("ag-charts-community"),import_ag_charts_core54=require("ag-charts-core"),{commonSeriesOptionsDefs:commonSeriesOptionsDefs21,sankeySeriesThemeableOptionsDef}=import_ag_charts_community161._ModuleSupport,sankeySeriesOptionsDef={...sankeySeriesThemeableOptionsDef,...commonSeriesOptionsDefs21,type:(0,import_ag_charts_core54.required)((0,import_ag_charts_core54.constant)("sankey")),fromKey:(0,import_ag_charts_core54.required)(import_ag_charts_core54.string),toKey:(0,import_ag_charts_core54.required)(import_ag_charts_core54.string),sizeKey:import_ag_charts_core54.string,sizeName:import_ag_charts_core54.string};sankeySeriesOptionsDef.fillGradientDefaults=(0,import_ag_charts_core54.undocumented)(import_ag_charts_core54.fillGradientDefaults),sankeySeriesOptionsDef.fillPatternDefaults=(0,import_ag_charts_core54.undocumented)(import_ag_charts_core54.fillPatternDefaults),sankeySeriesOptionsDef.fillImageDefaults=(0,import_ag_charts_core54.undocumented)(import_ag_charts_core54.fillImageDefaults),sankeySeriesOptionsDef.defaultColorRange=(0,import_ag_charts_core54.undocumented)((0,import_ag_charts_core54.arrayOf)((0,import_ag_charts_core54.arrayOf)(import_ag_charts_core54.color))),sankeySeriesOptionsDef.defaultPatternFills=(0,import_ag_charts_core54.undocumented)((0,import_ag_charts_core54.arrayOf)(import_ag_charts_core54.color));var SankeyModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["flow-proportion"],solo:!0,identifier:"sankey",moduleFactory:e=>new SankeySeries(e),tooltipDefaults:{range:"exact"},themeTemplate:{seriesArea:{padding:{top:10,bottom:10}},series:{fills:{$palette:"fills"},strokes:{$palette:"strokes"},fillGradientDefaults:{type:"gradient",gradient:"linear",bounds:"item",colorStops:{$palette:"gradient"},rotation:0,reverse:!1},fillPatternDefaults:import_ag_charts_community162._ModuleSupport.FILL_PATTERN_DEFAULTS,fillImageDefaults:import_ag_charts_community162._ModuleSupport.FILL_IMAGE_DEFAULTS,defaultColorRange:{$palette:"gradients"},defaultPatternFills:import_ag_charts_community162._ModuleSupport.SAFE_FILLS_OPERATION,highlightStyle:{series:{dimOpacity:.2}},label:{fontFamily:{$ref:"fontFamily"},fontSize:{$ref:"fontSize"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"},spacing:10},node:{spacing:20,width:10,strokeWidth:0},link:{fillOpacity:.5,strokeWidth:0}},legend:{enabled:!1,toggleSeries:!1}}},SankeySeriesModule={type:"series",name:"sankey",chartType:"flow-proportion",enterprise:!0,options:sankeySeriesOptionsDef,create:e=>new SankeySeries(e)},import_ag_charts_community166=require("ag-charts-community"),import_ag_charts_community164=require("ag-charts-community"),import_ag_charts_community163=require("ag-charts-community"),{HierarchySeriesProperties,HighlightStyle,SeriesTooltip:SeriesTooltip23,Property:Property39}=import_ag_charts_community163._ModuleSupport,SunburstSeriesTileHighlightStyle=class extends HighlightStyle{constructor(){super(...arguments),this.label=new AutoSizedLabel,this.secondaryLabel=new AutoSizedLabel}};__decorateClass([Property39],SunburstSeriesTileHighlightStyle.prototype,"fill",2),__decorateClass([Property39],SunburstSeriesTileHighlightStyle.prototype,"fillOpacity",2),__decorateClass([Property39],SunburstSeriesTileHighlightStyle.prototype,"stroke",2),__decorateClass([Property39],SunburstSeriesTileHighlightStyle.prototype,"strokeWidth",2),__decorateClass([Property39],SunburstSeriesTileHighlightStyle.prototype,"strokeOpacity",2),__decorateClass([Property39],SunburstSeriesTileHighlightStyle.prototype,"label",2),__decorateClass([Property39],SunburstSeriesTileHighlightStyle.prototype,"secondaryLabel",2);var SunburstSeriesProperties=class extends HierarchySeriesProperties{constructor(){super(...arguments),this.fillOpacity=1,this.strokeWidth=0,this.strokeOpacity=1,this.cornerRadius=0,this.highlightStyle=new SunburstSeriesTileHighlightStyle,this.label=new AutoSizedLabel,this.secondaryLabel=new AutoSizedSecondaryLabel,this.tooltip=new SeriesTooltip23}};__decorateClass([Property39],SunburstSeriesProperties.prototype,"sizeName",2),__decorateClass([Property39],SunburstSeriesProperties.prototype,"labelKey",2),__decorateClass([Property39],SunburstSeriesProperties.prototype,"secondaryLabelKey",2),__decorateClass([Property39],SunburstSeriesProperties.prototype,"fillOpacity",2),__decorateClass([Property39],SunburstSeriesProperties.prototype,"strokeWidth",2),__decorateClass([Property39],SunburstSeriesProperties.prototype,"strokeOpacity",2),__decorateClass([Property39],SunburstSeriesProperties.prototype,"cornerRadius",2),__decorateClass([Property39],SunburstSeriesProperties.prototype,"sectorSpacing",2),__decorateClass([Property39],SunburstSeriesProperties.prototype,"padding",2),__decorateClass([Property39],SunburstSeriesProperties.prototype,"itemStyler",2),__decorateClass([Property39],SunburstSeriesProperties.prototype,"highlightStyle",2),__decorateClass([Property39],SunburstSeriesProperties.prototype,"label",2),__decorateClass([Property39],SunburstSeriesProperties.prototype,"secondaryLabel",2),__decorateClass([Property39],SunburstSeriesProperties.prototype,"tooltip",2);var{fromToMotion:fromToMotion6,normalizeAngle360:normalizeAngle3607,createDatumId:createDatumId23,Sector:Sector7,Group:Group17,ScalableGroup:ScalableGroup2,Selection:Selection16,TransformableText:TransformableText3,BBox:BBox17,applyShapeStyle:applyShapeStyle16,getShapeStyle:getShapeStyle19}=import_ag_charts_community164._ModuleSupport,SunburstNode=class extends import_ag_charts_community164._ModuleSupport.HierarchyNode{constructor(){super(...arguments),this.label=void 0,this.secondaryLabel=void 0,this.contentHeight=0,this.bbox=void 0,this.startAngle=0,this.endAngle=0}};function setAngleData(e,t=0,i=2*Math.PI/e.sumSize){for(const a of e.children){const s=t+a.sumSize*i;a.startAngle=t,a.endAngle=s,setAngleData(a,t,i),t=s}}var SunburstSeries=class extends import_ag_charts_community164._ModuleSupport.HierarchySeries{constructor(){super(...arguments),this.NodeClass=SunburstNode,this.properties=new SunburstSeriesProperties,this.scalingGroup=this.contentGroup.appendChild(new ScalableGroup2),this.sectorGroup=this.scalingGroup.appendChild(new Group17),this.sectorLabelGroup=this.scalingGroup.appendChild(new Group17),this.highlightSectorGroup=this.scalingGroup.appendChild(new Group17),this.datumSelection=Selection16.select(this.sectorGroup,Sector7),this.labelSelection=Selection16.select(this.sectorLabelGroup,Group17),this.highlightSelection=Selection16.select(this.highlightSectorGroup,Sector7)}processData(){super.processData(),setAngleData(this.rootNode)}updateSelections(){const e=this.ctx.highlightManager?.getActiveHighlight();if(this.highlightSelection.update(e!=null?[e]:[],void 0,o=>this.getDatumId(o)),!this.nodeDataRefresh)return;this.nodeDataRefresh=!1;const{chart:t}=this;if(t==null||t.seriesRect==null)return;const a=Array.from(this.rootNode),s=o=>{o.append([new TransformableText3({tag:0}),new TransformableText3({tag:1})])};this.datumSelection.update(a,void 0,o=>this.getDatumId(o)),this.labelSelection.update(a,s,o=>this.getDatumId(o))}getItemBaseStyle(e){const{properties:t}=this,i=e?t.highlightStyle:void 0;return getShapeStyle19({fill:i?.fill,fillOpacity:i?.fillOpacity??t.fillOpacity,stroke:i?.stroke,strokeWidth:i?.strokeWidth??this.getStrokeWidth(t.strokeWidth),strokeOpacity:i?.strokeOpacity??t.strokeOpacity},t.fillGradientDefaults,t.fillPatternDefaults,t.fillImageDefaults)}getItemStyleOverrides(e,t,i,a,s,o){const{id:r,properties:n,colorScale:l}=this,{fills:c,strokes:h,itemStyler:p}=n,u=e[0],d=s.fill??c[u%c.length],f=s.stroke??h[u%h.length],g={};if(o||(g.fill=a!=null?l.convert(a):d,g.stroke=f),p!=null){const y=this.cachedDatumCallback(createDatumId23(e.join(":"),o?"highlight":"node"),()=>this.callWithContext(p,{seriesId:r,datum:t,depth:i,highlighted:o,fill:d,stroke:f,...s}));Object.assign(g,y)}return getShapeStyle19(g,this.properties.fillGradientDefaults,this.properties.fillPatternDefaults,this.properties.fillImageDefaults)}updateNodes(){const{chart:e,data:t,maxDepth:i}=this;if(e==null||t==null)return;const{width:a,height:s}=e.seriesRect,{sectorSpacing:o=0,padding:r=0,cornerRadius:n,childrenKey:l,colorKey:c,colorName:h,labelKey:p,secondaryLabelKey:u,sizeKey:d,sizeName:f}=this.properties;this.contentGroup.translationX=a/2,this.contentGroup.translationY=s/2;const g=o*.5,y=Math.min(a,s)/2,m=y/(i+1),x=-Math.PI/2,S={series:new BBox17(-y,-y,2*y,2*y),axis:new BBox17(-y,-y,2*y,2*y)};this.rootNode?.walk(I=>{const{startAngle:k,endAngle:P}=I;if(I.depth!=null){const _=(k+P)/2+x,A=(I.depth+.5)*m;I.midPoint.x=Math.cos(_)*A,I.midPoint.y=Math.sin(_)*A}}),this.rootNode?.walk(I=>{const{datum:k,depth:P,startAngle:_,endAngle:A,parent:L,sumSize:C}=I;I.label=void 0,I.secondaryLabel=void 0,I.contentHeight=0;let R;if(k!=null&&P!=null&&p!=null){const J=k[p];R=this.getLabelText(this.properties.label,{depth:P,datum:k,childrenKey:l,colorKey:c,colorName:h,labelKey:p,secondaryLabelKey:u,sizeKey:d,sizeName:f,value:J})}R===""&&(R=void 0);let O;if(k!=null&&P!=null&&u!=null){const J=k[u];O=this.getLabelText(this.properties.secondaryLabel,{depth:P,datum:k,childrenKey:l,colorKey:c,colorName:h,labelKey:p,secondaryLabelKey:u,sizeKey:d,sizeName:f,value:J})}if(O===""&&(O=void 0),P==null)return;const B=P*m+g,T=(P+1)*m-g,F=B>g?g/B:g,w=T>g?g/T:g,E=_+F,W=A+F-E,V=_+w,z=A+w-V,X=J=>{if(P===0&&L?.sumSize===C)return{width:2*Math.sqrt(T**2-(J*.5)**2),height:J,meta:0};const ie=J,oe=2*Math.sqrt(T**2-(B+ie)**2),re=W<Math.PI?2*B*Math.tan(W*.5):1/0,ne=Math.min(oe,re),he=Math.PI/4;let le,ce;return P===0?(le=J,ce=Math.sqrt(T**2-(le/2)**2)-J/(2*Math.tan(z*.5))):normalizeAngle3607(W)<he?(le=2*B*Math.tan(W*.5),ce=Math.sqrt(T**2-(le/2)**2)-B):(ce=0,le=0),ne>=ce?{width:ne,height:ie,meta:1}:{width:ce,height:le,meta:2}},Y=formatLabels(R,this.properties.label,O,this.properties.secondaryLabel,{padding:r},X);if(Y==null)return;const{width:U,height:H,meta:$,label:j,secondaryLabel:Z}=Y,q=x+(_+A)/2,ae=Math.sin(q)>=0,se=Math.cos(q)>=0,Q=(ae?3:12)&(se?6:9);let te;switch($){case 0:te=0;break;case 1:{const ee=T-(m-H)*.58,ie=Math.sqrt((T-r)**2-(U/2)**2);te=Math.min(ee,ie);break}case 2:if(P===0){const J=H/(2*Math.tan(W*.5))+U*.5,ee=Math.sqrt(T**2-(H*.5)**2)-U*.5;te=(J+ee)*.5}else te=(B+T)*.5;break}if(j!=null){const{fontStyle:J="normal",fontFamily:ee,fontWeight:ie="normal",color:oe="black"}=this.properties.label;I.label={...j,fontStyle:J,fontFamily:ee,fontWeight:ie,color:oe,labelPlacement:$,circleQuarter:Q,radius:te,theta:q}}if(Z!=null){const{fontStyle:J="normal",fontFamily:ee,fontWeight:ie="normal",color:oe="black"}=this.properties.secondaryLabel;I.secondaryLabel={...Z,fontStyle:J,fontFamily:ee,fontWeight:ie,color:oe,labelPlacement:$,circleQuarter:Q,radius:te,theta:q}}I.contentHeight=Y.height});const D=(I,k,P,_)=>{const{datum:A,datumIndex:L,depth:C,colorValue:R,startAngle:O,endAngle:B}=I;if(C==null){k.visible=!1;return}k.visible=!0;const T=this.getItemStyleOverrides(L,A,C,R,P,_),F=T.fill??P.fill,w=T.strokeWidth??P.strokeWidth,E=import_ag_charts_community164._ModuleSupport.isGradientFill(F)&&F.bounds!=="item"?S:void 0;applyShapeStyle16(k,P,T,E),k.centerX=0,k.centerY=0,k.innerRadius=C*m,k.outerRadius=(C+1)*m,k.startAngle=O+x,k.endAngle=B+x,k.inset=g+w*.5,k.cornerRadius=n},M=this.getItemBaseStyle(!1);this.datumSelection.each((I,k)=>{D(k,I,M,!1)});const N=this.getItemBaseStyle(!0);this.highlightSelection.each((I,k)=>{D(k,I,N,!0)});const v=(I,k,P,_)=>{const{depth:A,contentHeight:L}=I,C=P===0,R=C?I.label:I.secondaryLabel;if(A==null||R==null){k.visible=!1;return}const{labelPlacement:O,circleQuarter:B,radius:T,theta:F}=R;let w;switch(_&&(w=(C?this.properties.highlightStyle.label:this.properties.highlightStyle.secondaryLabel).color),k.text=R.text,k.fontSize=R.fontSize,k.lineHeight=R.lineHeight,k.fontStyle=R.fontStyle,k.fontFamily=R.fontFamily,k.fontWeight=R.fontWeight,k.fill=w??R.color,O){case 0:k.textAlign="center",k.textBaseline="top",k.translationX=0,k.translationY=(C?0:L-R.height)-L*.5,k.rotation=0;break;case 1:{const E=(B&3)!==0,G=C===!E?T:T-(L-R.height);k.textAlign="center",k.textBaseline=E?"bottom":"top",k.translationX=Math.cos(F)*G,k.translationY=Math.sin(F)*G,k.rotation=E?F-Math.PI*.5:F+Math.PI*.5;break}case 2:{const E=(B&6)!==0,G=C===!E?(L-R.height)*.5:(R.height-L)*.5;k.textAlign="center",k.textBaseline="middle",k.translationX=Math.cos(F)*T+Math.cos(F+Math.PI/2)*G,k.translationY=Math.sin(F)*T+Math.sin(F+Math.PI/2)*G,k.rotation=E?F:F+Math.PI;break}}k.visible=!0},b=this.ctx.highlightManager?.getActiveHighlight();this.labelSelection.selectByClass(TransformableText3).forEach(I=>{const k=I.closestDatum();v(k,I,I.tag,k===b)})}getTooltipContent(e){const{id:t,properties:i}=this,{labelKey:a,secondaryLabelKey:s,childrenKey:o,sizeKey:r,sizeName:n,colorKey:l,colorName:c,tooltip:h}=i,p=e.reduce((D,M)=>D?.children[M],this.rootNode);if(p==null)return;const{datum:u,depth:d}=p;if(u==null||d==null)return;const f=[],g=r!=null?u[r]:void 0;g!=null&&f.push({label:n,fallbackLabel:r,value:g});const y=l!=null?u[l]:void 0;y!=null&&f.push({label:c,fallbackLabel:l,value:y});const m=this.getItemBaseStyle(!1);Object.assign(m,this.getItemStyleOverrides(e,u,d,y,m,!1));const x=m.fill,S=getShapeStyle19({shape:"square",fill:x,fillOpacity:1,stroke:void 0,strokeWidth:0,strokeOpacity:1,lineDash:[0],lineDashOffset:0},i.fillGradientDefaults,i.fillPatternDefaults,i.fillImageDefaults);return import_ag_charts_community164._ModuleSupport.isGradientFill(S.fill)&&(S.fill={...S.fill,gradient:"linear",rotation:0,reverse:!1}),this.formatTooltipWithContext(h,{title:a!=null?u[a]:void 0,symbol:{marker:S},data:f},{seriesId:t,datum:u,title:void 0,depth:d,labelKey:a,secondaryLabelKey:s,childrenKey:o,sizeKey:r,sizeName:n,colorKey:l,colorName:c,...m})}createNodeData(){}pickNodeClosestDatum(e){return this.pickNodeNearestDistantObject(e,this.datumSelection.selectByClass(Sector7))}animateEmptyUpdateReady(){fromToMotion6(this.id,"nodes",this.ctx.animationManager,[this.scalingGroup],{toFn(){return{scalingX:1,scalingY:1}},fromFn(){return{scalingX:0,scalingY:0}}})}computeFocusBounds(e){return e}};SunburstSeries.className="SunburstSeries",SunburstSeries.type="sunburst";var import_ag_charts_community165=require("ag-charts-community"),import_ag_charts_core55=require("ag-charts-core"),{commonSeriesOptionsDefs:commonSeriesOptionsDefs22,sunburstSeriesThemeableOptionsDef,without:without5}=import_ag_charts_community165._ModuleSupport,sunburstSeriesOptionsDef={...sunburstSeriesThemeableOptionsDef,...without5(commonSeriesOptionsDefs22,["highlightStyle"]),type:(0,import_ag_charts_core55.required)((0,import_ag_charts_core55.constant)("sunburst")),labelKey:import_ag_charts_core55.string,secondaryLabelKey:import_ag_charts_core55.string,childrenKey:import_ag_charts_core55.string,sizeKey:import_ag_charts_core55.string,colorKey:import_ag_charts_core55.string,sizeName:import_ag_charts_core55.string,colorName:import_ag_charts_core55.string},{FONT_SIZE_RATIO:FONT_SIZE_RATIO2}=import_ag_charts_community166._ModuleSupport,SunburstModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["hierarchy"],identifier:"sunburst",moduleFactory:e=>new SunburstSeries(e),tooltipDefaults:{range:"exact"},solo:!0,themeTemplate:{series:{fills:{$palette:"fills"},strokes:{$palette:"strokes"},colorRange:{$palette:"divergingColors"},fillGradientDefaults:{type:"gradient",gradient:"radial",bounds:"series",colorStops:{$palette:"gradient"},rotation:0,reverse:!0},fillPatternDefaults:import_ag_charts_community166._ModuleSupport.FILL_PATTERN_DEFAULTS,fillImageDefaults:import_ag_charts_community166._ModuleSupport.FILL_IMAGE_DEFAULTS,label:{fontFamily:{$ref:"fontFamily"},fontSize:{$rem:[FONT_SIZE_RATIO2.LARGE]},minimumFontSize:{$round:[{$mul:[{$ref:"fontSize"},9/12]}]},fontWeight:{$ref:"fontWeight"},color:{$ref:"backgroundColor"},overflowStrategy:"ellipsis",wrapping:"never",spacing:2},secondaryLabel:{fontFamily:{$ref:"fontFamily"},fontSize:{$rem:[FONT_SIZE_RATIO2.SMALLEST]},minimumFontSize:{$round:[{$mul:[{$ref:"fontSize"},7/12]}]},fontWeight:{$ref:"fontWeight"},color:{$ref:"backgroundColor"},overflowStrategy:"ellipsis",wrapping:"never"},sectorSpacing:2,padding:3,highlightStyle:{label:{color:{$ref:"backgroundColor"}},secondaryLabel:{color:{$ref:"backgroundColor"}},fill:"rgba(255,255,255, 0.33)",stroke:"rgba(0, 0, 0, 0.4)",strokeWidth:2}},gradientLegend:{enabled:!0}}},SunburstSeriesModule={type:"series",name:"sunburst",chartType:"hierarchy",enterprise:!0,options:sunburstSeriesOptionsDef,create:e=>new SunburstSeries(e)},import_ag_charts_community170=require("ag-charts-community"),import_ag_charts_community168=require("ag-charts-community"),import_ag_charts_core56=require("ag-charts-core"),import_ag_charts_community167=require("ag-charts-community"),{BaseProperties:BaseProperties12,HierarchySeriesProperties:HierarchySeriesProperties2,HighlightStyle:HighlightStyle2,SeriesTooltip:SeriesTooltip24,Property:Property40,Label:Label16}=import_ag_charts_community167._ModuleSupport,TreemapGroupLabel=class extends Label16{constructor(){super(...arguments),this.spacing=0}};__decorateClass([Property40],TreemapGroupLabel.prototype,"spacing",2);var TreemapSeriesGroup=class extends BaseProperties12{constructor(){super(...arguments),this.fill=void 0,this.fillOpacity=1,this.strokeWidth=1,this.strokeOpacity=1,this.cornerRadius=0,this.textAlign="center",this.gap=0,this.padding=0,this.interactive=!0,this.label=new TreemapGroupLabel}};__decorateClass([Property40],TreemapSeriesGroup.prototype,"fill",2),__decorateClass([Property40],TreemapSeriesGroup.prototype,"fillOpacity",2),__decorateClass([Property40],TreemapSeriesGroup.prototype,"stroke",2),__decorateClass([Property40],TreemapSeriesGroup.prototype,"strokeWidth",2),__decorateClass([Property40],TreemapSeriesGroup.prototype,"strokeOpacity",2),__decorateClass([Property40],TreemapSeriesGroup.prototype,"cornerRadius",2),__decorateClass([Property40],TreemapSeriesGroup.prototype,"textAlign",2),__decorateClass([Property40],TreemapSeriesGroup.prototype,"gap",2),__decorateClass([Property40],TreemapSeriesGroup.prototype,"padding",2),__decorateClass([Property40],TreemapSeriesGroup.prototype,"interactive",2),__decorateClass([Property40],TreemapSeriesGroup.prototype,"label",2);var TreemapSeriesTile=class extends BaseProperties12{constructor(){super(...arguments),this.fill=void 0,this.fillOpacity=1,this.strokeWidth=1,this.strokeOpacity=1,this.cornerRadius=0,this.textAlign="center",this.verticalAlign="middle",this.gap=0,this.padding=0,this.label=new AutoSizedLabel,this.secondaryLabel=new AutoSizedSecondaryLabel}};__decorateClass([Property40],TreemapSeriesTile.prototype,"fill",2),__decorateClass([Property40],TreemapSeriesTile.prototype,"fillOpacity",2),__decorateClass([Property40],TreemapSeriesTile.prototype,"stroke",2),__decorateClass([Property40],TreemapSeriesTile.prototype,"strokeWidth",2),__decorateClass([Property40],TreemapSeriesTile.prototype,"strokeOpacity",2),__decorateClass([Property40],TreemapSeriesTile.prototype,"cornerRadius",2),__decorateClass([Property40],TreemapSeriesTile.prototype,"textAlign",2),__decorateClass([Property40],TreemapSeriesTile.prototype,"verticalAlign",2),__decorateClass([Property40],TreemapSeriesTile.prototype,"gap",2),__decorateClass([Property40],TreemapSeriesTile.prototype,"padding",2),__decorateClass([Property40],TreemapSeriesTile.prototype,"label",2),__decorateClass([Property40],TreemapSeriesTile.prototype,"secondaryLabel",2);var TreemapSeriesGroupHighlightStyle=class extends BaseProperties12{constructor(){super(...arguments),this.label=new AutoSizedLabel}};__decorateClass([Property40],TreemapSeriesGroupHighlightStyle.prototype,"fill",2),__decorateClass([Property40],TreemapSeriesGroupHighlightStyle.prototype,"fillOpacity",2),__decorateClass([Property40],TreemapSeriesGroupHighlightStyle.prototype,"stroke",2),__decorateClass([Property40],TreemapSeriesGroupHighlightStyle.prototype,"strokeWidth",2),__decorateClass([Property40],TreemapSeriesGroupHighlightStyle.prototype,"strokeOpacity",2),__decorateClass([Property40],TreemapSeriesGroupHighlightStyle.prototype,"label",2);var TreemapSeriesTileHighlightStyle=class extends BaseProperties12{constructor(){super(...arguments),this.label=new AutoSizedLabel,this.secondaryLabel=new AutoSizedSecondaryLabel}};__decorateClass([Property40],TreemapSeriesTileHighlightStyle.prototype,"fill",2),__decorateClass([Property40],TreemapSeriesTileHighlightStyle.prototype,"fillOpacity",2),__decorateClass([Property40],TreemapSeriesTileHighlightStyle.prototype,"stroke",2),__decorateClass([Property40],TreemapSeriesTileHighlightStyle.prototype,"strokeWidth",2),__decorateClass([Property40],TreemapSeriesTileHighlightStyle.prototype,"strokeOpacity",2),__decorateClass([Property40],TreemapSeriesTileHighlightStyle.prototype,"label",2),__decorateClass([Property40],TreemapSeriesTileHighlightStyle.prototype,"secondaryLabel",2);var TreemapSeriesHighlightStyle=class extends HighlightStyle2{constructor(){super(...arguments),this.group=new TreemapSeriesGroupHighlightStyle,this.tile=new TreemapSeriesTileHighlightStyle}};__decorateClass([Property40],TreemapSeriesHighlightStyle.prototype,"group",2),__decorateClass([Property40],TreemapSeriesHighlightStyle.prototype,"tile",2);var TreemapSeriesProperties=class extends HierarchySeriesProperties2{constructor(){super(...arguments),this.highlightStyle=new TreemapSeriesHighlightStyle,this.tooltip=new SeriesTooltip24,this.group=new TreemapSeriesGroup,this.tile=new TreemapSeriesTile,this.undocumentedGroupFills=[],this.undocumentedGroupStrokes=[]}};__decorateClass([Property40],TreemapSeriesProperties.prototype,"sizeName",2),__decorateClass([Property40],TreemapSeriesProperties.prototype,"labelKey",2),__decorateClass([Property40],TreemapSeriesProperties.prototype,"secondaryLabelKey",2),__decorateClass([Property40],TreemapSeriesProperties.prototype,"itemStyler",2),__decorateClass([Property40],TreemapSeriesProperties.prototype,"highlightStyle",2),__decorateClass([Property40],TreemapSeriesProperties.prototype,"tooltip",2),__decorateClass([Property40],TreemapSeriesProperties.prototype,"group",2),__decorateClass([Property40],TreemapSeriesProperties.prototype,"tile",2),__decorateClass([Property40],TreemapSeriesProperties.prototype,"undocumentedGroupFills",2),__decorateClass([Property40],TreemapSeriesProperties.prototype,"undocumentedGroupStrokes",2);var{TextUtils:TextUtils7,TextWrapper:TextWrapper5,createDatumId:createDatumId24,Rect:Rect8,Group:Group18,BBox:BBox18,Selection:Selection17,Text:Text8,Transformable:Transformable4,applyShapeStyle:applyShapeStyle17,getShapeStyle:getShapeStyle20}=import_ag_charts_community168._ModuleSupport,TreemapNode=class extends import_ag_charts_community168._ModuleSupport.HierarchyNode{constructor(){super(...arguments),this.labelValue=void 0,this.secondaryLabelValue=void 0,this.label=void 0,this.secondaryLabel=void 0,this.bbox=void 0,this.padding=void 0}},tempText=new Text8;function getTextSize(e,t){const{fontStyle:i,fontWeight:a,fontSize:s,fontFamily:o}=t;tempText.setProperties({text:e,fontStyle:i,fontWeight:a,fontSize:s,fontFamily:o,textAlign:"left",textBaseline:"top"});const{width:r,height:n}=tempText.getBBox();return{width:r,height:n}}function nodeSize(e){return e.children.length>0?e.sumSize-e.sizeValue:e.sizeValue}var textAlignFactors2={left:0,center:.5,right:1},verticalAlignFactors4={top:0,middle:.5,bottom:1},DistantGroup=class extends import_ag_charts_community168._ModuleSupport.Group{distanceSquared(e,t){return this.getBBox().distanceSquared(e,t)}},TreemapSeries=class extends import_ag_charts_community168._ModuleSupport.HierarchySeries{constructor(){super(...arguments),this.NodeClass=TreemapNode,this.properties=new TreemapSeriesProperties,this.rectGroup=this.contentGroup.appendChild(new Group18),this.datumSelection=Selection17.select(this.rectGroup,Rect8),this.labelSelection=Selection17.select(this.labelGroup,Group18),this.highlightSelection=Selection17.select(this.rectGroup,Rect8)}groupTitleHeight(e,t){const{labelValue:i}=e,{label:a}=this.properties.group,s=3;if(i!=null){if(a.fontSize>t.width/s||a.fontSize>t.height/s)return;{const{height:o}=getTextSize(i,a);return Math.max(o,a.fontSize)}}}getNodePadding(e,t){if(e.parent==null)return{top:0,right:0,bottom:0,left:0};if(e.children.length===0){const{padding:r}=this.properties.tile;return{top:r,right:r,bottom:r,left:r}}const{label:{spacing:i},padding:a}=this.properties.group,s=this.groupTitleHeight(e,t),o=s!=null?s+i:0;return{top:a+o,right:a,bottom:a,left:a}}sortChildren({children:e}){const t=Array.from(e,(a,s)=>s).filter(a=>nodeSize(e[a])>0).sort((a,s)=>nodeSize(e[s])-nodeSize(e[a]));return{sortedChildrenIndices:t,childAt:a=>{const s=t[a];return e[s]}}}squarify(e,t){const{datum:i,children:a}=e;if(t.width<=0||t.height<=0){e.bbox=void 0,e.padding=void 0,e.midPoint.x=NaN,e.midPoint.y=NaN;return}const s=i!=null?this.getNodePadding(e,t):{top:0,right:0,bottom:0,left:0};e.parent==null?(e.bbox=void 0,e.padding=void 0,e.midPoint.x=NaN,e.midPoint.y=NaN):(e.bbox=t,e.padding=s,e.midPoint.x=t.x+t.width/2,e.midPoint.y=t.y);const{sortedChildrenIndices:o,childAt:r}=this.sortChildren(e),n=o.every(M=>a[M].children.length===0),l=1,c=t.width-s.left-s.right,h=t.height-s.top-s.bottom;if(c<=0||h<=0)return;const p=o.length;let u=0,d=0,f=1/0,g=o.reduce((M,N)=>M+nodeSize(a[N]),0);const y=new BBox18(t.x+s.left,t.y+s.top,c,h),m=y.clone();let x=0;for(;x<p;){const M=nodeSize(r(x)),N=nodeSize(r(d)),v=m.width<m.height;u+=M;const b=v?m.height:m.width,I=v?m.width:m.height,k=I*N/u;let P=b*u/g;const _=Math.max(k,P)/Math.min(k,P),A=Math.abs(l-_);if(A<f){f=A,x++;continue}u-=M,P=b*u/g;let L=v?m.x:m.y;for(let C=d;C<x;C++){const R=r(C),O=nodeSize(R),B=v?L:m.x,T=v?m.y:L,F=I*O/u,w=v?F:P,E=v?P:F,G=new BBox18(B,T,w,E);this.applyGap(y,G,n),this.squarify(R,G),g-=O,L+=F}v?(m.y+=P,m.height-=P):(m.x+=P,m.width-=P),d=x,u=0,f=1/0}const S=m.width<m.height;let D=S?m.x:m.y;for(let M=d;M<p;M++){const N=r(M),v=S?D:m.x,b=S?m.y:D,I=nodeSize(N)/g,k=m.width*(S?I:1),P=m.height*(S?1:I),_=new BBox18(v,b,k,P);this.applyGap(y,_,n),this.squarify(N,_),D+=S?k:P}}applyGap(e,t,i){const a=i?this.properties.tile.gap*.5:this.properties.group.gap*.5,s=l=>({left:l.x,top:l.y,right:l.x+l.width,bottom:l.y+l.height}),o=s(e),r=s(t);["top","right","bottom","left"].forEach(l=>{(0,import_ag_charts_core56.isNumberEqual)(o[l],r[l])||t.shrink(a,l)})}createNodeData(){}getGroupBaseStyle(e){const{properties:t}=this,{group:i}=t,a=e?t.highlightStyle.group:void 0;return getShapeStyle20({fill:a?.fill??i.fill,fillOpacity:a?.fillOpacity??i.fillOpacity,stroke:a?.stroke??i.stroke,strokeWidth:a?.strokeWidth??i.strokeWidth,strokeOpacity:a?.strokeOpacity??i.strokeOpacity},t.fillGradientDefaults,t.fillPatternDefaults,t.fillImageDefaults)}getGroupStyleOverrides(e,t,i,a,s){const{id:o,properties:r}=this,{undocumentedGroupFills:n,undocumentedGroupStrokes:l,itemStyler:c}=r,h=a.fill??n[Math.min(i??0,n.length)],p=a.stroke??l[Math.min(i??0,l.length)],u={};if(s||(u.fill=h,u.stroke=p),c!=null){const d=this.cachedDatumCallback(createDatumId24(e.join(":"),s?"highlight":"node"),()=>this.callWithContext(c,{seriesId:o,datum:t,depth:i,highlighted:s,fill:h,stroke:p,...a}));Object.assign(u,d)}return getShapeStyle20(u,this.properties.fillGradientDefaults,this.properties.fillPatternDefaults,this.properties.fillImageDefaults)}getTileBaseStyle(e){const{properties:t}=this,{tile:i}=t,a=e?t.highlightStyle.tile:void 0;return getShapeStyle20({fill:a?.fill??i.fill,fillOpacity:a?.fillOpacity??i.fillOpacity,stroke:a?.stroke??i.stroke,strokeWidth:a?.strokeWidth??i.strokeWidth,strokeOpacity:a?.strokeOpacity??i.strokeOpacity},t.fillGradientDefaults,t.fillPatternDefaults,t.fillImageDefaults)}getTileStyleOverrides(e,t,i,a,s,o){const{id:r,properties:n,colorScale:l}=this,{fills:c,strokes:h,itemStyler:p}=n,u=e[0],d=s.fill??c[u%c.length],f=s.stroke??h[u%h.length],g={};if(o||(g.fill=a!=null?l.convert(a):d,g.stroke=f),p!=null){const y=this.cachedDatumCallback(createDatumId24(e.join(":"),o?"highlight":"node"),()=>this.callWithContext(p,{seriesId:r,datum:t,depth:i,highlighted:o,fill:d,stroke:f,...s}));Object.assign(g,y)}return getShapeStyle20(g,this.properties.fillGradientDefaults,this.properties.fillPatternDefaults,this.properties.fillImageDefaults)}updateSelections(){let e=this.ctx.highlightManager?.getActiveHighlight();if(e!=null&&!this.properties.group.interactive&&e.children.length!==0&&(e=void 0),this.highlightSelection.update(e!=null?[e]:[],void 0,s=>this.getDatumId(s)),!this.nodeDataRefresh)return;this.nodeDataRefresh=!1;const{seriesRect:t}=this.chart??{};if(!t)return;const i=Array.from(this.rootNode),a=s=>{s.append([new Text8({tag:0}),new Text8({tag:1})])};this.datumSelection.update(i,void 0,s=>this.getDatumId(s)),this.labelSelection.update(i,a,s=>this.getDatumId(s))}updateNodes(){const{rootNode:e,data:t}=this,{childrenKey:i,colorKey:a,colorName:s,labelKey:o,secondaryLabelKey:r,sizeKey:n,sizeName:l,highlightStyle:c,tile:h,group:p}=this.properties,{seriesRect:u}=this.chart??{};if(!u||!t)return;this.rootNode?.walk(v=>{const{datum:b,depth:I,children:k}=v,P=k.length===0,_=P?h.label:p.label;let A;if(b!=null&&I!=null&&o!=null){const C=b[o];A=this.getLabelText(_,{depth:I,datum:b,childrenKey:i,colorKey:a,colorName:s,labelKey:o,secondaryLabelKey:r,sizeKey:n,sizeName:l,value:C})}A===""&&(A=void 0);let L;if(P&&b!=null&&I!=null&&r!=null){const C=b[r];L=this.getLabelText(h.secondaryLabel,{depth:I,datum:b,childrenKey:i,colorKey:a,colorName:s,labelKey:o,secondaryLabelKey:r,sizeKey:n,sizeName:l,value:C})}L===""&&(L=void 0),v.labelValue=A,v.secondaryLabelValue=L});const{width:d,height:f}=u;this.squarify(e,new BBox18(0,0,d,f)),this.rootNode?.walk(v=>{const{bbox:b,children:I,labelValue:k,secondaryLabelValue:P}=v;if(v.label=void 0,v.secondaryLabel=void 0,b!=null)if(I.length===0){const _={width:b.width,height:b.height,meta:null},A=formatLabels(k,this.properties.tile.label,P,this.properties.tile.secondaryLabel,{padding:h.padding},()=>_);if(A==null)return;const{height:L,label:C,secondaryLabel:R}=A,{textAlign:O,verticalAlign:B,padding:T}=h,F=textAlignFactors2[O]??.5,w=b.x+T+(b.width-2*T)*F,E=verticalAlignFactors4[B]??.5,G=b.y+T+L*.5+(b.height-2*T-L)*E;if(C!=null){const{fontStyle:W="normal",fontFamily:V,fontWeight:K="normal",color:z="black"}=this.properties.tile.label;v.label={text:C.text,fontSize:C.fontSize,lineHeight:C.lineHeight,fontStyle:W,fontFamily:V,fontWeight:K,color:z,textAlign:O,verticalAlign:"middle",x:w,y:G-(L-C.height)*.5}}if(R!=null){const{fontStyle:W="normal",fontFamily:V,fontWeight:K="normal",color:z="black"}=this.properties.tile.secondaryLabel;v.secondaryLabel={text:R.text,fontSize:R.fontSize,lineHeight:R.fontSize,fontStyle:W,fontFamily:V,fontWeight:K,color:z,textAlign:O,verticalAlign:"middle",x:w,y:G+(L-R.height)*.5}}}else{if(k==null)return;{const{padding:_,textAlign:A}=p,L=this.groupTitleHeight(v,b);if(L==null)return;const C=b.width-2*_,R=TextWrapper5.wrapText(k,{maxWidth:b.width-2*_,font:p.label,textWrap:"never"}),O=textAlignFactors2[A]??.5,{fontStyle:B="normal",fontFamily:T,fontWeight:F="normal",color:w="black"}=this.properties.group.label;v.label={text:R,fontSize:p.label.fontSize,lineHeight:TextUtils7.getLineHeight(p.label.fontSize),fontStyle:B,fontFamily:T,fontWeight:F,color:w,textAlign:A,verticalAlign:"middle",x:b.x+_+C*O,y:b.y+_+L*.5}}}});const g={series:new BBox18(0,0,d,f),axis:new BBox18(0,0,d,f)},y=(v,b,I,k,P)=>{const{bbox:_}=v;if(_==null){b.visible=!1;return}const{datum:A,depth:L=-1,datumIndex:C,colorValue:R}=v,O=v.children.length===0,B=O?k:I,T=O?this.getTileStyleOverrides(C,A,L,R,B,P):this.getGroupStyleOverrides(C,A,L,B,P);b.crisp=!0,applyShapeStyle17(b,B,T,g),b.cornerRadius=O?h.cornerRadius:p.cornerRadius,b.zIndex=[0,L,P?1:0];const F=v.parent?.children.every(G=>G.children.length===0),w=v.parent!=null?v.parent.bbox:void 0,E=v.parent!=null?v.parent.padding:void 0;F===!0&&w!=null&&E!=null?(b.clipBBox=_,b.x=w.x+E.left,b.y=w.y+E.top,b.width=w.width-(E.left+E.right),b.height=w.height-(E.top+E.bottom)):(b.clipBBox=void 0,b.x=_.x,b.y=_.y,b.width=_.width,b.height=_.height),b.visible=!0},m=this.getGroupBaseStyle(!1),x=this.getTileBaseStyle(!1);this.datumSelection.each((v,b)=>y(b,v,m,x,!1));const S=this.getGroupBaseStyle(!0),D=this.getTileBaseStyle(!0);this.highlightSelection.each((v,b)=>{y(b,v,S,D,!0)});const M=(v,b,I,k)=>{const P=v.children.length===0,_=I===0?v.label:v.secondaryLabel;if(_==null){b.visible=!1;return}let A;if(k){const{tile:L,group:C}=c;A=L.secondaryLabel.color,P?I===0&&(A=L.label.color):A=C.label.color}b.text=_.text,b.fontSize=_.fontSize,b.lineHeight=_.lineHeight,b.fontStyle=_.fontStyle,b.fontFamily=_.fontFamily,b.fontWeight=_.fontWeight,b.fill=A??_.color,b.textAlign=_.textAlign,b.textBaseline=_.verticalAlign,b.x=_.x,b.y=_.y,b.visible=!0,b.zIndex=1},N=this.ctx.highlightManager?.getActiveHighlight();this.labelSelection.selectByClass(Text8).forEach(v=>{const b=v.closestDatum();M(b,v,v.tag,b===N)})}pickNodesExactShape(e){const t=super.pickNodesExactShape(e);return t.sort((i,a)=>a.datumIndex.length-i.datumIndex.length),t}pickNodeClosestDatum(e){const t=this.pickNodesExactShape(e);return t.length!==0?{datum:t[0],distance:0}:this.pickNodeNearestDistantObject(e,this.datumSelection.nodes())}getTooltipContent(e){const{id:t,properties:i}=this,{labelKey:a,secondaryLabelKey:s,childrenKey:o,sizeKey:r,sizeName:n,colorKey:l,colorName:c,tooltip:h}=i,p=e.reduce((v,b)=>v?.children[b],this.rootNode);if(p==null)return;const{datum:u,depth:d,children:f}=p;if(u==null||d==null)return;const g=f.length===0,y=[],m=r!=null?u[r]:void 0;m!=null&&y.push({label:n,fallbackLabel:r,value:m});const x=l!=null?u[l]:void 0;x!=null&&y.push({label:c,fallbackLabel:l,value:x});let S;g?(S=this.getTileBaseStyle(!1),Object.assign(S,this.getTileStyleOverrides(e,u,d,x,S,!1))):(S=this.getGroupBaseStyle(!1),Object.assign(S,this.getGroupStyleOverrides(e,u,d,S,!1)));const D=S.fill,M=getShapeStyle20({shape:"square",fill:D,fillOpacity:1,stroke:void 0,strokeWidth:0,strokeOpacity:1,lineDash:[0],lineDashOffset:0},this.properties.fillGradientDefaults,this.properties.fillPatternDefaults,this.properties.fillImageDefaults);import_ag_charts_community168._ModuleSupport.isGradientFill(M.fill)&&(M.fill={...M.fill,gradient:"linear",rotation:0,reverse:!1});const N=g?{marker:M}:void 0;return this.formatTooltipWithContext(h,{title:a!=null?u[a]:void 0,symbol:N,data:y},{seriesId:t,datum:u,title:void 0,depth:d,labelKey:a,secondaryLabelKey:s,childrenKey:o,sizeKey:r,sizeName:n,colorKey:l,colorName:c,...S})}computeFocusBounds(e){return Transformable4.toCanvas(this.contentGroup,e.getBBox())}};TreemapSeries.className="TreemapSeries",TreemapSeries.type="treemap";var import_ag_charts_community169=require("ag-charts-community"),import_ag_charts_core57=require("ag-charts-core"),{commonSeriesOptionsDefs:commonSeriesOptionsDefs23,treemapSeriesThemeableOptionsDef,without:without6}=import_ag_charts_community169._ModuleSupport,treemapSeriesOptionsDef={...treemapSeriesThemeableOptionsDef,...without6(commonSeriesOptionsDefs23,["highlightStyle"]),type:(0,import_ag_charts_core57.required)((0,import_ag_charts_core57.constant)("treemap")),labelKey:import_ag_charts_core57.string,secondaryLabelKey:import_ag_charts_core57.string,childrenKey:import_ag_charts_core57.string,sizeKey:import_ag_charts_core57.string,colorKey:import_ag_charts_core57.string,sizeName:import_ag_charts_core57.string,colorName:import_ag_charts_core57.string};treemapSeriesOptionsDef.fillGradientDefaults=(0,import_ag_charts_core57.undocumented)(import_ag_charts_core57.fillGradientDefaults),treemapSeriesOptionsDef.fillPatternDefaults=(0,import_ag_charts_core57.undocumented)(import_ag_charts_core57.fillPatternDefaults),treemapSeriesOptionsDef.fillImageDefaults=(0,import_ag_charts_core57.undocumented)(import_ag_charts_core57.fillImageDefaults),treemapSeriesOptionsDef.undocumentedGroupFills=(0,import_ag_charts_core57.undocumented)((0,import_ag_charts_core57.arrayOf)(import_ag_charts_core57.color)),treemapSeriesOptionsDef.undocumentedGroupStrokes=(0,import_ag_charts_core57.undocumented)((0,import_ag_charts_core57.arrayOf)(import_ag_charts_core57.color));var{FONT_SIZE_RATIO:FONT_SIZE_RATIO3}=import_ag_charts_community170._ModuleSupport,TreemapModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["hierarchy"],identifier:"treemap",moduleFactory:e=>new TreemapSeries(e),tooltipDefaults:{range:"exact"},solo:!0,themeTemplate:{series:{fills:{$palette:"fills"},strokes:{$palette:"strokes"},colorRange:{$palette:"divergingColors"},fillGradientDefaults:{type:"gradient",gradient:"linear",bounds:"item",colorStops:{$palette:"gradient"},rotation:0,reverse:!1},fillPatternDefaults:import_ag_charts_community170._ModuleSupport.FILL_PATTERN_DEFAULTS,fillImageDefaults:import_ag_charts_community170._ModuleSupport.FILL_IMAGE_DEFAULTS,undocumentedGroupFills:{$palette:"hierarchyColors"},undocumentedGroupStrokes:{$palette:"secondHierarchyColors"},group:{label:{enabled:!0,color:{$ref:"textColor"},fontStyle:void 0,fontWeight:{$ref:"fontWeight"},fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},spacing:4},fill:void 0,stroke:void 0,strokeWidth:1,padding:4,gap:2,textAlign:"left"},tile:{label:{enabled:!0,color:{$ref:"backgroundColor"},fontStyle:void 0,fontWeight:{$ref:"fontWeight"},fontSize:{$rem:[1.5]},minimumFontSize:{$rem:[FONT_SIZE_RATIO3.SMALLER]},fontFamily:{$ref:"fontFamily"},wrapping:"on-space",overflowStrategy:"ellipsis",spacing:2},secondaryLabel:{enabled:!0,color:{$ref:"backgroundColor"},fontStyle:void 0,fontWeight:void 0,fontSize:{$ref:"fontSize"},minimumFontSize:{$rem:[FONT_SIZE_RATIO3.SMALLER]},fontFamily:{$ref:"fontFamily"},wrapping:"never",overflowStrategy:"ellipsis"},fill:void 0,stroke:void 0,strokeWidth:0,padding:3,gap:1},highlightStyle:{group:{label:{color:{$ref:"textColor"}},fill:"rgba(255,255,255, 0.33)",stroke:"rgba(0, 0, 0, 0.4)",strokeWidth:2},tile:{label:{color:{$ref:"backgroundColor"}},secondaryLabel:{color:{$ref:"backgroundColor"}},fill:"rgba(255,255,255, 0.33)",stroke:"rgba(0, 0, 0, 0.4)",strokeWidth:2}}},gradientLegend:{enabled:!0}}},TreemapSeriesModule={type:"series",name:"treemap",chartType:"hierarchy",enterprise:!0,options:treemapSeriesOptionsDef,create:e=>new TreemapSeries(e)},ModuleRegistry=import_ag_charts_community171._ModuleSupport.ModuleRegistry,AllCartesianEnterpriseModules=[OrdinalTimeAxisModule,BoxPlotSeriesModule,CandlestickSeriesModule,ConeFunnelSeriesModule,FunnelSeriesModule,HeatmapSeriesModule,OhlcSeriesModule,RangeAreaSeriesModule,RangeBarSeriesModule,WaterfallSeriesModule],AllPolarEnterpriseModules=[AngleNumberAxisModule,AngleCategoryAxisModule,RadiusNumberAxisModule,RadiusCategoryAxisModule,NightingaleSeriesModule,RadarAreaSeriesModule,RadarLineSeriesModule,RadialBarSeriesModule,RadialColumnSeriesModule],AllFlowProportionEnterpriseModules=[FlowProportionChartModule,ChordSeriesModule,SankeySeriesModule],AllGaugeEnterpriseModules=[GaugeChartModule,LinearGaugeSeriesModule,RadialGaugeSeriesModule],AllHierarchyEnterpriseModules=[HierarchyChartModule,SunburstSeriesModule,TreemapSeriesModule],AllStandaloneEnterpriseModules=[StandaloneChartModule,PyramidSeriesModule],AllTopologyEnterpriseModules=[TopologyChartModule,MapLineSeriesModule,MapLineBackgroundSeriesModule,MapMarkerSeriesModule,MapShapeSeriesModule,MapShapeBackgroundSeriesModule],AllEnterpriseModules=[...AllCartesianEnterpriseModules,...AllPolarEnterpriseModules,...AllFlowProportionEnterpriseModules,...AllGaugeEnterpriseModules,...AllHierarchyEnterpriseModules,...AllStandaloneEnterpriseModules,...AllTopologyEnterpriseModules,AnnotationsModule,NavigatorModule,InitialStateModule];
